(this.webpackJsonppasino=this.webpackJsonppasino||[]).push([[10],{1003:function(e,t,a){e.exports={mainWrapperPadding:"10px",desktopHeaderSize:"64px",bottomButtonsSize:"60px",desktopChatWidth:"310px",swipedChatWidth:"960px",arrBlockWidth:"12px",headerHeight:"60px",inputPadding:"16px",chatPadding:"16px",inputHeight:"56px",chatWidth:"280px",spacing:"8px",mobileScreen:"600px",feyorraDisableSize:"1080px",lines:"style_lines__OzPRG",linesBox:"style_linesBox__10H2A",line:"style_line__22RSl"}},1005:function(e,t,a){e.exports={box:"crash_box__1582c",loaderWrapper:"crash_loaderWrapper__1XtDA",disabled:"crash_disabled__g5vql"}},169:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return v}));var s=a(5),i=a(1),r={gameCircleListener:function(){return null},gameUsersListener:function(){return null},statisticsHistoryListener:function(){return null},crashMainHistoryListener:function(){return null},profitTableListener:function(){return null},managerListener:function(){return null},historyListener:function(){return null},ping:0},n=[],o=Object(i.createTimeouts)(),c=o.clearTimeouts,h=o.pushTimeout,u=null,d=function(e,t){u!==e&&(u=e,t&&t())},l=document.getElementById("crashPing"),m=2e3,p=function(){var e=Date.now(),t=Math.max(e-r.ping-100,0);return l?(l.innerText="Ping: ".concat(t),l.style.display=t<=200?"none":"inline",l.style.color=t>500?"darkred":"",t>=m&&(l.innerText="Connection lost")):l=document.getElementById("crashPing"),t},v=function(e){c();var t=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600;h((function(){p()<m?e():r.managerListener({method:"offline"})}),t)};switch("crashed"===e.method?(c(),t(5e3)):"crash_update"===e.action&&(n.forEach((function(e){return clearInterval(e)})),n.length=0,t(),("new_round"!==e.method||"new_round"===e.method&&Number(e.value)<5.8)&&p()),r.ping=Date.now(),r.managerListener({method:"online"}),e.action){case"crash_update":switch(e.method){case"crashed":d(e.method,(function(){r.managerListener({method:e.method})})),r.gameCircleListener({method:"crashed",value:e.value});var a=setInterval((function(){r.gameCircleListener({method:"crashed",value:e.value})}),200);n.push(a),r.profitTableListener({method:"crashed"}),r.historyListener({method:"crashed",round:{crash_point:e.value,seed:e.server_seed,id:e.id}});var i={method:"crashed",round:{id:e.id,crash_point:e.value,seed:e.server_seed}};r.statisticsHistoryListener(i),r.crashMainHistoryListener(i);break;case"new_round":d(e.method,(function(){r.managerListener({method:e.method})})),r.gameCircleListener({method:"new_round",time:Date.now()-1e3*Number(e.value),value:e.value});break;case"bet_cashedout":case"bet_played":r.managerListener({method:e.method,balance:e.balance,error:e.error});break;case"new_bet":r.gameUsersListener({method:"new_bet",bet:{profit:"",user_id:e.user_id,user_name:e.user_name,cashed_out_at:e.cashed_out_at}}),r.profitTableListener(Object(s.a)({method:"new_bet"},e));break;case"new_bet_finalized":r.managerListener({method:"new_bet_finalized",coin:e.coin,profit:e.profit,amount:e.bet_amt});break;case"start_game":r.gameCircleListener({method:"start_game"});break;case"update_value":d(e.method,(function(){r.managerListener({method:e.method})})),r.gameCircleListener({method:"update_value",value:e.value,actualGameTime:e.time,startedTime:Date.now()-Number(e.time)});break;case"current_bets":var o={method:"current_bets",bets:e.bets};r.gameUsersListener(o),r.profitTableListener(o),r.managerListener(o);break;case"bet_cashedout_update":r.gameUsersListener({method:"bet_cashedout_update",user_id:e.user_id,profit:e.profit,at:e.at}),r.profitTableListener(Object(s.a)({method:"bet_cashedout_update"},e)),r.managerListener({method:"bet_cashedout_update",user_id:e.user_id});break;case"previous_rounds":r.historyListener({method:"previous_rounds",rounds:e.rounds});var u={method:"previous_rounds",rounds:e.rounds};r.statisticsHistoryListener(u),r.crashMainHistoryListener(u)}break;case"update_balance":break;case"update_coin_parameters":var l=Object(s.a)({},e);r.managerListener({method:"update_coin_parameters",coinPrice:l})}e.error}},384:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return l}));var s=a(12),i=a(16),r=a(1),n=a(18),o=a(385),c=function(e){var t=e.parameters.calculatedGamePayout-1,a=e.parameters,s=a.yStart,i=a.xStart,r=e.game.config,n=r.height,c=r.width,h=i*o.a.x,u=s*o.a.y,d=Number(c)-h,l=Number(n)-u,m=t<1?d*t+h-.5*i:Number(c)-.5*i,p=t<1?l*t+u:Number(n),v=Number(n)-p+s;return{x:m,y:v,dots:function(e,t,a){var s,i=e.game.config,r=i.height,n=(i.width,e.parameters.calculatedGamePayout-1),c=function(s,i,c,h){var u="x"===s?t:a,d="x"===s?t:a,l=function(e){var t=0;if(e&&(t=n*(i/e)),"x"===s){var a=d*(1-n),o=d*i;return a>o?a:o+t}var c=Number(r)-(Number(r)-d)*(1-2*n),h=Number(r)-(Number(r)-d)*i;return c<h?c:h+t};if(n<1||!c)return l();var m=e.parameters.yStart*o.a.y,p="x"===s?100:50,v="x"===s?u:Number(r)-m,f=c+n*(i/p);return h&&c===h.p0[s]&&(f=l(p)),f>=v&&(f=v),f},h=null===(s=e.state.graph)||void 0===s?void 0:s.graph.curveBezier,u=c("y",.15,null===h||void 0===h?void 0:h.p1.y,h),d=c("x",.4,null===h||void 0===h?void 0:h.p1.x,h),l=c("y",.35,null===h||void 0===h?void 0:h.p2.y,h),m=c("x",.75,null===h||void 0===h?void 0:h.p2.x,h);return{dot1:{x:d,y:u},dot2:{x:m,y:l},dot3:{x:m,y:l}}}(e,m,v)}},h=a(515),u=Object(n.a)(),d={white:{down:33791,up:16744055},dark:{down:16189375,up:127487},width:3},l=function(){function e(t){Object(s.a)(this,e),this.scene=void 0,this.graph=void 0,this.mask=void 0,this.dots=void 0,this.currentGraphPosition=[0,0],this.deactivated=!1;var a=Object(o.b)(t),i=a.graph,r=a.mask,n=a.dots;this.graph=i,this.mask=r,this.dots=n,this.scene=t}return Object(i.a)(e,[{key:"draw",value:function(){if(!(this.scene.parameters.calculatedGamePayout>100&&this.deactivated)){var e=c(this.scene),t=e.x,a=e.y,s=e.dots;if(this.currentGraphPosition=[t,a],this.graph.curveBezier.p1=new Phaser.Math.Vector2(s.dot1.x,s.dot1.y),this.graph.curveBezier.p2=new Phaser.Math.Vector2(s.dot2.x,s.dot2.y),this.graph.curveBezier.p3=new Phaser.Math.Vector2(t,a),this.graph.line.clear(),this.graph.line.lineStyle(d.width,d.dark.up),this.graph.curveBezier.draw(this.graph.line),u&&this.dots.length)try{this.dots[0]&&(this.dots[0].x=this.graph.curveBezier.p1.x,this.dots[0].y=this.graph.curveBezier.p1.y),this.dots[1]&&(this.dots[1].x=this.graph.curveBezier.p2.x,this.dots[1].y=this.graph.curveBezier.p2.y),this.dots[2]&&(this.dots[2].x=s.dot3.x,this.dots[2].y=s.dot3.y)}catch(n){var i;console.error("curveBezier dots: ",s,this.dots),null===(i=Object(r.track)())||void 0===i||i.errors(n,{custom:{place:"crash graph error",calculatedDots:JSON.stringify(s),gameDots:JSON.stringify(this.dots)}})}Object(h.a)(this.scene,this.graph.head,this.currentGraphPosition,s.dot3)}}},{key:"hide",value:function(){this.deactivated=!0,this.graph.head.setAlpha(0),this.mask.background.setAlpha(0),this.graph.line.setAlpha(0)}},{key:"show",value:function(){this.deactivated=!1,this.graph.head.setAlpha(1),this.mask.background.setAlpha(1),this.graph.line.setAlpha(1)}}]),e}()},385:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var s=a(384),i={x:1.5,y:3},r=function(e,t){var a=e.parameters,r=a.yStart,n=a.xStart,o=[new Phaser.Math.Vector2(n*i.x-.5*n,Number(e.game.config.height)-r*i.y+r),new Phaser.Math.Vector2(Number(e.game.config.width),0)],c=[new Phaser.Math.Vector2(200,200),new Phaser.Math.Vector2(100,200)],h=e.add.graphics(),u=new Phaser.Curves.CubicBezier(o[0],c[0],c[1],o[1]),d=function(e,t){var a=Number(e.game.config.width),i=Number(e.game.config.height),r=new Phaser.Geom.Rectangle(0,0,a,i),n=t.createGeometryMask(),o=e.add.graphics().fillRectShape(r).setMask(n);return o.clear(),o.fillGradientStyle(s.b[e.state.engine.theme].down,s.b[e.state.engine.theme].up,s.b[e.state.engine.theme].down,s.b[e.state.engine.theme].up),o.fillRect(0,0,a,i),{geom:n,background:o}}(e,h),l=[],m=e.add.sprite(0,0,"head").setAngle(45).setAlpha(1).setDepth(3).setOrigin(.75,.3).setTintFill(s.b[e.state.engine.theme].up);return t&&(l.push(e.add.circle(u.p1.x,u.p1.y,5,65280)),l.push(e.add.circle(u.p2.x,u.p2.y,5,16776960)),l.push(e.add.circle(u.p2.x,u.p2.y,5,16711935))),{graph:{line:h,curveBezier:u,head:m},mask:d,dots:l}}},515:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return o}));var s=a(121),i=a(385),r={isFirstLoad:!0},n=function(e){r.isFirstLoad=e},o=function(e,t,a,n){var o=e.parameters.calculatedGamePayout,c={x:t.x,y:t.y};if(o<1.05){var h=e.game.config,u=h.width,d=h.height,l=e.parameters,m=l.yStart,p=l.xStart,v=Number(e.game.config.height)-m*i.a.y+m,f=p*i.a.x-.5*p;n.x-=0,n.y+=Number(d),c.x=Number(u)-f,c.y=v}var b=function(e,t){var a={x:e.x-t.x,y:e.y-t.y};return Math.atan2(a.x,a.y)*(180/3.14)-130}(c,n),y=2;o<1.3&&!r.isFirstLoad?y=.25:o>1.3&&r.isFirstLoad&&(r.isFirstLoad=!1);var g=Math.floor(-b-t.angle);(g<-1||g>1)&&(-b>t.angle?t.setAngle(t.angle+y):-b<t.angle&&t.setAngle(t.angle-y)),t.setPosition.apply(t,Object(s.a)(a)),t.setDepth(100)}},516:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c}));var s=a(12),i=a(16),r=JSON.parse(localStorage.getItem("isShowCrashEffect")||"true"),n=function(e){return r=e},o=function(e){var t=e.config.width/e.video.width,a=e.config.height/e.video.height;return Math.max(t,a)},c=function(){function e(t){Object(s.a)(this,e),this.scene=void 0,this.videos={},this.scene=t}return Object(i.a)(e,[{key:"lazyLoading",value:function(e,t){var a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{loop:!0};this.videos[e]=null;var i=this.scene.isLocal?"dark":this.scene.state.engine.theme,r={x:Number(this.scene.game.config.width)/2,y:Number(this.scene.game.config.height)/2},n="assets/crash/video/".concat(i,"/").concat(t),c="dark"===i?Phaser.BlendModes.SCREEN:Phaser.BlendModes.MULTIPLY,h=new Phaser.Loader.LoaderPlugin(this.scene);h.video(e,n),h.on(Phaser.Loader.Events.COMPLETE,(function(){if(!a.videos[e]){var t,i,n;a.videos[e]=a.scene.add.video(r.x,r.y,e).setBlendMode(c).setMute(!0).setAlpha(0).play(s.loop).setPaused(!1).setOrigin(.5).setAlpha(0).on("play",(function(){var t;null===(t=a.videos[e])||void 0===t||t.setAlpha(1)}));var h,u=o({video:{height:(null===(t=a.videos[e])||void 0===t?void 0:t.height)||0,width:(null===(i=a.videos[e])||void 0===i?void 0:i.width)||0},config:{height:Number(a.scene.game.config.height),width:Number(a.scene.game.config.width)}});if(null===(n=a.videos[e])||void 0===n||n.setScale(u),!s.loop)null===(h=a.videos[e])||void 0===h||h.on("complete",(function(){var t;null===(t=a.videos[e])||void 0===t||t.setPaused(!0).setAlpha(0).setCurrentTime(0)}))}})),h.start()}},{key:"listener",value:function(e,t){var a,s,i,n,o,c=this;if(r||this.scene.isLocal){var h=function(e){var t,a,s;!c.videos[e]||1===(null===(t=c.videos[e])||void 0===t?void 0:t.alpha)&&(null===(a=c.videos[e])||void 0===a?void 0:a.isPlaying())?"object"!==typeof c.videos[e]&&c.scene.state.videos.lazyLoading("".concat(e),"".concat(e,".mp4"),{loop:!1}):null===(s=c.videos[e])||void 0===s||s.setCurrentTime(0).setPaused(!1).play().setAlpha(1).setDepth(2)};switch(e){case"update_value":var u;if(!this.videos.loop500&&this.videos.stars&&1!==this.videos.stars.alpha)null===(u=this.videos.stars)||void 0===u||u.setCurrentTime(0).setPaused(!1).setAlpha(1).play(!0);else"object"!==typeof this.videos.stars&&this.scene.state.videos.lazyLoading("stars","stars.mp4");switch(Number(Math.floor(t).toFixed())){case 2:if(t>2.5)break;case 5:case 10:case 20:h("p0_20");break;case 30:case 100:case 250:case 500:h("p25_500");break;default:if(t>500){var d,l,m;if(this.videos.loop500&&1!==this.videos.loop500.alpha){if(null===(d=this.videos.loop500)||void 0===d||d.setPaused(!1).setAlpha(1),0!==(null===(l=this.videos.stars)||void 0===l?void 0:l.alpha))null===(m=this.videos.stars)||void 0===m||m.setPaused(!0).setAlpha(0)}else"object"!==typeof this.videos.loop500&&this.scene.state.videos.lazyLoading("loop500","loop500.mp4");t>1e3&&(t>1e3&&t<1010||t>5e3&&t<5100||t>8e3)&&h("p1000_")}}break;default:case"crashed":case"new_round":var p,v,f,b,y;if(0!==(null===(a=this.videos.stars)||void 0===a?void 0:a.alpha))null===(p=this.videos.stars)||void 0===p||p.setAlpha(0).setCurrentTime(0).setPaused(!0);if(0!==(null===(s=this.videos.loop500)||void 0===s?void 0:s.alpha))null===(v=this.videos.loop500)||void 0===v||v.setAlpha(0).setCurrentTime(0).setPaused(!0).destroy(),delete this.videos.loop500;if(0!==(null===(i=this.videos.p0_20)||void 0===i?void 0:i.alpha))null===(f=this.videos.p0_20)||void 0===f||f.setAlpha(0).setCurrentTime(0).setPaused(!0);if(0!==(null===(n=this.videos.p25_500)||void 0===n?void 0:n.alpha))null===(b=this.videos.p25_500)||void 0===b||b.setAlpha(0).setCurrentTime(0).setPaused(!0).destroy(),delete this.videos.p25_500;if(0!==(null===(o=this.videos.p1000_)||void 0===o?void 0:o.alpha))null===(y=this.videos.p1000_)||void 0===y||y.setAlpha(0).setCurrentTime(0).setPaused(!0).destroy(),delete this.videos.p1000_}}}}]),e}()},566:function(e,t,a){"use strict";a.d(t,"a",(function(){return B}));var s,i=a(12),r=a(16),n=a(40),o=a(38),c=a(39),h=a(339),u=function(e,t,a){if(a){if("y"===t)return"1.00x";if("string"===typeof e)return""}return"string"===typeof e?e:"x"===t?"".concat(b.defaultTime*e):"".concat((b.defaultPayout*e+1).toFixed(2),"x")},d=function(e,t,a,s){return"y"===e?s[t-1]:a},l=function(e){return"y"===e?b.payoutValues:b.textValues},m=function(e,t){return l(e).map((function(a,s,i){var r=d(e,s,a,i),n=function(e,t,a,s){var i=5*t.parameters.yStart,r=t.parameters.xStart,n=Number(t.game.config.width),o=Number(t.game.config.height),c=b["".concat(e,"Multiplier")][a];return{x:"x"===e?n*c-r:0,y:"y"===e?o*c-i:o-i/2,text:u(s,e,"y"===e?0===a:n<530)}}(e,t,s,r),o=n.x,c=n.y,h=n.text;return t.add.text(o,c,h,t.state.axes.state.dotStyle)}))},p=function(e,t){var a=l(e);t.forEach((function(t,s){var i=d(e,s,a[s],a),r=u(i,e,"y"===e?0===s:window.innerWidth<600);t.setText(r)}))},v=function(e,t){var a=t?0:1;e.forEach((function(e){return e.setAlpha(a)}))},f={white:"#555476",dark:"#bd9cff"},b={payoutValues:[.2,.4,.6,.9,1],textValues:[1,.8,.6,.4,.2,"0"],xMultiplier:[.966,.83,.664,.498,.332,.166],yMultiplier:[1,.8,.6,.4,.2],defaultPayout:1,defaultTime:10},y=function(){function e(t){Object(i.a)(this,e),this.scene=void 0,this.axes={x:[],y:[]},this.state={payoutSeparation:0,dotStyle:{fontFamily:"Gilroy, sans-serif",fontWeight:"800",fontSize:"20px",color:f.dark},millisecondsSeparation:0},this.deactivated=!1,this.scene=t}return Object(r.a)(e,[{key:"create",value:function(){this.axes.y=m("y",this.scene),this.axes.x=m("x",this.scene)}},{key:"draw",value:function(e){var t=this,a=this.scene.parameters.calculatedGamePayout-1;if(this.state.dotStyle.color!==f[this.scene.state.engine.theme])for(var s in this.state.dotStyle.color=f[this.scene.state.engine.theme],this.axes){var i=this.axes[s];null===i||void 0===i||i.forEach((function(e){e.setColor(t.state.dotStyle.color)}))}if(!(this.deactivated||a<1||function(e){return e%2===0}(Math.round(e)))){this.axes.y.forEach((function(e,t){var s=b.payoutValues[t];if("number"===typeof s)switch(t){case 0:s*=.3;break;case 1:s*=.7}"number"===typeof s&&e.setText("".concat((a*s+1).toFixed(2),"x"))}));var r=this.scene.parameters.currentTime/1e3;r>10&&this.axes.x.forEach((function(e,t){var a=b.textValues[t];"number"===typeof a&&e.setText((r*a).toFixed(0))}))}}},{key:"hide",value:function(){this.deactivated=!0,p("y",this.axes.y),p("x",this.axes.x),v(this.axes.y,!0),v(this.axes.x,!0)}},{key:"show",value:function(){this.deactivated=!1,v(this.axes.y,!1),v(this.axes.x,!1)}}]),e}(),g=a(384);!function(e){e.promo="/crash-promo"}(s||(s={}));var x=1,w=function(){function e(t,a){if(Object(i.a)(this,e),this.scene=void 0,this.isLocal=void 0,this.startedTime=void 0,this.textElement=document.getElementById("crash-payout-text"),this.timeToStart=-1,this.defaultTimeValue=6,this.scene=t,this.isLocal=a,this.startedTime=Date.now(),this.textElement){var s=this.textElement.classList,r=a?"canvasTextGilroy":"canvasTextVarela";s.contains(r)||s.add(r)}}return Object(r.a)(e,[{key:"createPayoutText",value:function(e,t){var a=Number(e).toFixed(2);if(!this.isLocal){var s=t?2:1,i=Number(this.scene.parameters.webGamePayout).toFixed(2),r=i.slice(0,i.length-s),n=a.slice(a.length-s,a.length);return"".concat(r).concat(n)}return a}},{key:"draw",value:function(){if(this.textElement){switch(this.scene.parameters.gameCircle){case"loading":this.textElement.style.left="auto";break;case"update_value":this.isLocal||0===this.scene.parameters.currentTime||this.textElement.classList.contains("crashGameAnimation")||(this.textElement.style.animationDelay="-".concat(this.scene.parameters.currentTime,"ms"),this.textElement.classList.add("crashGameAnimation")),6!==this.timeToStart&&(this.timeToStart=6);var e="";e=!this.isLocal&&Number(this.scene.parameters.webGamePayout)<3?"".concat(this.scene.parameters.webGamePayout,"x"):"".concat(this.createPayoutText(this.scene.parameters.calculatedGamePayout,!this.isLocal&&Number(this.scene.parameters.webGamePayout)>30),"x"),this.textElement.innerHTML!==e&&(this.textElement.innerHTML=e);break;case"crashed":x=0;var t="Crashed @ ".concat(this.isLocal?this.scene.parameters.calculatedGamePayout.toFixed(2):this.scene.parameters.webGamePayout,"x");this.textElement.innerHTML!==t&&(this.textElement.innerHTML=t),this.timeToStart=-1,this.textElement.classList.remove("crashGameAnimation"),this.textElement.style.left="auto";break;case"new_round":this.scene.parameters.calculatedGamePayout=1,this.timeToStart=this.isLocal?Date.now()-this.startedTime:Date.now()-this.scene.state.socket.state.newRoundTime;var a=this.isLocal?Math.abs(Number(this.defaultTimeValue/2-this.timeToStart/1e3)):.11*++x,s="Starts in ".concat(this.createPayoutText(a));this.timeToStart<0&&(this.timeToStart=0),this.textElement.innerHTML!==s&&(this.textElement.innerHTML=s)}if(this.isLocal){var i,r=(null===(i=this.textElement.innerHTML.match(/[^\s]/g))||void 0===i?void 0:i.length)||0,n=parseFloat(window.getComputedStyle(this.textElement).getPropertyValue("font-size")),o=r?r/2*(n/2):0;this.timeToStart<=.1&&-1!==this.timeToStart?(o=0,this.textElement.style.transform="translateX(-50%)",this.textElement.style.left=""):this.textElement.style.transform="",this.textElement.style.left="calc(50% - ".concat(o,"px)")}}}}]),e}(),_=a(169),L=a(1),T=a(18);var k=Object(T.a)(),j=function(){function e(t,a){Object(i.a)(this,e),this.scene=void 0,this.isLocal=void 0,this.socketStarted=!1,this.isTimeSet=!1,this.state={currentTime:-1,currentValue:1,newRoundTime:-1,startedTime:0,process:"update_value",path:window.location.pathname},this.between=k?9500:Object(L.between)(7e3,1e4)/100,this.scene=t,this.isLocal=a}return Object(r.a)(e,[{key:"listener",value:function(){switch(this.isLocal&&(Number(3-this.scene.state.payoutText.timeToStart/1e3)<=0&&(this.scene.parameters.gameCircle="update_value",this.scene.state.payoutText.timeToStart=-1,this.state.startedTime=this.scene.savedTime=Date.now()),"update_value"===this.scene.parameters.gameCircle&&this.scene.parameters.calculatedGamePayout>=this.between&&(this.scene.state.payoutText.timeToStart=-1,this.state.currentValue=this.between,this.scene.parameters.gameCircle="crashed")),this.scene.parameters.gameCircle){case"crashed":this.scene.parameters.calculatedGamePayout=this.state.currentValue,this.state.newRoundTime=-1,this.scene.parameters.isGameHidden||this.scene.crashed();break;case"update_value":this.scene.savedTime=this.state.startedTime,this.scene.parameters.isGameHidden&&this.state.currentValue>=1.01&&this.scene.restart(),function(e){var t=document.querySelector(".crash-pay-button");try{if(t){var a=localStorage.getItem("crashBet");if(a){var s=JSON.parse(a),i=Number(s.amt)*Number(e)-Number(s.amt),r="".concat(Number(i).toFixed(8)," ").concat(s.coin);t.innerHTML=r}}}catch(c){var n="\n      ".concat(null===c||void 0===c?void 0:c.stack,"\n      calculateButton\n      localStorage: ").concat(JSON.stringify(localStorage));try{var o;null===(o=Object(L.track)())||void 0===o||o.errors(n)}catch(h){console.log("\ud83d\ude80 trackError",c)}}}(Number(this.scene.parameters.webGamePayout));break;case"new_round":this.scene.parameters.isGameHidden||this.scene.crashed()}}},{key:"getMessages",value:function(){var e=this;if(this.isLocal)this.scene.parameters.gameCircle="new_round",this.state.currentValue=6;else{_.b.gameCircleListener=function(t){switch(t.method){case"update_value":e.scene.parameters.gameCircle!==t.method&&(e.scene.parameters.gameCircle=t.method,e.state.currentTime=Number(t.actualGameTime),e.state.currentValue=Number(t.value),e.state.startedTime=t.startedTime),e.scene.parameters.webGamePayout=t.value;break;case"crashed":e.scene.parameters.gameCircle!==t.method&&(e.scene.parameters.gameCircle=t.method,e.state.currentValue=Number(t.value)),e.scene.parameters.webGamePayout=t.value;break;case"new_round":e.scene.parameters.gameCircle!==t.method&&(e.scene.parameters.gameCircle=t.method,-1===e.state.newRoundTime&&(e.state.newRoundTime=t.time,e.scene.state.payoutText.defaultTimeValue=Number(t.value))),e.scene.parameters.webGamePayout=t.value}},_.b.gameUsersListener=this.scene.state.users.createPlayerListener()}}}]),e}(),O=a(5),P=a(15),S=null,N={},C=function(){function e(t){Object(i.a)(this,e),this.scene=void 0,this.listenerUserList={},this.winnersUsers={},this.winnerList={},this.userTextStyles={fontSize:"0.625rem",color:"white"},this.scene=t}return Object(r.a)(e,[{key:"watch",value:function(){this.playersListListener(),this.newWinnerListener(),this.winnersListener(),"crashed"===this.scene.parameters.gameCircle&&this.clear()}},{key:"clear",value:function(){for(var e in this.winnersUsers){var t;if(this.winnersUsers[e])null===(t=this.winnersUsers[e].body)||void 0===t||t.destroy(),delete this.winnersUsers[e],delete this.winnerList[e]}S=null,N={},this.winnerList={}}},{key:"playersListListener",value:function(){if(N!==this.listenerUserList){for(var e in this.listenerUserList){var t,a=this.winnersUsers[e];if(a)null===(t=a.body)||void 0===t||t.destroy(),delete this.winnersUsers[e],delete this.winnerList[e]}this.listenerUserList=N}}},{key:"newWinnerListener",value:function(){S&&(this.winnerList[S.id]=S,S=null)}},{key:"winnersListener",value:function(){var e=this;Object.values(this.winnerList).forEach((function(t){var a,s,i=t.at,r=t.id,n=e.listenerUserList[r],o=null===(a=e.scene.state.graph)||void 0===a?void 0:a.currentGraphPosition;if(n&&o&&!(null===(s=e.winnersUsers[r])||void 0===s?void 0:s.body)){var c=Object(P.a)(o,2),h=c[0],u=c[1],d=e.scene.game.config,l=d.height,m=d.width,p=e.scene.add.text(h>Number(m)/2?h-50:h+100,u,"".concat(n.user_name," @").concat(Object(L.replaceNumbers)("".concat(i)),"x"),e.userTextStyles).setOrigin(1,.5),v=e.scene.tweens.add({targets:p,y:l,x:100,alpha:0,duration:2500,ease:"Cubic.easeIn"});v.on("complete",(function(){try{null===p||void 0===p||p.destroy(),delete e.winnersUsers[r],delete e.winnerList[r]}catch(s){var t,a="\n              error on tween destroy:\n              user: ".concat(e.winnersUsers[r].user_name," /\n              ").concat(JSON.stringify(e.winnersUsers),"\n            ");console.error(a),null===(t=Object(L.track)())||void 0===t||t.errors(s,{custom:{errorMessage:a}})}})),e.winnersUsers[r]=Object(O.a)(Object(O.a)({},n),{},{y:u,body:p,tween:v})}}))}},{key:"createPlayerListener",value:function(){return function(e){switch(e.method){case"current_bets":!function(e){for(var t in N={},e){var a=e[t];a&&(N[a.user_id]={profit:a.profit||null,user_id:a.user_id,user_name:a.user_name,cashed_out_at:a.cashed_out_at||""})}}(e.bets);break;case"bet_cashedout_update":a=e.user_id,s=e.at,S={at:s,id:a};break;case"new_bet":t=e.bet,N[t.user_id]=t}var t,a,s}}}]),e}(),G=[{method:"image",data:[["head","/assets/crash/imgs/head.png"]]},{method:"css",data:[["Gilroy","/assets/crash/css/crash.css"]]}];function E(e){var t=this;e.forEach((function(e){var a=e.name,s=e.data;t[a]=s}))}var M=a(121);function A(e){var t=this;e.forEach((function(e){var a=e.method;e.data.forEach((function(e){var s;(s=t.load)[a].apply(s,Object(M.a)(e))}))}))}var H=function(){function e(t){Object(i.a)(this,e),this.scene=void 0,this.loader=void 0,this.objects=void 0,this.fpsDomObject=void 0,this.calculateValues={YAxisSizeMultiplier:2,XAxisPlotMinValue:1e4},this.theme="dark",this.onlineStatus="online",this.scene=t,this.objects={},this.loader={preload:A.bind(this.scene),addObjects:E.bind(this.objects)};var a=localStorage.getItem("color-scheme");this.theme="light"===a?"white":"dark"}return Object(r.a)(e,[{key:"showFps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e){var t=this.fpsDomObject;if(t){var a=this.scene.game.loop.actualFps;t.innerHTML=a.toFixed(1)}else this.fpsDomObject=document.querySelector("#crashFPS")}}},{key:"calcGamePayout",value:function(e,t){var a=100*Math.exp(6e-5*e)/100;a>=1.01&&this.scene.restart();var s=Number(this.scene.parameters.webGamePayout);return a>=1.01&&a-s>.5&&(a=t?a:s),a}}]),e}(),z=a(516),V=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state=void 0,r.savedTime=-1,r.parameters={plotHeight:10,plotWidth:40,xStart:40,yStart:10,gameCircle:"loading",calculatedGamePayout:1,webGamePayout:0,heightIncrement:0,currentTime:0,widthIncrement:0,isGameHidden:!1},r.isLocal=window.location.pathname===s.promo,r.state={engine:new H(Object(n.a)(r)),payoutText:new w(Object(n.a)(r),r.isLocal),axes:new y(Object(n.a)(r)),socket:new j(Object(n.a)(r),r.isLocal),users:new C(Object(n.a)(r)),videos:new z.a(Object(n.a)(r))},r}return Object(r.a)(a,[{key:"preload",value:function(){this.parameters.plotHeight=Number(this.game.config.height)-10,this.parameters.plotWidth=Number(this.game.config.width)-40,this.state.engine.loader.preload(G),this.state.axes.create(),this.state.axes.hide()}},{key:"create",value:function(){this.state.graph=new g.a(this),this.state.socket.getMessages(),this.crashed(),this.game.canvas.style.opacity="1"}},{key:"update",value:function(e,t){var a,s;this.state.videos.listener(this.parameters.gameCircle,this.parameters.calculatedGamePayout),null===(a=this.state.graph)||void 0===a||a.draw(),null===(s=this.state.axes)||void 0===s||s.draw(e),this.state.payoutText.draw(),this.timeCalculate(),this.parameters.calculatedGamePayout=this.state.engine.calcGamePayout(this.parameters.currentTime,this.isLocal),this.state.socket.listener(),this.state.users.watch()}},{key:"timeCalculate",value:function(){if("update_value"===this.parameters.gameCircle)if(this.savedTime>0){var e=Date.now()-this.savedTime;this.parameters.currentTime=e}else 0===this.savedTime&&(this.savedTime=Date.now());else this.savedTime=-1}},{key:"crashed",value:function(){var e,t;null===(e=this.state.graph)||void 0===e||e.hide(),this.savedTime=-1,this.parameters.currentTime=0,null===(t=this.state.axes)||void 0===t||t.hide(),this.parameters.isGameHidden=!0}},{key:"restart",value:function(){var e,t;null===(e=this.state.graph)||void 0===e||e.show(),null===(t=this.state.axes)||void 0===t||t.show(),this.parameters.isGameHidden=!1}}]),a}(h.Scene),B={type:Phaser.AUTO,scene:[V],width:1080,height:500,parent:"crash-app-box",dom:{createContainer:!1},audio:{disableWebAudio:!0},disableContextMenu:!1,backgroundColor:"#150a30",transparent:!1}},581:function(e,t,a){"use strict";var s=a(6),i=a(15),r=a(0),n=a.n(r),o=a(1),c=a(119),h=a(117),u=a(25),d=a(1003),l=a.n(d),m=function(){return Object(s.jsx)("section",{className:l.a.lines,children:Object(s.jsx)("div",{className:l.a.linesBox,children:Object(o.repeat)(11,(function(e){return Object(s.jsx)("div",{className:l.a.line},"lineNumber_".concat(e))}))})})},p=a(566),v=a(1005),f=a.n(v),b=n.a.lazy((function(){return Object(u.a)(Promise.all([a.e(25),a.e(116)]).then(a.bind(null,1397)))})),y=!1;window.disableCrashRender=function(){y=!y};var g=Object(o.createTimeouts)(),x=g.clearTimeouts,w=g.pushTimeout;t.a=function(e){var t=e.isShowEffects,a=Object(r.useRef)(null),n=Object(r.useState)(!1),u=Object(i.a)(n,2),d=u[0],l=u[1],v=Object(r.useState)(),g=Object(i.a)(v,2),_=g[0],L=g[1],T=Object(h.useOnline)(),k=Object(h.useWhiteTheme)().isWhiteThemeActive,j=Object(c.f)(),O=Object(c.p)().isHidden,P=Object(h.useWindowSize)().width,S=Object(h.useChat)().isHide,N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.current,t=p.a.width,s=p.a.height,i=e||{},r=i.offsetWidth,n=Math.min(((r||0)-20)/Number(t),1);L({wrapperStyles:{height:Object(o.rangeBetween)((Number(s)||150)*n,150,500)},scale:n})},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;x(),l(!1),w((function(){l(!0)}),e)};return Object(r.useLayoutEffect)((function(){N(),C(500)}),[T,k,j,O,P,S,t]),Object(r.useEffect)((function(){N()}),[d]),o.crashSocket.errorDispatch("app_reRender",(function(e){l(!1),console.log("Socket is stopped.\n        Reason: ".concat(e.reason,"\n        Code: ").concat(e.code));var t=setInterval((function(){1===o.crashSocket.status()&&(C(),clearInterval(t))}),50)})),Object(c.g)("keypress",(function(e){Object(o.isKeyboardEvent)(e)&&"*"===e.key&&e.shiftKey&&console.log("isOnline | scaleParams | render",T,_,d)})),Object(s.jsxs)("div",{ref:a,className:f.a.box,id:"crash-wrapper",style:null===_||void 0===_?void 0:_.wrapperStyles,children:[!y&&j&&Object(s.jsx)(r.Suspense,{fallback:Object(s.jsx)("div",{style:{height:100}}),children:Object(s.jsx)(b,{render:T&&_&&d,scale:null===_||void 0===_?void 0:_.scale})}),Object(s.jsx)(m,{})]})}}}]);
//# sourceMappingURL=10.50911b51.chunk.js.map