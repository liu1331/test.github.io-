(this.webpackJsonppasino=this.webpackJsonppasino||[]).push([[52],{1237:function(e,t,a){e.exports={root:"style_root__3dwcO",button:"style_button__G7ahq"}},1238:function(e,t,a){e.exports={root:"style_root__36vJg",transferButton:"style_transferButton__1NJ_J"}},1239:function(e,t,a){e.exports={root:"style_root__16B2J",input:"style_input__2GT1u",focused:"style_focused__2RpSm",marginOff:"style_marginOff__1LNzB"}},1240:function(e,t,a){e.exports={tabs:"style_tabs__XbzCt",button:"style_button__3Y-JD",active:"style_active__3tkYi"}},1241:function(e,t,a){e.exports={assetsRoot:"style_assetsRoot__2X2i4",title:"style_title__2ci16",assetsInfo:"style_assetsInfo__18JhO",assetsInfoTotal:"style_assetsInfoTotal__TXMU3",assetsInfoCoin:"style_assetsInfoCoin__119Fg",total:"style_total__3f9uU",loading:"style_loading__r-fkX"}},1242:function(e,t,a){e.exports={container:"style_container__2bKl-",title:"style_title__3Gxi-"}},1429:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(15),s=a(0),l=a.n(s),r=a(233),o=a(161),i=a(117),u=[{id:0,dataIndex:"in",tabTitleLocale:"wallet.vault.in",inputTitleLocale:"wallet.vault.amountIn"},{id:1,dataIndex:"out",tabTitleLocale:"wallet.vault.out",inputTitleLocale:"wallet.vault.amountOut"}],d=a(1237),b=a.n(d),f=function(e){var t=e.callback,a=void 0===t?function(){}:t,c=Object(i.useGetLocale)();return Object(n.jsxs)("div",{className:b.a.root,children:[Object(n.jsx)("div",{className:b.a.button,onClick:function(){return a("all")},children:c.formatMessage({id:"wallet.vault.all"})}),Object(n.jsx)("div",{className:b.a.button,onClick:function(){return a("min")},children:c.formatMessage({id:"wallet.vault.min"})})]})},j=a(116),_=a(1238),p=a.n(_),x={in:"wallet.vault.amountIn",out:"wallet.vault.amountOut"},O=function(){},m=function(e){var t=e.dataIndex,a=e.coin,l=e.fetchCallback,r=e.max,o=void 0===r?"0":r,u=e.min,d=void 0===u?"0":u,b=e.isHaveTfa,_=e.isVisiblePassword,m=Object(s.useRef)(),v=Object(s.useRef)(),h=Object(s.useState)(""),g=Object(c.a)(h,2),y=g[0],C=g[1],k=Object(s.useState)(""),B=Object(c.a)(k,2),N=B[0],I=B[1],W=Object(s.useState)(""),S=Object(c.a)(W,2),M=S[0],T=S[1],F=Object(i.useGetLocale)(),L=Object(s.useMemo)((function(){var e=function(e){switch(e){case"all":o&&C(o);break;case"min":d&&C(d)}};return{amountButtonsCallback:e,onBlur:function(e){var t=e.target.value;0!==t.length&&(e.target.readOnly=!0,C(+t>+o?Number(o).toFixed(8):+t<+d?Number(d).toFixed(8):Number(t).toFixed(8)))},handleChangePassword:function(e){T(e.target.value)},handleChangeTfa:function(e){I(e.target.value)},handleChangeAmount:function(e){e.preventDefault(),isNaN(+e.target.value)||C(e.target.value)},endAdornment:Object(n.jsx)(f,{callback:e})}}),[t,o]),P=L.endAdornment,z=L.onBlur,G=L.handleChangePassword,H=L.handleChangeTfa,R=L.handleChangeAmount;Object(s.useEffect)((function(){O=function(){v.current&&(C(""),I(""),T(""),v.current.querySelectorAll("input").forEach((function(e){e.value="",e.focus(),e.blur()})))}}),[]),Object(s.useEffect)((function(){0!==y.length&&C(d)}),[a,d]);return Object(n.jsxs)("form",{className:p.a.root,autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),a){var n={amount:y,coin:a};"out"===t&&(n.password=M,n.tfa_code=N),l(n)}},ref:function(e){return e&&(v.current=e)},children:[Object(n.jsx)(w,{id:"amount",onBlur:z,ref:m,label:F.formatMessage({id:x[t]}),value:y,onChange:R,endAdornment:P}),"out"===t?Object(n.jsxs)(n.Fragment,{children:[b?Object(n.jsx)(w,{type:"text",id:"tfa",label:F.formatMessage({id:"wallet.vault.tfa"}),value:N,onChange:H}):null,_?Object(n.jsx)(w,{type:"password",readOnly:!1,label:F.formatMessage({id:"wallet.vault.pass"}),value:M,onChange:G}):null]}):null,Object(n.jsx)(j.Button,{className:p.a.transferButton,type:"submit",disabled:function(){var e=!y||0===+o;return"out"!==t||e||(e=b&&!N||!M),e}(),children:F.formatMessage({id:"in"===t?"wallet.vault.transferIn":"wallet.vault.transferOut"}).toUpperCase()})]})},v=a(5),h=a(135),g=a(1239),y=a.n(g),w=l.a.memo((function(e){var t=Object.assign({},e);return Object(n.jsx)(h.d,Object(v.a)({readOnly:!0,autoComplete:"off",className:y.a.input,classes:{root:y.a.root,focused:y.a.focused},onBlur:function(e){return e.target.readOnly=!0},onFocus:function(e){return e.target.removeAttribute("readonly")}},t))})),C=a(118),k=a(1240),B=a.n(k),N=function(e){var t=e.selectedIndex,a=e.setSelectedIndex,c=Object(i.useGetLocale)();return Object(n.jsx)("div",{className:B.a.tabs,children:u.map((function(e,s){var l=e.tabTitleLocale;return Object(n.jsx)(j.Button,{className:Object(C.a)(B.a.button,[t===s&&B.a.active]),onClick:function(){return a(s)},children:Object(n.jsx)("span",{className:B.a.label,children:c.formatMessage({id:l})})},s)}))})},I=a(1241),W=a.n(I),S=l.a.memo((function(e){var t=e.coin,a=void 0===t?"BTC":t,l=e.fetch,r=e.fetchData,o=Object(s.useState)(!0),u=Object(c.a)(o,2),d=u[0],b=u[1],f=Object(s.useState)({coin_image:"https://cdn.pasino.com/coins/fey.png",coin_name:a,coin_symbol:"FEY",vault_balance:"0.00000000",vault_balance_usd:"0.00000000"}),_=Object(c.a)(f,2),p=_[0],x=_[1],O=Object(i.useGetLocale)();return Object(s.useEffect)((function(){a&&l({variables:{coin:a}})}),[a]),Object(s.useEffect)((function(){r.data?r.data&&(x(r.data.vault),b(!1)):b(!0)}),[r]),Object(n.jsxs)("div",{className:W.a.assetsRoot,children:[Object(n.jsx)("div",{className:W.a.title,children:O.formatMessage({id:"wallet.vault.assets"})}),d?Object(n.jsx)("div",{className:W.a.loading,children:Object(n.jsx)(j.CircularProgress,{circularWidth:2,size:70,color:"white"})}):Object(n.jsxs)("div",{className:W.a.assetsInfo,children:[Object(n.jsxs)("div",{className:W.a.assetsInfoCoin,children:[Object(n.jsx)("img",{src:p.coin_image,alt:""}),Object(n.jsx)("span",{children:p.coin_name})]}),Object(n.jsxs)("div",{className:W.a.assetsInfoTotal,children:[Object(n.jsx)("span",{className:W.a.total,children:O.formatMessage({id:"wallet.vault.total"})}),Object(n.jsx)("span",{children:"".concat(p.vault_balance," ").concat(p.coin_symbol," = ").concat(Number(p.vault_balance_usd).toFixed(2)||0," USDT")})]})]})]})})),M=a(119),T=a(3),F=a.n(T),L=a(10),P=a(120),z=a(1),G=function(e){var t=e.refetchCallback,a=void 0===t?function(){}:t,c=e.vaultBalance,l=Object(P.a)(e,["refetchCallback","vaultBalance"]),r=Object(M.d)().coinsList,o=Object(s.useCallback)((function(){var e=r.find((function(e){return e.coin===l.coin})),t="0.00001000",a=("in"===l.dataIndex?null===e||void 0===e?void 0:e.balance:c)||"0";return t>a&&(t=0===+a?(0).toFixed(8):a),{min:t,max:a}}),[r,l.coin,l.dataIndex,c]),i=function(){var e=Object(L.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.fetchBase)("vault/transfer-in",{variables:Object(v.a)({},t)});case 2:(n=e.sent).data&&n.data.success&&(j.notifyBarManager.success({message:"Success",timeOut:2e3}),M.b.coinValueUpdate(n.data.wallet_balance,n.data.coin),O(),a()),n.error&&j.notifyBarManager.error({message:n.error,timeOut:2e3});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(m,Object(v.a)(Object(v.a)({},l),{},{fetchCallback:i,max:o().max,min:o().min}))})},H=function(e){var t=e.refetchCallback,a=void 0===t?function(){}:t,c=e.vaultBalance,l=Object(P.a)(e,["refetchCallback","vaultBalance"]),r=Object(M.d)().coinsList,o=function(){var e=Object(L.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.fetchBase)("vault/transfer-out",{variables:Object(v.a)({},t)});case 2:(n=e.sent).data&&n.data.success&&(j.notifyBarManager.success({message:"Success",timeOut:2e3}),M.b.coinValueUpdate(n.data.wallet_balance,n.data.coin),O(),a()),n.error&&j.notifyBarManager.error({message:n.error,timeOut:2e3});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=Object(s.useCallback)((function(){var e="0.00000001",t=c||"0";return e>t&&(e=0===+t?(0).toFixed(8):t),{min:e,max:t}}),[r,l.coin,l.dataIndex,c]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(m,Object(v.a)(Object(v.a)({},l),{},{fetchCallback:o,max:i().max,min:i().min}))})},R=Object(s.memo)((function(e){var t=Object(M.h)("vault/get-status"),a=Object(c.a)(t,2),l=a[0],r=a[1];return Object(s.useEffect)((function(){l()}),[]),r.data?Object(n.jsx)(n.Fragment,{children:"in"===e.dataIndex?Object(n.jsx)(G,Object(v.a)(Object(v.a)({},e),{},{isHaveTfa:r.data.locked_with.tfa,isVisiblePassword:r.data.locked_with.password})):Object(n.jsx)(H,Object(v.a)(Object(v.a)({},e),{},{isHaveTfa:r.data.locked_with.tfa,isVisiblePassword:r.data.locked_with.password}))}):null})),D=a(1242),E=a.n(D);t.default=function(e){var t,a=e.currency,l=Object(i.useGetLocale)(),d=Object(s.useState)(0),b=Object(c.a)(d,2),f=b[0],j=b[1],_=Object(M.h)("vault/get-coin-content"),p=Object(c.a)(_,2),x=p[0],O=p[1];return"GEM"===a?Object(n.jsx)(r.a,{}):Object(n.jsx)(o.a,{children:Object(n.jsxs)("div",{className:E.a.container,children:[Object(n.jsx)("div",{className:E.a.title,children:l.formatMessage({id:"wallet.vault.title"}).toUpperCase()}),Object(n.jsx)(N,{selectedIndex:f,setSelectedIndex:j}),Object(n.jsx)(R,{vaultBalance:null===(t=O.data)||void 0===t?void 0:t.vault.vault_balance,dataIndex:u[f].dataIndex,coin:a,refetchCallback:function(){x({variables:{coin:a}})}}),Object(n.jsx)(S,{coin:a,fetch:x,fetchData:O})]})})}},161:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a(5);var n=a(6),c=(a(120),a(0),a(118),a(116),a(2),a(37),a(185)),s=a.n(c),l=function(e){var t=e.children;return Object(n.jsx)("div",{className:s.a.root,children:Object(n.jsx)("div",{className:s.a.innerWrapper,children:t})})};a(117),a(186)},185:function(e,t,a){e.exports={mainWrapperPadding:"10px",desktopHeaderSize:"64px",bottomButtonsSize:"60px",desktopChatWidth:"310px",swipedChatWidth:"960px",arrBlockWidth:"12px",headerHeight:"60px",inputPadding:"16px",chatPadding:"16px",inputHeight:"56px",chatWidth:"280px",spacing:"8px",mobileScreen:"600px",feyorraDisableSize:"1080px",root:"style_root__24w8e",innerWrapper:"style_innerWrapper__1VeHq",breadRoot:"style_breadRoot__st5_V",lists:"style_lists__1qszv",nested:"style_nested__dTcgd"}},186:function(e,t,a){e.exports={mainWrapperPadding:"10px",desktopHeaderSize:"64px",bottomButtonsSize:"60px",desktopChatWidth:"310px",swipedChatWidth:"960px",arrBlockWidth:"12px",headerHeight:"60px",inputPadding:"16px",chatPadding:"16px",inputHeight:"56px",chatWidth:"280px",spacing:"8px",mobileScreen:"600px",feyorraDisableSize:"1080px",currencyWrapper:"style_currencyWrapper__36ahs",labelWrapper:"style_labelWrapper__2NBou",label:"style_label__28cWk",value:"style_value__4Fn6l",buttonWrapper:"style_buttonWrapper__1Fw6Y",cell:"style_cell__1ZiRy",leftBlock:"style_leftBlock__1joOI",button:"style_button__gIwdI",grow:"style_grow__2dre5",iconWrapper:"style_iconWrapper__-UeO5",icon:"style_icon__2v723"}},233:function(e,t,a){"use strict";var n=a(6),c=(a(0),a(117)),s=a(161),l=a(234),r=a.n(l);t.a=function(){var e=Object(c.useGetLocale)();return Object(n.jsx)(s.a,{children:Object(n.jsx)("div",{className:r.a.text,children:e.formatMessage({id:"wallet.gemInfo"})})})}},234:function(e,t,a){e.exports={text:"style_text___Zl7R"}}}]);
//# sourceMappingURL=52.2288ecf7.chunk.js.map