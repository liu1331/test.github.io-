{"version":3,"sources":["components/ProductCard/ProductCard.module.css","redux/reducers/BasketReducer/BasketOrderType.ts","redux/reducers/BasketReducer/BasketReducer.tsx","types/discounts.ts","redux/reducers/ProductContentReducer/ProductType.ts","redux/reducers/ProductContentReducer/ProductContentReducer.tsx","redux/reducers/allActionCreators.tsx","hooks/useAC.tsx","components/Basket/Order.tsx","hooks/useTypedSelector.tsx","pages/Basket.tsx","hooks/useDiscount.tsx","components/ProductCard/ProductCardModal/ProductCardModal.tsx","routing/routes.ts","components/ProductCard/ProductCard.tsx","pages/ProductContent.tsx","components/AppRouter/AppRouter.tsx","components/Navbar/Navbar.tsx","App.tsx","redux/store.tsx","index.tsx"],"names":["module","exports","BasketActionName","InitalState","orders","totalPrice","DiscountName","ProductActionName","BasketActionCreators","setOrder","order","type","SET_ORDER","setOrders","SET_ORDERS","removeOrder","REMOVE_ORDER","setTotalPrice","SET_TOTAL_PRICE","localStorageOrders","dispatch","localStorage","getItem","json","JSON","parse","push","setItem","stringify","jsonTotalPrice","Number","acceptOrders","clear","deleteOrderThunk","i","length","productName","splice","InitialState","products","ProductActionCreactors","setProducts","SET_PRODUCTS","getProductsThunk","response","img","price","inBasket","discount","ON_3_KG","pushProduct","product","PUSH_PRODUCT","allActionCreators","useActionCreators","useDispatch","bindActionCreators","Order","props","countValue","className","src","alt","style","textAlign","marginRight","fontSize","fontWeight","color","CloseOutlined","onClick","cursor","UseTypedSelector","useSelector","Basket","state","storage","map","width","height","paddingTop","size","danger","Discount","RoutePath","ProductCardModal","useState","setCountValue","title","visible","isModalVisible","onOk","setIsModalVisible","okText","cancelText","onCancel","Value","newPrice","upValue","shape","icon","PlusOutlined","downValue","MinusOutlined","ProductCard","btn","setBtn","useEffect","j","showModal","item","hoverable","display","flexDirection","alignItems","flex","cover","CardImg","description","marginBottom","disabled","ProductContent","Routes","path","BASKET","component","exact","PRODUCT_CONTENT","AppRouter","route","to","Navbar","router","useHistory","Header","justify","align","theme","mode","selectable","Item","HomeOutlined","ShoppingOutlined","App","Reducers","combineReducers","action","e","filter","store","createStore","applyMiddleware","thunk","ReactDOM","render","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.8e2e8c50.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"CardImg\":\"ProductCard_CardImg__2bEm5\"};","import { IOrder } from './../../../types/order';\r\nexport interface IBasketState{\r\n    orders: IOrder[],\r\n    totalPrice: number\r\n}\r\n\r\nexport enum BasketActionName{\r\n    SET_ORDER= \"SET_ORDER\",\r\n    SET_ORDERS= \"SET_ORDERS\",\r\n    SET_TOTAL_PRICE= \"SET_TOTAL_PRICE\",\r\n    REMOVE_ORDER= \"REMOVE_ORDER\"\r\n}\r\n\r\nexport interface SetOrderAction{\r\n    type: BasketActionName.SET_ORDER\r\n    order: IOrder\r\n}\r\nexport interface SetOrdersAction{\r\n    type: BasketActionName.SET_ORDERS\r\n    orders: IOrder[]\r\n}\r\nexport interface removeOrder{\r\n    type: BasketActionName.REMOVE_ORDER\r\n    order: IOrder\r\n}\r\nexport interface setTotalPrice{\r\n    type: BasketActionName.SET_TOTAL_PRICE\r\n    totalPrice: number\r\n}\r\n\r\n\r\nexport type BasketActions = SetOrderAction | SetOrdersAction | removeOrder | setTotalPrice","import { IOrder} from \"../../../types/order\"\r\nimport { AppDispatch } from \"../../store\";\r\nimport { BasketActionName, BasketActions, IBasketState } from \"./BasketOrderType\"\r\n\r\nconst InitalState:IBasketState = {\r\n    orders: [],\r\n    totalPrice: 0\r\n}\r\n\r\nexport function BasketReducer(state = InitalState, action:BasketActions){\r\n// debugger\r\n    switch (action.type) {\r\n\r\n        case BasketActionName.SET_ORDER:\r\n            return {...state, orders: [...state.orders, action.order],totalPrice: Number(state.totalPrice) + Number(action.order.totalPrice) }\r\n\r\n            break;\r\n        case BasketActionName.SET_ORDERS:\r\n\r\n            return {...state, orders:[...action.orders]}\r\n        case BasketActionName.SET_TOTAL_PRICE:\r\n\r\n            return {...state, totalPrice: action.totalPrice}\r\n        case BasketActionName.REMOVE_ORDER:\r\n            return {...state,\r\n                orders: state.orders.filter((order)=>order.productName != action.order.productName), totalPrice: Number(state.totalPrice) - Number(action.order.totalPrice)}\r\n        default:\r\n            return state;\r\n            break;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport const BasketActionCreators={\r\n    setOrder: (order:IOrder):BasketActions=>({type: BasketActionName.SET_ORDER, order }),\r\n    setOrders: (orders:IOrder[]):BasketActions=>({type: BasketActionName.SET_ORDERS, orders }),\r\n    removeOrder:(order:IOrder):BasketActions=>({type: BasketActionName.REMOVE_ORDER, order}),\r\n    setTotalPrice:(totalPrice: number):BasketActions=>({type: BasketActionName.SET_TOTAL_PRICE,totalPrice }),\r\n\r\n    localStorageOrders:(order:IOrder)=>(dispatch:AppDispatch)=>{\r\n            const orders = localStorage.getItem('orders') || '[]';\r\n            const json = JSON.parse(orders) as IOrder[];\r\n\r\n            json.push(order)\r\n            dispatch(BasketActionCreators.setOrder(order))\r\n            localStorage.setItem('orders', JSON.stringify(json))\r\n            const totalPrice = localStorage.getItem('totalPrice') || '0';\r\n        const jsonTotalPrice = JSON.parse(totalPrice);\r\n        localStorage.setItem('totalPrice', JSON.stringify(Number(jsonTotalPrice) + Number(order.totalPrice)))\r\n        dispatch(BasketActionCreators.setTotalPrice(Number(jsonTotalPrice) + Number(order.totalPrice)))\r\n\r\n    },\r\n    acceptOrders:()=>(dispatch:AppDispatch)=>{\r\n        //axios\r\n        localStorage.clear();\r\n        dispatch(BasketActionCreators.setOrders([]));\r\n    },\r\n    deleteOrderThunk:(order:IOrder)=>(dispatch:AppDispatch)=>{\r\n        const orders = localStorage.getItem('orders') || '[]';\r\n\r\n        const json = JSON.parse(orders) as IOrder[];\r\n        for(let i = 0; i <json.length; i++){\r\n            if ( json[i].productName === order.productName ) {\r\n                json.splice(i,1);\r\n            }\r\n        }\r\n        localStorage.setItem('orders', JSON.stringify(json))\r\n        dispatch(BasketActionCreators.removeOrder(order))\r\n        const totalPrice = localStorage.getItem('totalPrice') || '0';\r\n        const jsonTotalPrice = JSON.parse(totalPrice);\r\n        localStorage.setItem('totalPrice', JSON.stringify(Number(jsonTotalPrice) - Number(order.totalPrice)))\r\n        dispatch(BasketActionCreators.setTotalPrice(Number(jsonTotalPrice) - Number(order.totalPrice)))\r\n    }\r\n\r\n}","export enum DiscountName{\r\n    ON_3_KG='ON_3_KG',\r\n    ON_2_KG='ON_2_KG'\r\n}","import { IProduct } from '../../../types/product';\r\n\r\n\r\nexport interface IProductState{\r\n    products: IProduct[],\r\n    // totalProductsPrice: number\r\n}\r\n\r\nexport interface IPushProduct{\r\n    productName: string;\r\n    totalPrice: number;\r\n    inBasket:boolean;\r\n\r\n}\r\n\r\nexport enum ProductActionName{\r\n    SET_PRODUCTS = \"SET_PRODUCTS\",\r\n    PUSH_PRODUCT = \"SET_PRODUCT\"\r\n}\r\n\r\nexport interface SetProducts{\r\n    type: ProductActionName.SET_PRODUCTS;\r\n    products: IProduct[]\r\n\r\n}\r\nexport interface pushProduct{\r\n    type: ProductActionName.PUSH_PRODUCT;\r\n    product: IProduct\r\n\r\n}\r\n\r\n\r\nexport type ProductAction = SetProducts | pushProduct\r\n","import axios from \"axios\";\r\nimport { DiscountName } from \"../../../types/discounts\";\r\nimport { IProduct } from \"../../../types/product\";\r\nimport { AppDispatch } from \"../../store\";\r\nimport { IProductState, ProductAction, ProductActionName } from \"./ProductType\";\r\n\r\n\r\n\r\nconst InitialState:IProductState = {\r\n    products: [],\r\n    // totalProductsPrice: 0\r\n\r\n}\r\n\r\nexport default function ProductContentReducer(state= InitialState, action:ProductAction ){\r\n\r\n    // debugger\r\n    switch (action.type) {\r\n        case ProductActionName.SET_PRODUCTS:\r\n            return {...state, products: [...action.products]}\r\n            break;\r\n        case ProductActionName.PUSH_PRODUCT:\r\n\r\n\r\n\r\n            return {\r\n                ...state,\r\n                products: state.products.map((e) => {\r\n                    if (e.productName === action.product.productName) {\r\n                        return { ...e, inBasket: e.inBasket = action.product.inBasket};\r\n                    };\r\n                    return e;\r\n                }),\r\n                // totalProductsPrice: Number(state.totalProductsPrice) + Number(action.product.totalPrice)\r\n            }\r\n        default:\r\n            return state\r\n            break;\r\n    }\r\n}\r\n\r\n\r\nexport const ProductActionCreactors ={\r\n    setProducts:(products:IProduct[]):ProductAction =>({type:ProductActionName.SET_PRODUCTS, products}),\r\n    getProductsThunk:()=>(dispatch: AppDispatch)=>{\r\n        // axios.get<IProduct[]>().then((response)=>{\r\n        //    dispatch(ProductActionCreactors.setProducts(response.data))\r\n        // });\r\n        const response = [\r\n            {productName:\"Банан\",\r\n                img:\"https://ambassador-city-jomtien.ru/uploads/posts/2014-06/1402862895_banana2.jpg\",\r\n                price:10, inBasket:false, discount:''},\r\n            {productName:\"Яблоко\",\r\n                img:\"https://img3.zakaz.ua/upload.version_1.0.4f1f0c8dc6cf9362a789bf80d070ccf6.1350x1350.jpeg\",\r\n                price:8, inBasket:false, discount:''},\r\n            {productName:\"Папайя\",\r\n                img:\"https://img3.zakaz.ua/src.1607469352.ad72436478c_2020-12-09_Aliona/src.1607469352.SNCPSG10.obj.0.1.jpg.oe.jpg.pf.jpg.1350nowm.jpg.1350x.jpg\",\r\n                price:10, inBasket:false, discount: DiscountName.ON_3_KG}\r\n        ];\r\n        dispatch(ProductActionCreactors.setProducts(response));\r\n\r\n    },\r\n    pushProduct:(product:IProduct):ProductAction=>({type: ProductActionName.PUSH_PRODUCT, product}) //axios\r\n}","import { BasketActionCreators } from \"./BasketReducer/BasketReducer\";\r\nimport { ProductActionCreactors } from \"./ProductContentReducer/ProductContentReducer\";\r\n\r\n\r\nexport const allActionCreators = {\r\n    ...ProductActionCreactors,\r\n    ...BasketActionCreators\r\n}","import { allActionCreators } from '../redux/reducers/allActionCreators';\r\nimport { useDispatch } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nexport const useActionCreators = () =>{\r\n    const dispatch = useDispatch();\r\n    return bindActionCreators(allActionCreators, dispatch);\r\n}","import { CloseOutlined } from '@ant-design/icons'\r\nimport React, { FC } from 'react'\r\nimport { useActionCreators } from '../../hooks/useAC'\r\nimport { IOrder } from '../../types/order'\r\n\r\nconst Order: FC<IOrder> = (props) => {\r\nconst {deleteOrderThunk} = useActionCreators()\r\nconst { img,productName,price,countValue,totalPrice,inBasket} = props\r\n\r\n    return (\r\n        <div className='Orders_item' >\r\n            <div className='Orders_item__img'>\r\n                <img src={img} alt=\"\" />\r\n            </div>\r\n            <div style={{textAlign:'center', marginRight:'25%', }}>\r\n            <div className='Orders_item__title' style={{fontSize: '24px', fontWeight:'bold' }}>\r\n                {productName}\r\n            </div>\r\n\r\n            <div className='Orders_item__Price' style={{fontSize: '18px'}}>\r\n               Цена ${price}\r\n            </div>\r\n\r\n            </div>\r\n            <div style={{fontSize: '22px' }}>\r\n                <h2 style={{color:'GrayText'}}>({countValue+' кг'})</h2>\r\n            </div>\r\n            <div className='Orders_item__TotalPrice' style={{fontSize:'50px', fontWeight:'bolder'}}>\r\n\r\n                ${totalPrice}\r\n            </div>\r\n\r\n            <div className='Orders_item__deleteBtn'>\r\n            <CloseOutlined onClick={()=> deleteOrderThunk({img,\r\n    productName,\r\n    price,\r\n    countValue,\r\n    totalPrice,\r\n    inBasket})} className='Delete_Btn' style={{fontSize:'40px', cursor:'pointer'}} />\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Order\r\n","import { TypedUseSelectorHook, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../redux/store\"\r\n\r\nexport const UseTypedSelector: TypedUseSelectorHook<RootState> = useSelector","import { Button } from 'antd'\r\nimport { FC} from 'react'\r\nimport Order from '../components/Basket/Order'\r\nimport { useActionCreators } from '../hooks/useAC'\r\nimport { UseTypedSelector } from '../hooks/useTypedSelector'\r\n\r\n\r\n\r\n\r\nconst Basket: FC = () => {\r\n    const { orders, totalPrice } = UseTypedSelector(state => state.Basket)\r\n    const { acceptOrders } = useActionCreators()\r\n    const accept = () => {\r\n        acceptOrders()\r\n    }\r\n    const storage = localStorage.getItem('orders') || '[]';\r\n    const json = JSON.parse(storage)\r\n\r\n\r\n    return (\r\n\r\n        <div className='Basket_content container'>\r\n\r\n            <div className='Orders_flex'>\r\n                {orders.length > 0 ?\r\n                    orders.map((order) => <Order {...order} />)\r\n                    :\r\n                    <div style={{width:'100%', height:'100%', textAlign:'center', paddingTop:'30%'}}><h1> У вас нету товаров в корзине:(</h1></div>\r\n                }\r\n                <div className='Order_item'>\r\n                <div className='Order_item__title'>\r\n                {json.length > 0 ?\r\n                    <h1 style={{color:'goldenrod'}}>{'Сума к оплате: $'+ totalPrice}</h1> : null\r\n                }\r\n                </div>\r\n                <div>\r\n                {json.length > 0 ?\r\n                    <Button size='large' style={{marginRight:'25px'}} onClick={() => accept()} danger>Оформить заказ</Button> : null\r\n                }\r\n                </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Basket\r\n\r\n","import { DiscountName } from \"../types/discounts\";\r\n\r\n\r\n\r\nexport interface IOrderIsDiscount{\r\n    countValue: number,\r\n    discount: string | '',\r\n    price: number\r\n}\r\n\r\n\r\n\r\nexport function Discount (order:IOrderIsDiscount){\r\n\r\n        switch (order.discount) {\r\n            case DiscountName.ON_3_KG:\r\n                if((order.countValue+1)%3 === 0) {\r\n                    return order.price /2\r\n                }else{\r\n                    return order.price\r\n                }\r\n            default:\r\n               return order.price\r\n        }\r\n}","import { Button, Modal } from 'antd';\r\nimport React, { FC, useState } from 'react'\r\nimport { IProduct } from '../../../types/product';\r\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport { useActionCreators } from '../../../hooks/useAC';\r\nimport { Discount } from '../../../hooks/useDiscount';\r\n\r\n\r\ninterface IModal {\r\n    isModalVisible: boolean;\r\n    setIsModalVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n    product: IProduct;\r\n}\r\n\r\nconst ProductCardModal: FC<IModal> = (props) => {\r\n    const { img, price, productName, discount } = props.product\r\n    const { localStorageOrders, pushProduct } = useActionCreators()\r\n    const [countValue, setCountValue] = useState<number>(1)\r\n    const [totalPrice, setTotalPrice] = useState<number>(price)\r\n\r\n\r\n    const handleOk = () => {\r\n        if (countValue === 0) return; //warn\r\n        props.setIsModalVisible(false);\r\n        localStorageOrders({ img, productName, countValue, totalPrice, price, inBasket: true });\r\n        pushProduct({ productName, img, price, totalPrice, inBasket: true, discount })\r\n\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        props.setIsModalVisible(false);\r\n        setCountValue(1)\r\n        setTotalPrice(price)\r\n    };\r\n\r\n\r\n    const upValue = () => {\r\n        setCountValue((Value) => Value + 1)\r\n        const newPrice = Discount({ countValue, discount, price })\r\n        setTotalPrice((totalPrice) => totalPrice = Number(totalPrice) + Number(newPrice))\r\n\r\n    }\r\n    const downValue = () => {\r\n        if (countValue > 1) {\r\n            setCountValue((Value) => Value - 1)\r\n            const newPrice = Discount({ countValue, discount, price })\r\n            setTotalPrice((totalPrice) => totalPrice = Number(totalPrice) - Number(newPrice))\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <Modal title=\"Заказ\" visible={props.isModalVisible} onOk={() => handleOk()} okText='Добавить в корзину' cancelText='Отмена' onCancel={handleCancel}>\r\n                <div className='ModalContent'>\r\n                    <div className=\"ModalContent__info\">\r\n                        <div>\r\n                            <img src={img} alt=\"\" />\r\n                        </div>\r\n                        <div>\r\n                            <span>{productName}</span>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"ModalContent__PriceInfo\">\r\n                        <div className=\"ModalContent__PriceInfo__item\">\r\n                            <Button onClick={() => upValue()} type=\"primary\" shape=\"circle\" icon={<PlusOutlined />} />\r\n                        </div>\r\n                        <div className=\"ModalContent__PriceInfo__item\">\r\n                            <span>{countValue}</span>\r\n                        </div>\r\n                        <div className=\"ModalContent__PriceInfo__item\">\r\n                            <Button onClick={() => downValue()} type=\"primary\" shape=\"circle\" icon={<MinusOutlined />} />\r\n                        </div>\r\n                        <div className=\"ModalContent__PriceInfo__item\">\r\n                            <h1 style={{ fontWeight: 'normal' }}>Сумма</h1>\r\n                            <h2 style={{ fontWeight: 'bold', color: 'chocolate' }}>${totalPrice}</h2>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ProductCardModal\r\n","import Basket from \"../pages/Basket\";\r\nimport ProductContent from \"../pages/ProductContent\";\r\n\r\n\r\n\r\nexport interface IRoute{\r\n    path: string;\r\n    component: React.ComponentType;\r\n    exact: boolean;\r\n}\r\n\r\nexport enum RoutePath{\r\n    BASKET= '/basket',\r\n    PRODUCT_CONTENT='/productContent'\r\n\r\n}\r\n\r\nexport const Routes:IRoute[] = [\r\n\r\n    {path: RoutePath.BASKET, component: Basket, exact: true},\r\n    {path: RoutePath.PRODUCT_CONTENT, component: ProductContent, exact: true}\r\n]","import { Button, Card, Col, Row } from 'antd'\r\nimport Meta from 'antd/lib/card/Meta'\r\nimport style from './ProductCard.module.css'\r\n\r\nimport { FC, useEffect, useState } from 'react'\r\nimport { IProduct } from '../../types/product'\r\nimport ProductCardModal from './ProductCardModal/ProductCardModal'\r\nimport { IOrder } from '../../types/order'\r\n\r\nconst ProductCard: FC<IProduct> = (props) => {\r\n\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n    const [btn, setBtn] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const orders = localStorage.getItem('orders') || '[]';\r\n        const json = JSON.parse(orders) as IProduct[];\r\n        if (json.length > 0) {\r\n            json.map((j) => {\r\n            if (j.productName === props.productName) {\r\n                setBtn(true)}\r\n        })\r\n        }\r\n\r\n        // console.log('PorductCard UseEffect')\r\n    })\r\n    const showModal = () => {\r\n        setIsModalVisible(true);\r\n\r\n    };\r\n    return (\r\n        <div className={style.item}>\r\n            <Card\r\n                hoverable\r\n                style={{ width: '300px', display: \"flex\", flexDirection: 'column', alignItems: 'center', flex: \"0 1 33.333%\" }}\r\n                cover={<div className={style.CardImg}><img alt=\"imgProduct\" src={props.img} /></div>}\r\n            >\r\n                <Meta title={props.productName} description={'$' + props.price} style={{ textAlign: 'center', marginBottom: '15px' }} />\r\n                {btn === true ?\r\n                    <Button disabled={true} type=\"dashed\" onClick={() => showModal()}> В корзине </Button>\r\n                    :\r\n                    <Button disabled={false} type=\"dashed\" danger onClick={() => showModal()}> Купить </Button>\r\n\r\n                }\r\n\r\n            </Card>\r\n\r\n            <ProductCardModal product={props} isModalVisible={isModalVisible} setIsModalVisible={setIsModalVisible} />\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default ProductCard\r\n","import { FC, useEffect } from 'react'\r\nimport ProductCard from '../components/ProductCard/ProductCard'\r\nimport { useActionCreators } from '../hooks/useAC'\r\nimport { UseTypedSelector } from '../hooks/useTypedSelector'\r\n\r\n\r\nconst ProductContent: FC = () => {\r\n\r\n  const { getProductsThunk } = useActionCreators()\r\n  const { products } = UseTypedSelector((state) => state.ProductContent)\r\n\r\n  useEffect(() => {\r\n    getProductsThunk()\r\n  }, [])\r\n\r\n  return (\r\n    <div className='container' >\r\n      <div className='ProductContent_items' style={{paddingTop:'20px'}} >\r\n        {products.map((product) => <ProductCard {...product} /> )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductContent\r\n","\r\n\r\n\r\nimport React from 'react'\r\nimport { Redirect, Route, Switch } from 'react-router'\r\nimport { RoutePath, Routes } from '../../routing/routes'\r\n\r\nconst AppRouter = () => {\r\n    return (\r\n        <Switch>\r\n            {Routes.map((route)=><Route path={route.path} component={route.component} exact={route.exact}/>)}\r\n            <Redirect to={RoutePath.PRODUCT_CONTENT}/>\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default AppRouter\r\n","\r\nimport { HomeOutlined, ShoppingOutlined } from '@ant-design/icons'\r\nimport { Layout, Menu, Row } from 'antd'\r\nimport React, { FC } from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport { RoutePath } from '../../routing/routes'\r\n\r\nconst Navbar: FC = () => {\r\n\r\n    const router = useHistory()\r\n\r\n    return (\r\n        <Layout.Header>\r\n            <Row justify='space-between' className='container' align='middle'>\r\n\r\n                <Menu theme='dark' mode='horizontal' selectable={false}>\r\n                    <Menu.Item\r\n                        onClick={() => router.push(RoutePath.PRODUCT_CONTENT)}\r\n                        icon={<HomeOutlined style={{ fontSize: '2em', color: 'antiquewhite' }} />}\r\n                        key={1} >\r\n                    </Menu.Item>\r\n                </Menu>\r\n                <Menu theme='dark' mode='horizontal' selectable={false}>\r\n\r\n                    <Menu.Item\r\n                        onClick={() => router.push(RoutePath.BASKET)}\r\n                        icon={<ShoppingOutlined  className=\"Basket_icon\" style={{ fontSize: '2em', color: 'gold' }}  title='1'/>}\r\n                        key={1} >\r\n                    </Menu.Item>\r\n\r\n                </Menu>\r\n\r\n\r\n            </Row>\r\n        </Layout.Header>\r\n\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import { useEffect } from 'react';\nimport './App.css';\nimport AppRouter from \"./components/AppRouter/AppRouter\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport { useActionCreators } from './hooks/useAC';\nimport { IOrder } from './types/order';\n\nfunction App() {\n  const { setOrders, setTotalPrice } = useActionCreators()\n  useEffect(() => {\n    const orders = localStorage.getItem('orders') || '[]';\n    const totalPrice = localStorage.getItem('totalPrice') || '0';\n    const json = JSON.parse(orders) as IOrder[]\n    if (json.length>0) {\n      setOrders(json);\n      setTotalPrice(JSON.parse(totalPrice))\n    }\n\n\n  }, [])\n\n\n  return (\n    <div className=\"App\">\n      <Navbar />\n      <AppRouter />\n    </div>\n  );\n}\n\nexport default App;\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { BasketReducer } from \"./reducers/BasketReducer/BasketReducer\";\r\nimport ProductContentReducer from \"./reducers/ProductContentReducer/ProductContentReducer\";\r\n\r\nconst Reducers = combineReducers({\r\n    ProductContent: ProductContentReducer,\r\n    Basket: BasketReducer\r\n})\r\n\r\nconst store = createStore(Reducers, applyMiddleware(thunk))\r\n\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\nexport default store;","import ReactDOM from 'react-dom';\nimport App from './App';\nimport {HashRouter} from \"react-router-dom\";\nimport { Provider } from 'react-redux'\nimport store from './redux/store';\n\n\nReactDOM.render(\n    <HashRouter basename={process.env.PUBLIC_URL}>\n    <Provider store={store}>\n    <App />\n    </Provider>\n    </HashRouter>\n,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}