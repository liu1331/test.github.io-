(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[6],{223:function(e,t,c){"use strict";c(0);var n=c(256),i=c(336),r=c(224),o=c(7);t.a=function(e){var t=e.countValue,c=e.upValue,a=e.downValue;return Object(o.jsxs)("div",{className:"ModalContent__PriceInfo__ChangeValue___item",children:[Object(o.jsx)("div",{className:"ModalContent__PriceInfo__item",children:Object(o.jsx)(r.a,{onClick:function(){return c()},type:"primary",shape:"circle",icon:Object(o.jsx)(n.a,{})})}),Object(o.jsx)("div",{className:"ModalContent__PriceInfo__item",children:Object(o.jsx)("span",{children:t})}),Object(o.jsx)("div",{className:"ModalContent__PriceInfo__item",children:Object(o.jsx)(r.a,{onClick:function(){return a()},type:"primary",shape:"circle",icon:Object(o.jsx)(i.a,{})})})]})}},234:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var n=c(64).c},237:function(e,t,c){"use strict";c.d(t,"a",(function(){return u}));var n=c(3),i=c(0),r=c(85),o=c(89);function a(e){return e.discount===o.a.ON_3_KG?{priceWithDiscount:Number(e.price)/2,valueRule:3}:{priceWithDiscount:Number(e.price),valueRule:null}}function u(e){var t=e.price,c=e.discount,o=e.productName,u=e.countValue,s=Object(i.useState)(u||1),l=Object(n.a)(s,2),d=l[0],j=l[1],b=Object(i.useState)(e.totalPrice||e.price),m=Object(n.a)(b,2),p=m[0],f=m[1],O=Object(r.a)().changeValueOrder;Object(i.useEffect)((function(){O(o,p,d)}),[d]);return{countValueInHook:d,setCountValue:j,totalPriceInHook:p,setTotalPrice:f,upValue:function(){j((function(e){return e+1}));var e=a({countValueInHook:d,discount:c,price:t});console.log("totalPriceInHook "+p),console.log("price "+t),console.log("newPrice.priceWithDiscount "+e.priceWithDiscount),c&&Number(d+1)%Number(e.valueRule)===0?f((function(t){return Number(t)+Number(e.priceWithDiscount)})):f((function(e){return Number(e)+Number(t)}))},downValue:function(){if(d-1!==0){if(c){var e=a({countValueInHook:d,discount:c,price:t});Number(d)%Number(e.valueRule)===0?f((function(t){return Number(t)-Number(e.priceWithDiscount)})):f((function(e){return Number(e)-Number(t)}))}else f((function(e){return Number(e)-Number(t)}));j((function(e){return e-1}))}}}}},262:function(e,t,c){e.exports={CardImg:"ProductCard_CardImg__Q7044"}},339:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c(0),r=c(3),o=c(337),a=c(224),u=c(267),s=c.n(u),l=c(262),d=c.n(l),j=c(338),b=c(85),m=c(223),p=c(237),f=c(7),O=function(e){var t=e.product,c=t.img,n=t.price,i=t.productName,r=t.discount,o=Object(b.a)(),a=o.localStorageOrders,u=o.pushProduct,s=Object(p.a)({productName:i,discount:r,price:n}),l=s.countValueInHook,d=s.setCountValue,O=s.totalPriceInHook,h=s.setTotalPrice,x=s.upValue,N=s.downValue;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(j.a,{title:"\u0417\u0430\u043a\u0430\u0437",visible:e.isModalVisible,onOk:function(){0!==l&&(e.setIsModalVisible(!1),a({img:c,productName:i,countValue:l,totalPrice:O,price:n,inBasket:!0,discount:r}),u({productName:i,img:c,price:n,totalPrice:O,inBasket:!0,discount:r}))},okText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",onCancel:function(){e.setIsModalVisible(!1),d(1),h(n)},children:Object(f.jsxs)("div",{className:"ModalContent",children:[Object(f.jsxs)("div",{className:"ModalContent__info",children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:c,alt:""})}),Object(f.jsx)("div",{children:Object(f.jsx)("span",{children:i})})]}),Object(f.jsxs)("div",{className:"ModalContent__PriceInfo",children:[Object(f.jsx)(m.a,{countValue:l,upValue:x,downValue:N}),Object(f.jsxs)("div",{className:"ModalContent__PriceInfo__item",children:[Object(f.jsx)("h1",{style:{fontWeight:"normal"},children:"\u0421\u0443\u043c\u043c\u0430"}),Object(f.jsxs)("h2",{style:{fontWeight:"bold",color:"chocolate"},children:["$",O]})]})]})]})})})},h=function(e){var t=Object(i.useState)(!1),c=Object(r.a)(t,2),n=c[0],u=c[1],l=Object(i.useState)(!1),j=Object(r.a)(l,2),b=j[0],m=j[1];Object(i.useEffect)((function(){var t=localStorage.getItem("orders")||"[]",c=JSON.parse(t);c.length>0&&c.map((function(t){t.productName===e.productName&&m(!0)}))}));var p=function(){u(!0)};return Object(f.jsxs)("div",{className:d.a.item,children:[Object(f.jsxs)(o.a,{hoverable:!0,style:{width:"300px",display:"flex",flexDirection:"column",alignItems:"center",flex:"0 1 33.333%"},cover:Object(f.jsx)("div",{className:d.a.CardImg,children:Object(f.jsx)("img",{alt:"imgProduct",src:e.img})}),children:[Object(f.jsx)(s.a,{title:e.productName,description:"$"+e.price,style:{textAlign:"center",marginBottom:"15px"}}),!0===b?Object(f.jsxs)(a.a,{disabled:!0,type:"dashed",onClick:function(){return p()},children:[" ","\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0435"," "]}):Object(f.jsxs)(a.a,{disabled:!1,type:"dashed",danger:!0,onClick:function(){return p()},children:[" ","\u041a\u0443\u043f\u0438\u0442\u044c"," "]})]}),Object(f.jsx)(O,{product:e,isModalVisible:n,setIsModalVisible:u})]})},x=c(234);t.default=function(){var e=Object(b.a)().getProductsThunk,t=Object(x.a)((function(e){return e.ProductContent})).products;return Object(i.useEffect)((function(){e()}),[]),console.log(t),Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"ProductContent_items",style:{paddingTop:"20px"},children:t.map((function(e){return Object(f.jsx)(h,Object(n.a)({},e),e.productName)}))})})}}}]);
//# sourceMappingURL=6.6263a835.chunk.js.map