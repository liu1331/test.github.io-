{"version":3,"sources":["pages/ModalPages/pages/BetData/components/Games/FortuneComponent/style.module.scss","pages/Fortune/config/index.ts","assets/fortune/fortuneDesktopBet.svg","assets/fortune/pasinoArrowBet.svg","assets/fortune/pasinoEllipseBet.svg","pages/ModalPages/pages/BetData/components/Games/FortuneComponent/index.tsx","pages/Fortune/components/ControlPanel/reducer/actions/types.ts","pages/Fortune/components/ControlPanel/reducer/methods/sockets/makeRequest.ts","pages/Fortune/components/ControlPanel/reducer/methods/utils/autoMode.ts","pages/Fortune/components/ControlPanel/reducer/reducer.tsx","pages/Fortune/components/ControlPanel/reducer/methods/utils/placeBetNotify.ts","pages/Fortune/components/ControlPanel/reducer/context.tsx","pages/Fortune/components/ControlPanel/reducer/provider.tsx","pages/Fortune/components/ControlPanel/reducer/index.ts","assets/fortune/light.png","games/Fortune/style.module.scss","assets/fortune/pasino-arrow.svg","assets/fortune/pasino-logo.svg","assets/fortune/pasino-ellipse.svg","assets/fortune/fortuneCenter.svg","games/Fortune/hooks/useRAF.ts","games/Fortune/fortuneDesktop.png","games/Fortune/index.tsx"],"names":["module","exports","FortuneGameData","id","selection","dataItemColors","selectionItems","color","FortuneComponent","element","decorationComponent","stopped_at","result","length","elementRef","useRef","useState","loading","setLoading","useEffect","elements","angle","i","style","transform","rotateElements","current","className","css","root","clsx","wheelContainer","visible","wheel","ref","node","light","transition","decorationArrays","map","_","index","src","img","bgDesktop","onLoad","alt","fortuneEllipse","ellipse","arrow","fortuneActionNames","autoModeActionFieldMatching","SET_ON_WIN","SET_ON_LOSS","SET_STOP_ON_LOSS","SET_STOP_ON_PROFIT","makeRequest","amount","coinName","isSaveToLocal","betAmountValue","Number","toFixed","fortuneSocket","send","type","bet_amt","coin","localStorage","setItem","error","track","errors","getStopAutoModeState","state","playableStatus","autoBetsIsStart","baseBetAmount","initialFortuneControlState","coinsConfig","betMessageInfo","currentProfit","currentCoin","startTimerValue","totalBetAmount","totalProfit","isShowInUSD","gameStage","startSegment","bet","betAmount","coinsManager","createReturnValues","selectedCoin","isSpinning","spinningTime","autoMode","onWin","onLoss","stopOnProfit","stopOnLoss","onLossMode","onWinMode","isAutoMode","fortuneControReducer","action","SET_RESULT","payload","SET_IS_SPINNING","SET_BET_FIELD","SET_PLAYABLE_STATUS","SET_IS_SHOW_IN_USD","notifybarManager","message","timeOut","SET_IS_AUTO_MODE","value","SET_ON_WIN_MODE","mode","SET_ON_LOSS_MODE","SET_PLACE_A_BET","isNewRound","SET_CANCEL_BET","isNewRoundStage","SET_CANCEL_AUTOBET","start_game","spinning","time","segment_id","split","stopped","new_round","playableStatusValue","previous_rounds","rounds","wheel_point","update_coins_parameters","bet_played","balance","success","placeBetNotify","coinValueUpdate","new_bet_finalized","profit","status","totalProfitValue","price","baseBetAmountValue","currentBetAmountValue","totalBetAmountValue","liveStatsManager","addBet","isStopAutomode","automode","isWin","onStopValue","isAutomodeStopOn","newCurrentBetAmountValue","newCurrentBetAmount","changemodePercentValue","getAutomodeBetAmountValue","bet_cashedout","finallyBalance","cashedoutError","bet_cashedout_update","defaultValue","controlState","controlDispatch","arg","Context","createContext","FortuneControlProvider","children","useReducer","providerValue","useMemo","Provider","useFortuneControl","useContext","tick","useRAF","startPosition","itemsLength","setIsSpinning","animationFrameRef","spinningTimeRef","tickRef","tickInterval","positionRef","endPositionRef","animationCallback","useCallback","animate","clearInterval","cancelAnimationFrame","requestAnimationFrame","setInterval","Array","fill","rhombus","FortuneGame","isMobile","useWindowSize","items","bgMobile","center","logo"],"mappings":"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","file":"static/js/71.7db1eb67.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapperPadding\":\"10px\",\"desktopHeaderSize\":\"64px\",\"bottomButtonsSize\":\"60px\",\"desktopChatWidth\":\"310px\",\"swipedChatWidth\":\"960px\",\"arrBlockWidth\":\"12px\",\"headerHeight\":\"60px\",\"inputPadding\":\"16px\",\"chatPadding\":\"16px\",\"inputHeight\":\"56px\",\"chatWidth\":\"280px\",\"spacing\":\"8px\",\"mobileScreen\":\"600px\",\"feyorraDisableSize\":\"1080px\",\"root\":\"style_root__2-IRh\",\"lightContainer\":\"style_lightContainer__3cI5s\",\"wheelContainer\":\"style_wheelContainer__593ly\",\"visible\":\"style_visible__3U20R\",\"wheel\":\"style_wheel__30Y_T\",\"img\":\"style_img__87cmF\",\"lightWrapper\":\"style_lightWrapper__3xxrj\",\"arrow\":\"style_arrow__1oXEP\",\"fortuneEllipse\":\"style_fortuneEllipse__2UOrq\",\"light\":\"style_light__33NQf\"};","export type fortuneSelectionType =\r\n  | \"1X\"\r\n  | \"3X\"\r\n  | \"6X\"\r\n  | \"12X\"\r\n  | \"25X\"\r\n  | \"52XB\"\r\n  | \"52XA\";\r\nexport interface IFortuneGameData {\r\n  id: number;\r\n  selection: fortuneSelectionType;\r\n}\r\nexport const FortuneGameData: IFortuneGameData[] = [\r\n  { id: 1, selection: \"1X\" },\r\n  { id: 2, selection: \"6X\" },\r\n  { id: 3, selection: \"1X\" },\r\n  { id: 4, selection: \"12X\" },\r\n  { id: 5, selection: \"1X\" },\r\n  { id: 6, selection: \"3X\" },\r\n  { id: 7, selection: \"1X\" },\r\n  { id: 8, selection: \"6X\" },\r\n  { id: 9, selection: \"1X\" },\r\n  { id: 10, selection: \"3X\" },\r\n  { id: 11, selection: \"1X\" },\r\n  { id: 12, selection: \"52XA\" },\r\n  { id: 13, selection: \"1X\" },\r\n  { id: 14, selection: \"3X\" },\r\n  { id: 15, selection: \"1X\" },\r\n  { id: 16, selection: \"6X\" },\r\n  { id: 17, selection: \"3X\" },\r\n  { id: 18, selection: \"1X\" },\r\n  { id: 19, selection: \"12X\" },\r\n  { id: 20, selection: \"1X\" },\r\n  { id: 21, selection: \"6X\" },\r\n  { id: 22, selection: \"1X\" },\r\n  { id: 23, selection: \"3X\" },\r\n  { id: 24, selection: \"1X\" },\r\n  { id: 25, selection: \"25X\" },\r\n  { id: 26, selection: \"1X\" },\r\n  { id: 27, selection: \"3X\" },\r\n  { id: 28, selection: \"1X\" },\r\n  { id: 29, selection: \"6X\" },\r\n  { id: 30, selection: \"1X\" },\r\n  { id: 31, selection: \"3X\" },\r\n  { id: 32, selection: \"1X\" },\r\n  { id: 33, selection: \"12X\" },\r\n  { id: 34, selection: \"1X\" },\r\n  { id: 35, selection: \"6X\" },\r\n  { id: 36, selection: \"1X\" },\r\n  { id: 37, selection: \"3X\" },\r\n  { id: 38, selection: \"1X\" },\r\n  { id: 39, selection: \"52XB\" },\r\n  { id: 40, selection: \"3X\" },\r\n  { id: 41, selection: \"1X\" },\r\n  { id: 42, selection: \"3X\" },\r\n  { id: 43, selection: \"1X\" },\r\n  { id: 44, selection: \"3X\" },\r\n  { id: 45, selection: \"1X\" },\r\n  { id: 46, selection: \"12X\" },\r\n  { id: 47, selection: \"1X\" },\r\n  { id: 48, selection: \"6X\" },\r\n  { id: 49, selection: \"1X\" },\r\n  { id: 50, selection: \"3X\" },\r\n  { id: 51, selection: \"1X\" },\r\n  { id: 52, selection: \"25X\" },\r\n  { id: 53, selection: \"1X\" },\r\n  { id: 54, selection: \"3X\" },\r\n];\r\n\r\nexport const dataItemColors: { [k: string]: string } = {\r\n  \"1X\": \"#FFD701\",\r\n  \"3X\": \"#01FFFF\",\r\n  \"6X\": \"#0A60E2\",\r\n  \"12X\": \"#9E00FF\",\r\n  \"25X\": \"#FF65C5\",\r\n  \"52XB\": \"#4AE700\",\r\n  \"52XA\": \"#FF1715\",\r\n};\r\n\r\nexport const selectionItems: {\r\n  selection: fortuneSelectionType;\r\n  color: string;\r\n}[] = [\r\n  {\r\n    selection: \"1X\",\r\n    color: \"linear-gradient(225.58deg, #FFD701 14.96%, #FF9900 48.48%)\",\r\n  },\r\n  {\r\n    selection: \"3X\",\r\n    color: \"linear-gradient(212.14deg, #01FFFF 12.31%, #00B0FB 42.6%)\",\r\n  },\r\n  {\r\n    selection: \"6X\",\r\n    color: \"linear-gradient(220.92deg, #0A60E2 14.06%, #0148B4 43.07%)\",\r\n  },\r\n  {\r\n    selection: \"12X\",\r\n    color: \" linear-gradient(236.48deg, #9E00FF 14.14%, #8D03A4 43.05%)\",\r\n  },\r\n  {\r\n    selection: \"25X\",\r\n    color: \"linear-gradient(182.04deg, #FF65C5 1.57%, #C60278 49.54%)\",\r\n  },\r\n  {\r\n    selection: \"52XA\",\r\n    color: \"linear-gradient(199.02deg, #FF1715 10.51%, #D00400 50%)\",\r\n  },\r\n  {\r\n    selection: \"52XB\",\r\n    color: \"linear-gradient(133.53deg, #4AE700 25.72%, #01580A 134.79%)\",\r\n  },\r\n];\r\n","export default __webpack_public_path__ + \"static/media/fortuneDesktopBet.e6b98380.svg\";","export default __webpack_public_path__ + \"static/media/pasinoArrowBet.a7c5a3f3.svg\";","export default __webpack_public_path__ + \"static/media/pasinoEllipseBet.ab91e85c.svg\";","import React, { FC, useEffect, useRef, useState } from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport bgDesktop from \"assets/fortune/fortuneDesktopBet.svg\";\r\nimport light from \"assets/fortune/light.png\";\r\nimport arrow from \"assets/fortune/pasinoArrowBet.svg\";\r\nimport ellipse from \"assets/fortune/pasinoEllipseBet.svg\";\r\n\r\nimport { FortuneGameData } from \"pages/Fortune/config\";\r\nimport { decorationArrays, Decorations } from \"games/Fortune\";\r\nimport { IFortuneResult } from \"../types\";\r\n\r\nimport css from \"./style.module.scss\";\r\n\r\nexport interface IFortuneComponentProps extends IFortuneResult {}\r\n\r\nconst rotateElements = (elements: HTMLDivElement[], angle: number | null) => {\r\n  if (angle !== null) {\r\n    for (let i = 0; i < elements.length; i++) {\r\n      elements[i].style.transform = `rotate(${angle}deg)`;\r\n    }\r\n  }\r\n};\r\nexport const FortuneComponent: FC<IFortuneComponentProps> = ({\r\n  stopped_at = \"15\",\r\n}) => {\r\n  const result = 360 - (360 * +stopped_at) / FortuneGameData.length;\r\n  const elementRef = useRef<HTMLDivElement[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const renderDecorations = (\r\n    element: Decorations,\r\n    decorationComponent: string,\r\n    i: number,\r\n  ) => {\r\n    return (\r\n      <div\r\n        className={clsx(css[`${element}Container`], css.transition)}\r\n        style={{\r\n          [`--fortune-nb-${element}`]: decorationArrays[element].length,\r\n        }}>\r\n        {decorationArrays[element].map((_, index) => {\r\n          return (\r\n            <div\r\n              className={css[`${element}Wrapper`]}\r\n              style={{ [`--fortune-${element}-nb`]: index }}\r\n              key={index}>\r\n              <img\r\n                className={clsx(\r\n                  css[`${element}`],\r\n                  index % 2 && css[`${element}D`],\r\n                )}\r\n                src={decorationComponent}\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n  useEffect(() => {\r\n    if (!loading) {\r\n      rotateElements(elementRef.current, result);\r\n    }\r\n  }, [loading]);\r\n\r\n  return (\r\n    <div className={css.root}>\r\n      <div className={clsx(css.wheelContainer, { [css.visible]: !loading })}>\r\n        <div\r\n          className={css.wheel}\r\n          ref={(node) => {\r\n            if (node) elementRef.current[0] = node;\r\n          }}>\r\n          {renderDecorations(\"light\", light, 1)}\r\n          <img\r\n            className={css.img}\r\n            src={bgDesktop}\r\n            onLoad={() => setLoading(false)}\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n\r\n        <>\r\n          <img className={css.fortuneEllipse} src={ellipse} />\r\n          <img className={css.arrow} src={arrow} />\r\n        </>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { fortuneSelectionType } from \"./../../../../config/index\";\r\nimport { AutoBetMode, ICoinsConfig, PlayerPlayableStatus } from \"../reducer\";\r\n\r\nexport enum fortuneActionNames {\r\n  SET_RESULT = \"setResult\",\r\n  SET_IS_SPINNING = \"setIsSpinning\",\r\n  SET_BET_FIELD = \"setBetField\",\r\n  SET_AMOUNT_IN_USD = \"setAmountInUSD\",\r\n  SET_PLAYABLE_STATUS = \"setPlayableStatus\",\r\n  SET_IS_SHOW_IN_USD = \"setIsShowInUSD\",\r\n\r\n  SET_IS_AUTO_MODE = \"setIsAutoMode\",\r\n  SET_STOP_ON_LOSS = \"setStopOnLoss\",\r\n  SET_STOP_ON_PROFIT = \"setStopOnProfit\",\r\n  SET_ON_WIN = \"setOnWin\",\r\n  SET_ON_LOSS = \"setOnLoss\",\r\n  SET_ON_WIN_MODE = \"setOnWinMode\",\r\n  SET_ON_LOSS_MODE = \"setOnLossMode\",\r\n\r\n  ADD_BET = \"addBet\",\r\n  REMOVE_BET = \"removeBet\",\r\n  SET_PLACE_A_BET = \"setPlaceABet\",\r\n  SET_CANCEL_BET = \"setCancelBet\",\r\n  SET_CANCEL_AUTOBET = \"setCancelAutobet\",\r\n\r\n  start_game = \"start_game\",\r\n  spinning = \"spinning\",\r\n  stopped = \"stopped\",\r\n  new_round = \"new_round\",\r\n\r\n  previous_rounds = \"previous_rounds\",\r\n  update_coins_parameters = \"update_coins_parameters\",\r\n\r\n  new_bet = \"new_bet\",\r\n  bet_played = \"bet_played\",\r\n  new_bet_finalized = \"new_bet_finalized\",\r\n  bet_cashedout = \"bet_cashedout\",\r\n  bet_cashedout_update = \"bet_cashedout_update\",\r\n}\r\n\r\nexport const autoModeActionFieldMatching = {\r\n  [fortuneActionNames.SET_ON_WIN]: \"onWin\",\r\n  [fortuneActionNames.SET_ON_LOSS]: \"onLoss\",\r\n  [fortuneActionNames.SET_STOP_ON_LOSS]: \"stopOnLoss\",\r\n  [fortuneActionNames.SET_STOP_ON_PROFIT]: \"stopOnProfit\",\r\n};\r\n\r\ninterface setResultAction {\r\n  type: fortuneActionNames.SET_RESULT;\r\n  payload: {\r\n    result: number | null;\r\n  };\r\n}\r\ninterface setPlayableStatusAction {\r\n  type: fortuneActionNames.SET_PLAYABLE_STATUS;\r\n  payload: {\r\n    playableStatus: PlayerPlayableStatus;\r\n  };\r\n}\r\n\r\ninterface setIsSpinning {\r\n  type: fortuneActionNames.SET_IS_SPINNING;\r\n  payload: {\r\n    isSpinning: boolean;\r\n  };\r\n}\r\ninterface setIsShowInUSD {\r\n  type: fortuneActionNames.SET_IS_SHOW_IN_USD;\r\n  payload: {\r\n    isShowInUSD: boolean;\r\n  };\r\n}\r\ninterface setAmountInUSD {\r\n  type: fortuneActionNames.SET_AMOUNT_IN_USD;\r\n  payload: {\r\n    value: string;\r\n  };\r\n}\r\n\r\ninterface setBetFieldAction {\r\n  type: fortuneActionNames.SET_BET_FIELD;\r\n  payload: {\r\n    betAmount?: string;\r\n    coinName?: string;\r\n    selection?: fortuneSelectionType | string;\r\n    id: string;\r\n  };\r\n}\r\n\r\ninterface setPlaceABetAction {\r\n  type: fortuneActionNames.SET_PLACE_A_BET;\r\n}\r\n\r\ninterface setCancelBetAction {\r\n  type: fortuneActionNames.SET_CANCEL_BET;\r\n}\r\n\r\ninterface setCancelAutobetAction {\r\n  type: fortuneActionNames.SET_CANCEL_AUTOBET;\r\n}\r\n\r\ninterface setIsAutoModeAction {\r\n  type: fortuneActionNames.SET_IS_AUTO_MODE;\r\n  payload: {\r\n    isAutoMode: boolean;\r\n  };\r\n}\r\n\r\ninterface addBetAction {\r\n  type: fortuneActionNames.ADD_BET;\r\n  payload: {\r\n    coinName: string;\r\n    betAmount: string;\r\n  };\r\n}\r\ninterface removeBetAction {\r\n  type: fortuneActionNames.REMOVE_BET;\r\n  payload: {\r\n    id: string;\r\n  };\r\n}\r\ninterface setAutoModeFieldAction {\r\n  type:\r\n    | fortuneActionNames.SET_STOP_ON_PROFIT\r\n    | fortuneActionNames.SET_STOP_ON_LOSS\r\n    | fortuneActionNames.SET_ON_WIN\r\n    | fortuneActionNames.SET_ON_LOSS;\r\n  payload: {\r\n    value: string | boolean;\r\n  };\r\n}\r\n\r\ninterface setOnWinModeAction {\r\n  type: fortuneActionNames.SET_ON_WIN_MODE;\r\n  payload: {\r\n    mode: AutoBetMode;\r\n  };\r\n}\r\ninterface setOnLossModeAction {\r\n  type: fortuneActionNames.SET_ON_LOSS_MODE;\r\n  payload: {\r\n    mode: AutoBetMode;\r\n  };\r\n}\r\n\r\ninterface setSpinningAction {\r\n  type: fortuneActionNames.spinning;\r\n  payload: {\r\n    time: string;\r\n    segment_id: string;\r\n  };\r\n}\r\ninterface setStartGameAction {\r\n  type: fortuneActionNames.start_game;\r\n}\r\ninterface setNewRoundAction {\r\n  type: fortuneActionNames.new_round;\r\n  payload: {\r\n    value: string;\r\n  };\r\n}\r\ninterface setStoppedAction {\r\n  type: fortuneActionNames.stopped;\r\n  payload: {\r\n    id: string;\r\n    stopped_at: string;\r\n  };\r\n}\r\ninterface setPreviousRoundsAction {\r\n  type: fortuneActionNames.previous_rounds;\r\n  payload: {\r\n    rounds: { id: string; wheel_point: string; seed: string }[];\r\n  };\r\n}\r\ninterface setUpdateCoinsParametersAction {\r\n  type: fortuneActionNames.update_coins_parameters;\r\n  payload: ICoinsConfig;\r\n}\r\ninterface setNewBet {\r\n  type: fortuneActionNames.new_bet;\r\n  payload: {\r\n    user_id: number;\r\n    user_name: string;\r\n    bet_amt: string;\r\n    coin: string;\r\n    selection: string;\r\n  };\r\n}\r\ninterface setBetPlayed {\r\n  type: fortuneActionNames.bet_played;\r\n  payload: {\r\n    error: string;\r\n    balance: string;\r\n  };\r\n}\r\ninterface setBetFinalized {\r\n  type: fortuneActionNames.new_bet_finalized;\r\n  payload: {\r\n    datetime: string;\r\n    bet_local_id: string;\r\n    coin: string;\r\n    bet_amt: string;\r\n    payout: string | number;\r\n    win: number;\r\n    profit: string;\r\n  };\r\n}\r\ninterface setBetCashedout {\r\n  type: fortuneActionNames.bet_cashedout;\r\n  payload: {\r\n    error: string;\r\n    balance: string;\r\n    bet_local_id: string;\r\n  };\r\n}\r\ninterface setBetCashedoutUpdate {\r\n  type: fortuneActionNames.bet_cashedout_update;\r\n  payload: {\r\n    user_id: string | number;\r\n    payout: string | number;\r\n    profit: string;\r\n    coin: string;\r\n    bet_local_id: string;\r\n  };\r\n}\r\n\r\nexport type FortuneActionsType =\r\n  | setAmountInUSD\r\n  | setPlaceABetAction\r\n  | setPlayableStatusAction\r\n  | setCancelBetAction\r\n  | setCancelAutobetAction\r\n  | setBetFieldAction\r\n  | setIsSpinning\r\n  | setIsShowInUSD\r\n  | setIsAutoModeAction\r\n  | setResultAction\r\n  | addBetAction\r\n  | removeBetAction\r\n  | setAutoModeFieldAction\r\n  | setOnWinModeAction\r\n  | setOnLossModeAction\r\n  | setSpinningAction\r\n  | setStartGameAction\r\n  | setNewRoundAction\r\n  | setStoppedAction\r\n  | setPreviousRoundsAction\r\n  | setUpdateCoinsParametersAction\r\n  | setNewBet\r\n  | setBetPlayed\r\n  | setBetFinalized\r\n  | setBetCashedout\r\n  | setBetCashedoutUpdate;\r\n","import { fortuneSelectionType } from \"pages/Fortune/config\";\r\nimport { fortuneSocket, track } from \"utils\";\r\n\r\nexport const makeRequest = (\r\n  amount: number | string,\r\n  coinName: string,\r\n  selection: fortuneSelectionType | string,\r\n\r\n  isSaveToLocal = false,\r\n) => {\r\n  const betAmountValue = Number(amount).toFixed(8);\r\n\r\n  fortuneSocket.send({\r\n    type: \"place_bet\",\r\n    bet_amt: betAmountValue,\r\n    coin: coinName,\r\n    selection: selection,\r\n  });\r\n\r\n  if (isSaveToLocal) {\r\n    try {\r\n      localStorage.setItem(\r\n        \"fortuneBet\",\r\n        `{\"amt\":\"${betAmountValue}\",\"coin\":\"${coinName}\"}`,\r\n      );\r\n    } catch (error) {\r\n      track()?.errors(error);\r\n    }\r\n  }\r\n};\r\n","import { IAutomode, IFortuneControlState } from \"../../reducer\";\r\n\r\nexport const getAutomodeBetAmountValue = ({\r\n  profit,\r\n  automode,\r\n  baseBetAmount,\r\n  betAmount,\r\n}: {\r\n  profit: string;\r\n  betAmount: number;\r\n  baseBetAmount: string;\r\n  automode: IAutomode;\r\n}): number | null => {\r\n  let newCurrentBetAmount: number = betAmount;\r\n\r\n  const isWin = Number(profit) > 0;\r\n  const mode = isWin ? automode.onWinMode : automode.onLossMode;\r\n  const changemodePercentValue = isWin ? automode.onWin : automode.onLoss;\r\n  if (mode === \"reset\") {\r\n    return Number(baseBetAmount);\r\n  }\r\n  if (mode === \"stop\") {\r\n    return null;\r\n  }\r\n  if (mode === \"change\" && changemodePercentValue) {\r\n    newCurrentBetAmount *= 1 + Number(changemodePercentValue) / 100;\r\n  }\r\n\r\n  return newCurrentBetAmount;\r\n};\r\n\r\nexport const getStopAutoModeState = (\r\n  state: IFortuneControlState,\r\n): IFortuneControlState => {\r\n  return {\r\n    ...state,\r\n    playableStatus: \"watch\",\r\n    autoBetsIsStart: false,\r\n    baseBetAmount: null,\r\n  };\r\n};\r\nexport const isAutomodeStopOn = (\r\n  profit: string,\r\n  totalProfit: number,\r\n  automode: IAutomode,\r\n) => {\r\n  const isWin = Number(profit) > 0;\r\n  const onStopValue = isWin ? automode.stopOnProfit : automode.stopOnLoss;\r\n\r\n  if (onStopValue) {\r\n    if (isWin && totalProfit >= Number(onStopValue)) {\r\n      return true;\r\n    }\r\n    if (!isWin && totalProfit < 0) {\r\n      if (-totalProfit >= Number(onStopValue)) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  return false;\r\n};\r\n","import notifybarManager from \"components/NotifyBar/notifybar-manager\";\r\n\r\nimport { coinsManager } from \"hooks\";\r\nimport { fortuneSelectionType } from \"pages/Fortune/config\";\r\nimport { makeRequest } from \"./methods/sockets/makeRequest\";\r\nimport { placeBetNotify } from \"./methods/utils/placeBetNotify\";\r\n\r\nimport {\r\n  autoModeActionFieldMatching,\r\n  fortuneActionNames,\r\n  FortuneActionsType,\r\n} from \"./actions/types\";\r\n\r\nimport {\r\n  isAutomodeStopOn,\r\n  getStopAutoModeState,\r\n  getAutomodeBetAmountValue,\r\n} from \"./methods/utils/autoMode\";\r\nimport { liveStatsManager } from \"components/LiveStats/eventEmitter/emitter\";\r\n\r\nexport type AutoBetMode = \"change\" | \"reset\" | \"stop\";\r\n\r\nexport type gameStageType =\r\n  | \"spinning\"\r\n  | \"new_round\"\r\n  | \"stopped\"\r\n  | \"watch\"\r\n  | string;\r\nexport type PlayerPlayableStatus = \"watch\" | \"wait\" | \"play\" | string;\r\n\r\nexport interface IAutomode {\r\n  onWin: string;\r\n  onLoss: string;\r\n  stopOnProfit: string;\r\n  stopOnLoss: string;\r\n  onLossMode: AutoBetMode;\r\n  onWinMode: AutoBetMode;\r\n}\r\nexport interface IBet {\r\n  betAmount: string;\r\n  coinName: string;\r\n  selection: fortuneSelectionType | string;\r\n  id: string;\r\n}\r\nexport interface ICoinsConfig {\r\n  [key: string]: {\r\n    minimum_bet: string;\r\n    maximum_bet: string;\r\n    maximum_profit: string;\r\n    price: string;\r\n  };\r\n}\r\nexport interface IFortuneControlState {\r\n  coinsConfig: ICoinsConfig;\r\n  gameStage: gameStageType;\r\n  betMessageInfo: {\r\n    currentProfit: string | null;\r\n    currentCoin: string;\r\n    startTimerValue: string | null;\r\n  };\r\n  baseBetAmount: string | null;\r\n\r\n  totalBetAmount: number;\r\n  totalProfit: number | null;\r\n  isShowInUSD: boolean;\r\n  playableStatus: PlayerPlayableStatus;\r\n  startSegment: number | null;\r\n  bet: IBet;\r\n  isSpinning: boolean;\r\n  spinningTime: string;\r\n  autoMode: IAutomode;\r\n  autoBetsIsStart: boolean;\r\n  isAutoMode: boolean;\r\n  result: number | null;\r\n}\r\n\r\nconst selectedCoin =\r\n  coinsManager.createReturnValues().selectedCoin?.coin || \"GEM\";\r\n\r\nexport const initialFortuneControlState: IFortuneControlState = {\r\n  coinsConfig: {},\r\n  betMessageInfo: {\r\n    currentProfit: null,\r\n    currentCoin: \"\",\r\n    startTimerValue: null,\r\n  },\r\n  baseBetAmount: null,\r\n  totalBetAmount: 0,\r\n  totalProfit: null,\r\n  isShowInUSD: false,\r\n  gameStage: \"watch\",\r\n  playableStatus: \"watch\",\r\n  startSegment: null,\r\n  bet: {\r\n    betAmount: \"0.00000000\",\r\n    coinName: selectedCoin,\r\n    selection: \"1X\",\r\n    id: \"1\",\r\n  },\r\n  isSpinning: true,\r\n  spinningTime: \"\",\r\n  autoMode: {\r\n    onWin: \"\",\r\n    onLoss: \"\",\r\n    stopOnProfit: \"\",\r\n    stopOnLoss: \"\",\r\n    onLossMode: \"reset\",\r\n    onWinMode: \"reset\",\r\n  },\r\n  autoBetsIsStart: false,\r\n  isAutoMode: false,\r\n  result: null,\r\n};\r\n\r\nexport const fortuneControReducer = (\r\n  state: IFortuneControlState,\r\n  action: FortuneActionsType,\r\n) => {\r\n  switch (action.type) {\r\n    // #GENERAL ACTIONS\r\n\r\n    case fortuneActionNames.SET_RESULT:\r\n      const { result } = action.payload;\r\n      return {\r\n        ...state,\r\n        result,\r\n      };\r\n      break;\r\n    case fortuneActionNames.SET_IS_SPINNING:\r\n      const { isSpinning } = action.payload;\r\n      return {\r\n        ...state,\r\n        isSpinning,\r\n      };\r\n      break;\r\n    case fortuneActionNames.SET_BET_FIELD:\r\n      return {\r\n        ...state,\r\n        bet: { ...state.bet, ...action.payload },\r\n      };\r\n      break;\r\n    case fortuneActionNames.SET_PLAYABLE_STATUS:\r\n      return {\r\n        ...state,\r\n        playableStatus: action.payload.playableStatus,\r\n      };\r\n      break;\r\n    case fortuneActionNames.SET_IS_SHOW_IN_USD:\r\n      if (state.autoBetsIsStart) {\r\n        notifybarManager.error({\r\n          message: \"You switched view in USD. Autobets are disabled!\",\r\n          timeOut: 4000,\r\n        });\r\n        return { ...getStopAutoModeState(state), ...action.payload };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          ...action.payload,\r\n        };\r\n      }\r\n\r\n      break;\r\n\r\n    //  #AUTOMODE ACTIONS\r\n\r\n    case fortuneActionNames.SET_IS_AUTO_MODE:\r\n      const { isAutoMode } = action.payload;\r\n      return {\r\n        ...state,\r\n        isAutoMode,\r\n      };\r\n    case fortuneActionNames.SET_STOP_ON_PROFIT:\r\n    case fortuneActionNames.SET_STOP_ON_LOSS:\r\n    case fortuneActionNames.SET_ON_LOSS:\r\n    case fortuneActionNames.SET_ON_WIN:\r\n      return {\r\n        ...state,\r\n        autoMode: {\r\n          ...state.autoMode,\r\n          [autoModeActionFieldMatching[action.type]]: action.payload.value,\r\n        },\r\n      };\r\n      break;\r\n    case fortuneActionNames.SET_ON_WIN_MODE:\r\n      return {\r\n        ...state,\r\n        autoMode: {\r\n          ...state.autoMode,\r\n          onWinMode: action.payload.mode,\r\n        },\r\n      };\r\n    case fortuneActionNames.SET_ON_LOSS_MODE:\r\n      return {\r\n        ...state,\r\n        autoMode: {\r\n          ...state.autoMode,\r\n          onLossMode: action.payload.mode,\r\n        },\r\n      };\r\n\r\n    //  #BET ACTIONS\r\n\r\n    case fortuneActionNames.SET_PLACE_A_BET:\r\n      let isNewRound = state.gameStage === \"new_round\";\r\n      if (isNewRound) {\r\n        const { betAmount, coinName, selection } = state.bet;\r\n        makeRequest(betAmount, coinName, selection, true);\r\n      }\r\n      return {\r\n        ...state,\r\n        playableStatus: isNewRound ? \"play\" : \"wait\",\r\n        autoBetsIsStart: state.isAutoMode ? true : false,\r\n        baseBetAmount: state.bet.betAmount,\r\n        totalBetAmount: 0,\r\n        totalProfit: null,\r\n      };\r\n\r\n      break;\r\n\r\n    case fortuneActionNames.SET_CANCEL_BET:\r\n      let isNewRoundStage = state.gameStage === \"new_round\";\r\n\r\n      return {\r\n        ...state,\r\n        playableStatus: isNewRoundStage ? state.playableStatus : \"watch\",\r\n        baseBetAmount: null,\r\n      };\r\n\r\n      break;\r\n    case fortuneActionNames.SET_CANCEL_AUTOBET:\r\n      return getStopAutoModeState(state);\r\n\r\n      break;\r\n\r\n    //  #SOCKETS\r\n\r\n    //  #SOCKET CYCLE ACTIONS\r\n\r\n    case fortuneActionNames.start_game:\r\n      const newState = {\r\n        ...state,\r\n        isSpinning: true,\r\n        spinningTime: \"\",\r\n        gameStage: \"spinning\",\r\n        result: null,\r\n        betMessageInfo: {\r\n          currentProfit: null,\r\n          currentCoin: \"\",\r\n          startTimerValue: null,\r\n        },\r\n      };\r\n\r\n      return newState;\r\n      break;\r\n\r\n    case fortuneActionNames.spinning:\r\n      if (Number(action.payload.time) >= 10800 && !state.spinningTime) {\r\n        return { ...state, spinningTime: action.payload.time };\r\n      }\r\n      if (state.startSegment !== null) return state;\r\n\r\n      const { segment_id } = action.payload;\r\n\r\n      return {\r\n        ...state,\r\n        isSpinning: true,\r\n        gameStage: \"spinning\",\r\n\r\n        startSegment: Number(segment_id.split(\"_\")[1]),\r\n      };\r\n      break;\r\n\r\n    case fortuneActionNames.stopped:\r\n      const { stopped_at } = action.payload;\r\n\r\n      return {\r\n        ...state,\r\n        result: Number(stopped_at),\r\n      };\r\n\r\n    case fortuneActionNames.new_round:\r\n      let playableStatusValue =\r\n        state.playableStatus === \"wait\" ? \"wait\" : \"watch\";\r\n      if (state.gameStage === \"new_round\" && playableStatusValue === \"watch\") {\r\n        return state;\r\n      }\r\n      if (playableStatusValue === \"wait\") {\r\n        const { betAmount, coinName, selection } = state.bet;\r\n        makeRequest(betAmount, coinName, selection, true);\r\n        playableStatusValue = \"play\";\r\n      }\r\n\r\n      if (state.gameStage === \"new_round\" && playableStatusValue === \"play\") {\r\n        return state;\r\n      }\r\n      return {\r\n        ...state,\r\n        gameStage: \"new_round\",\r\n        isSpinning: false,\r\n        playableStatus: playableStatusValue,\r\n        betMessageInfo: {\r\n          ...state.betMessageInfo,\r\n          startTimerValue: action.payload.value,\r\n        },\r\n      };\r\n\r\n      break;\r\n\r\n    //  #SOCKET REQUEST ACTIONS\r\n    case fortuneActionNames.previous_rounds:\r\n      if (state.startSegment !== null) return state;\r\n      const { rounds } = action.payload;\r\n      return {\r\n        ...state,\r\n        startSegment: Number(rounds[0].wheel_point),\r\n      };\r\n\r\n      break;\r\n    case fortuneActionNames.update_coins_parameters:\r\n      return {\r\n        ...state,\r\n        coinsConfig: action.payload,\r\n      };\r\n\r\n      break;\r\n\r\n    //  #SOCKET BET ACTIONS\r\n    case fortuneActionNames.bet_played:\r\n      const { balance, error } = action.payload;\r\n\r\n      placeBetNotify(error);\r\n\r\n      if (error) {\r\n        return getStopAutoModeState(state);\r\n      }\r\n\r\n      coinsManager.coinValueUpdate(`${balance}`, state.bet.coinName);\r\n\r\n      return { ...state };\r\n\r\n      break;\r\n\r\n    case fortuneActionNames.new_bet_finalized:\r\n      const { bet_amt, profit, coin } = action.payload;\r\n      let status = state.playableStatus;\r\n\r\n      let totalProfitValue = state.totalProfit || 0;\r\n      let currentProfit: number | null = state.isShowInUSD\r\n        ? Number(profit) * Number(state.coinsConfig[coin].price)\r\n        : Number(profit);\r\n\r\n      let baseBetAmountValue = state.baseBetAmount || state.bet.betAmount;\r\n      let currentBetAmountValue = Number(state.bet.betAmount);\r\n      let totalBetAmountValue = state.totalBetAmount + Number(bet_amt);\r\n\r\n      totalProfitValue = Number(totalProfitValue) + currentProfit;\r\n\r\n      liveStatsManager.addBet({\r\n        amount: Number(bet_amt),\r\n        profit: Number(profit),\r\n        coin,\r\n      });\r\n\r\n      if (\r\n        state.isAutoMode &&\r\n        state.autoBetsIsStart &&\r\n        state.playableStatus !== \"wait\"\r\n      ) {\r\n        const isStopAutomode = isAutomodeStopOn(\r\n          profit,\r\n          totalProfitValue,\r\n          state.autoMode,\r\n        );\r\n\r\n        const newCurrentBetAmountValue = getAutomodeBetAmountValue({\r\n          profit: profit,\r\n          automode: state.autoMode,\r\n          betAmount: currentBetAmountValue,\r\n          baseBetAmount: baseBetAmountValue,\r\n        });\r\n\r\n        if (newCurrentBetAmountValue === null || isStopAutomode) {\r\n          return {\r\n            ...getStopAutoModeState(state),\r\n\r\n            totalProfit: totalProfitValue,\r\n            totalBetAmount: totalBetAmountValue,\r\n            betMessageInfo: {\r\n              currentProfit: profit ? Number(profit).toFixed(8) : null,\r\n              currentCoin: coin,\r\n              startTimerValue: null,\r\n            },\r\n          };\r\n        }\r\n        currentBetAmountValue = newCurrentBetAmountValue;\r\n        status = \"wait\";\r\n      }\r\n      return {\r\n        ...state,\r\n        bet: { ...state.bet, betAmount: currentBetAmountValue.toFixed(8) },\r\n        totalBetAmount: totalBetAmountValue,\r\n        totalProfit: totalProfitValue || Number(profit),\r\n        playableStatus: status,\r\n        betMessageInfo: {\r\n          currentProfit: profit ? Number(profit).toFixed(8) : null,\r\n          currentCoin: coin,\r\n          startTimerValue: null,\r\n        },\r\n      };\r\n\r\n      break;\r\n\r\n    case fortuneActionNames.bet_cashedout:\r\n      const { balance: finallyBalance, error: cashedoutError } = action.payload;\r\n\r\n      cashedoutError &&\r\n        notifybarManager.error({\r\n          message: cashedoutError,\r\n          timeOut: 4000,\r\n        });\r\n\r\n      if (state.isAutoMode && state.autoBetsIsStart && cashedoutError) {\r\n        return getStopAutoModeState(state);\r\n      }\r\n      if (state.betMessageInfo.currentCoin.length > 0) {\r\n        coinsManager.coinValueUpdate(\r\n          `${finallyBalance}`,\r\n          state.betMessageInfo.currentCoin,\r\n        );\r\n      }\r\n\r\n      return state;\r\n\r\n      break;\r\n\r\n    case fortuneActionNames.bet_cashedout_update:\r\n      return state;\r\n\r\n      break;\r\n\r\n    default:\r\n      return state;\r\n      break;\r\n  }\r\n};\r\n","import notifybarManager from \"components/NotifyBar/notifybar-manager\";\r\n\r\nexport const placeBetNotify = function (error?: string) {\r\n  if (!error) {\r\n    notifybarManager.success({\r\n      message: \"Bet successfully placed!\",\r\n    });\r\n  } else {\r\n    notifybarManager.error({\r\n      message: error,\r\n      timeOut: 4000,\r\n    });\r\n  }\r\n};\r\n","import { createContext, Dispatch } from \"react\";\r\nimport { FortuneActionsType } from \"./actions/types\";\r\nimport { initialFortuneControlState, IFortuneControlState } from \"./reducer\";\r\n\r\ninterface IFortuneControlContext {\r\n  controlState: IFortuneControlState;\r\n  controlDispatch: Dispatch<FortuneActionsType>;\r\n}\r\nconst defaultValue: IFortuneControlContext = {\r\n  controlState: initialFortuneControlState,\r\n  controlDispatch: (arg: any) => {},\r\n};\r\n\r\nconst Context = createContext(defaultValue);\r\n\r\nexport default Context;\r\n","import React, { FC, useMemo, useReducer } from \"react\";\r\nimport Context from \"./context\";\r\nimport { fortuneControReducer, initialFortuneControlState } from \"./reducer\";\r\n\r\nexport const FortuneControlProvider: FC = ({ children }) => {\r\n  const [controlState, controlDispatch] = useReducer(\r\n    fortuneControReducer,\r\n    initialFortuneControlState,\r\n  );\r\n\r\n  const providerValue = useMemo(\r\n    () => ({ controlState, controlDispatch }),\r\n    [controlState, controlDispatch],\r\n  );\r\n  return <Context.Provider value={providerValue}>{children}</Context.Provider>;\r\n};\r\n","import { useContext } from \"react\";\r\n\r\nimport Context from \"./context\";\r\n\r\nexport { FortuneControlProvider } from \"./provider\";\r\n\r\nexport const useFortuneControl = () => useContext(Context);\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAkCAYAAADl9UilAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMzSURBVHgBzZjJbxMxGMW/lC5JaEtZ0lAIFCq4cEDixoUrEv8xJ8QRLuXWC5vY6ZLQFGiTSdLwXvyssSpSPMSVYulploztn79tPDFL1IbD4YwlbCkHm7OELSVYGVYrWaKWFCzleCnBKjalYFXonCVqqS02a4na1Frsv1eoDJwVDBe4Ai3i/hGOg1KpNLAJWiGwoBywZjEL53VOsBp0GepDPTyb4dgBYD/sjzaMmauoxZYstxLBFgTG6ysCI1CPUAQHzKGu2bcdO1E0WPDKuauJegEcj3WJ948kb9lVaCvWWtFgciGz7ry5VT+EfgqClqI1bkO/oGVoF9rR83egF1awxVqMK69KBPwEPYGO9TvBrkNdaNGcSwncgJ5DTIQqFtiH1Y5jJvwnmKzl3VURHK3Sgh6bsxpdVBNoWWCPoKfQofqNkkGaHMxcYM8HcD5mLkH70AMLyoU5S/H6pUCXBDOKOSy0GxNrMQV2RgugvEs52QVzMUSL1XWfllpXP7pvWffngv5RRX2sxYICSoBVTc7jmrnMXNf5iiYLJ2SfDcuzt6LFLLihh795/zTLzY6B4souSmuCYHBflRqC9O4LoXhOS940ZyFC3oC+QV+hj+Yytol5WoDL/sYwdmN3wmJ1AXmr3RLsNYn3GYu0AOOqCb2C3kGvBbUNfRcULXZqho51pczMV0tbC6BLWKf2zGXkgbmgZly9FzAn/CFIAmxCH/T8vn47iCkZMVk5sDxWWKcyTdIS1KaeuW/OTXQXF0N3VwSfSb1kdYwD+ReyueClVRhDjLln5lzH7KM730BfzLmS5eKeuTjcDhYV1WIrPwcN330NTdyxvLYxwN9CnwXP5/mG2NDvvO5bSjDurbRL8NlK9w0t3/pwHMbejo6ZQNiHFqxpnLQvcQ2aAY6nW4Jh/HQt3/YwsH2Qh68fwjHuqmeyH1P52FMfD+U3irzXFBzBegFYR7vZdpHvziIW8ytlCRloUg/GCXcFTjjGEq3WDy10Jq48AclMpGt7gqIYX6P6VgQgKVgASIARBCBZfLMUUGwpP9+YhVHFM6alBpvoky1sKcGYDFMJltSVyRqCv2zT2FL/1fkH8v0rAMf8sUwAAAAASUVORK5CYII=\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapperPadding\":\"10px\",\"desktopHeaderSize\":\"64px\",\"bottomButtonsSize\":\"60px\",\"desktopChatWidth\":\"310px\",\"swipedChatWidth\":\"960px\",\"arrBlockWidth\":\"12px\",\"headerHeight\":\"60px\",\"inputPadding\":\"16px\",\"chatPadding\":\"16px\",\"inputHeight\":\"56px\",\"chatWidth\":\"280px\",\"spacing\":\"8px\",\"mobileScreen\":\"600px\",\"feyorraDisableSize\":\"1080px\",\"lightContainer\":\"style_lightContainer__2LF9i\",\"wheelContainer\":\"style_wheelContainer__2OQB4\",\"wheel\":\"style_wheel__1983q\",\"img\":\"style_img__3cB8G\",\"lightWrapper\":\"style_lightWrapper__3Fnb1\",\"light\":\"style_light__L-257\",\"lightD\":\"style_lightD__351YP\",\"arrow\":\"style_arrow__27kR-\",\"fortuneEllipse\":\"style_fortuneEllipse__2_N8i\"};","export default __webpack_public_path__ + \"static/media/pasino-arrow.d269fed6.svg\";","export default __webpack_public_path__ + \"static/media/pasino-logo.4f6dc46d.svg\";","export default __webpack_public_path__ + \"static/media/pasino-ellipse.83311b6f.svg\";","export default __webpack_public_path__ + \"static/media/fortuneCenter.a19cc1ce.svg\";","import { useWindowSize } from \"providers\";\r\nimport React, { useEffect, MutableRefObject, useCallback, useRef } from \"react\";\r\n\r\nimport { useFortuneControl } from \"./../../../pages/Fortune/components/ControlPanel/reducer/index\";\r\n\r\ninterface IUseRAF {\r\n  elementRef: MutableRefObject<HTMLDivElement[]>;\r\n  startPosition: number | null;\r\n  result: number | null;\r\n  itemsLength: number;\r\n  setIsSpinning: (value: boolean) => void;\r\n  isSpinning: boolean;\r\n  spinningTime: string;\r\n}\r\n\r\nconst animationDuration = 130;\r\nconst animateIntervalTime = 18;\r\nconst animateSpeed = 3;\r\nconst tick =\r\n  (360 / 54 / animationDuration) * animateIntervalTime * animateSpeed;\r\nconst resultTick = 0.1240029 * animateIntervalTime;\r\n\r\nconst rotateElements = (elements: HTMLDivElement[], angle: number | null) => {\r\n  if (angle !== null) {\r\n    for (let i = 0; i < elements.length; i++) {\r\n      elements[i].style.transform = `rotate(${angle}deg) scale(0.99)`;\r\n    }\r\n  }\r\n};\r\nconst useRAF = ({\r\n  elementRef,\r\n  startPosition,\r\n  result,\r\n  itemsLength,\r\n  setIsSpinning,\r\n  isSpinning,\r\n  spinningTime,\r\n}: IUseRAF) => {\r\n  const animationFrameRef = useRef<any>(null);\r\n  const spinningTimeRef = useRef<string | null>(null);\r\n\r\n  const tickRef = useRef<number>(tick);\r\n  const tickInterval = useRef<any>(null);\r\n\r\n  const positionRef = useRef<number | null>(null);\r\n  const endPositionRef = useRef<number | null>(null);\r\n\r\n  const reset = () => {\r\n    positionRef.current = endPositionRef.current || 0;\r\n    rotateElements(elementRef.current, positionRef.current);\r\n    setIsSpinning(false);\r\n    spinningTimeRef.current = null;\r\n    endPositionRef.current = null;\r\n    tickRef.current = tick;\r\n    clearInterval(tickInterval.current);\r\n    cancelAnimationFrame(animationFrameRef.current);\r\n  };\r\n  const animationCallback = useCallback((tick: number) => {\r\n    if (positionRef.current === null) return;\r\n    if (positionRef.current + tick >= 360) {\r\n      positionRef.current = 0;\r\n    } else {\r\n      positionRef.current += tick;\r\n    }\r\n\r\n    rotateElements(elementRef.current, positionRef.current);\r\n  }, []);\r\n\r\n  const animate = useCallback(\r\n    (time: number) => {\r\n      if (positionRef.current === null) return;\r\n      if (\r\n        result !== null &&\r\n        endPositionRef.current !== null &&\r\n        endPositionRef.current - positionRef.current >= 0 &&\r\n        positionRef.current + tickRef.current >= endPositionRef.current\r\n      ) {\r\n        reset();\r\n        return;\r\n      }\r\n      animationCallback(tickRef.current);\r\n      if (isSpinning) {\r\n        animationFrameRef.current = requestAnimationFrame(animate);\r\n      }\r\n    },\r\n    [result, isSpinning],\r\n  );\r\n\r\n  useEffect(() => {\r\n    positionRef.current = startPosition;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!spinningTime) {\r\n      tickRef.current = tick;\r\n      return;\r\n    }\r\n    tickInterval.current !== null && clearInterval(tickInterval.current);\r\n    spinningTimeRef.current = spinningTime || null;\r\n\r\n    if (result === null && spinningTimeRef.current !== null) {\r\n      tickRef.current *= 0.9;\r\n      tickInterval.current = setInterval(() => {\r\n        tickRef.current *= 0.9;\r\n      }, 1000);\r\n    }\r\n    return () => {\r\n      clearInterval(tickInterval.current);\r\n    };\r\n  }, [spinningTime, result]);\r\n\r\n  useEffect(() => {\r\n    if (!elementRef.current) return;\r\n\r\n    if (result !== null && positionRef.current !== null) {\r\n      endPositionRef.current = 360 - (360 * result) / itemsLength;\r\n      if (endPositionRef.current === startPosition) {\r\n        setIsSpinning(false);\r\n        endPositionRef.current = null;\r\n        clearInterval(tickInterval.current);\r\n        return;\r\n      }\r\n\r\n      // tickRef.current = resultTick;\r\n    }\r\n    cancelAnimationFrame(animationFrameRef.current);\r\n    animationFrameRef.current = requestAnimationFrame(animate);\r\n    return () => {\r\n      cancelAnimationFrame(animationFrameRef.current);\r\n    };\r\n  }, [startPosition, result, isSpinning]);\r\n};\r\n\r\nexport default useRAF;\r\n","export default __webpack_public_path__ + \"static/media/fortuneDesktop.ab37e58e.png\";","import React, { CSSProperties, FC, useRef } from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { FortuneGameData } from \"pages/Fortune/config\";\r\n\r\nimport light from \"../../assets/fortune/light.png\";\r\nimport arrow from \"../../assets/fortune/pasino-arrow.svg\";\r\nimport logo from \"../../assets/fortune/pasino-logo.svg\";\r\nimport ellipse from \"../../assets/fortune/pasino-ellipse.svg\";\r\nimport center from \"../../assets/fortune/fortuneCenter.svg\";\r\nimport useRAF from \"./hooks/useRAF\";\r\n\r\nimport css from \"./style.module.scss\";\r\nimport { useFortuneControl } from \"pages/Fortune/components/ControlPanel/reducer\";\r\nimport { fortuneActionNames } from \"pages/Fortune/components/ControlPanel/reducer/actions/types\";\r\nimport { useWindowSize } from \"providers\";\r\nimport bgDesktop from \"./fortuneDesktop.png\";\r\nimport bgMobile from \"./fortuneDesktop.png\";\r\n\r\ninterface Props {\r\n  startPosition: number | null;\r\n}\r\n\r\nexport type Decorations = \"light\" | \"rhombus\";\r\nexport const decorationArrays = {\r\n  light: new Array(16).fill(1),\r\n  rhombus: new Array(46).fill(1),\r\n};\r\n\r\nexport const FortuneGame: FC<Props> = ({ startPosition, children }) => {\r\n  const elementRef = useRef<HTMLDivElement[]>([]);\r\n\r\n  const { controlState, controlDispatch } = useFortuneControl();\r\n  const { result, spinningTime, isSpinning } = controlState;\r\n  const { isMobile } = useWindowSize();\r\n\r\n  const items = FortuneGameData;\r\n\r\n  const setIsSpinning = (value: boolean) => {\r\n    controlDispatch({\r\n      type: fortuneActionNames.SET_IS_SPINNING,\r\n      payload: { isSpinning: value },\r\n    });\r\n  };\r\n\r\n  useRAF({\r\n    elementRef,\r\n    startPosition,\r\n    result,\r\n    itemsLength: items.length,\r\n    setIsSpinning,\r\n    isSpinning,\r\n    spinningTime,\r\n  });\r\n\r\n  const renderDecorations = (\r\n    element: Decorations,\r\n    decorationComponent: string,\r\n    i: number,\r\n  ) => {\r\n    return (\r\n      <div\r\n        className={clsx(css[`${element}Container`], css.transition)}\r\n        style={{\r\n          [`--fortune-nb-${element}`]: decorationArrays[element].length,\r\n        }}>\r\n        {decorationArrays[element].map((_, index) => {\r\n          return (\r\n            <div\r\n              className={css[`${element}Wrapper`]}\r\n              style={{ [`--fortune-${element}-nb`]: index }}\r\n              key={index}>\r\n              <img\r\n                className={clsx(\r\n                  css[`${element}`],\r\n                  index % 2 && css[`${element}D`],\r\n                )}\r\n                src={decorationComponent}\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={css.wheelContainer}>\r\n      {children}\r\n\r\n      <div\r\n        className={css.wheel}\r\n        ref={(node) => {\r\n          if (node) elementRef.current[0] = node;\r\n        }}>\r\n        {renderDecorations(\"light\", light, 1)}\r\n        <img className={css.img} src={isMobile ? bgMobile : bgDesktop} alt=\"\" />\r\n      </div>\r\n\r\n      {isMobile ? (\r\n        <img className={css.fortuneEllipse} src={center} />\r\n      ) : (\r\n        <>\r\n          <img className={css.fortuneEllipse} src={ellipse} />\r\n          <img className={css.arrow} src={arrow} />\r\n          <img className={css.arrow} src={logo} />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"sourceRoot":""}