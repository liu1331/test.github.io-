{"version":3,"sources":["pages/BetData.tsx","assets/icons/win-icon.png"],"names":["BetData","isOpen","console","log","useLocation","useModalLocation","params","close","id","userName","pushHistoryTo","useState","gameContentRef","useRef","image","takeScreenShot","coinImg","path","useCallback","current","querySelectorAll","html2canvas","backgroundColor","useCORS","then","canvas","toDataURL","error","window","location","pathname","search","Helmet","defer","onChangeClientState","state","property","content","name","title","visible","onOk","okText","cancelText","onCancel","className","css","box","shareImgWrapper","src","shareImg"],"mappings":"iQA8BaA,EAA0C,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACxDC,QAAQC,IAAIF,GAEKG,cAAjB,IAEA,EAIIC,YAAiB,YAJrB,IACEC,OACAC,GAFF,EACYC,GADZ,EACgBC,SADhB,EAEEF,OAIF,GANA,EAGEG,cAGoCC,oBAAS,IAA/C,mBACMC,GADN,UACuBC,iBAA8B,OAErD,EAAgCF,qBAAhC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAA8BJ,oBAAS,GAAvC,mBAAOK,EAAP,KAwCMC,GAxCN,KAIiBC,uBAAY,WAC3B,GAAIN,EAAeO,SAAWH,EAAS,CACxBJ,EAAeO,QAAQC,iBAAiB,OAqBrDC,IAAYT,EAAeO,QAAS,CAClCG,gBAAiB,KACjBC,SAAS,IACRC,MAAK,SAACC,GACP,IACEV,EAAeU,EAAOC,YAGvB,CAFC,MAAOC,GACPzB,QAAQC,IAAIwB,EACb,CACF,GACF,CACF,GAAE,CAACX,IAESY,OAAOC,SAASC,SAAWF,OAAOC,SAASE,QAExD,OACE,qCACE,eAACC,EAAA,EAAD,CAAQC,OAAO,EAAOC,oBAAqB,SAACC,GAAD,OAAWjC,QAAQC,IAAIgC,EAAvB,EAA3C,UACE,sBAAMC,SAAS,WAAWC,QAAQ,iCAClC,sBACED,SAAS,WACTC,QAAQ,iDAEV,sBAAMD,SAAS,SAASC,QAASpB,IACjC,sBAAMqB,KAAK,eAAeD,QAAQ,wBAElC,sBACED,SAAS,iBACTC,QAAQ,sDAEV,sBAAMC,KAAK,oBAAoBD,QCtGxB,kpIDyGT,cAAC,IAAD,CACEE,MAAM,iCACNC,QAASvC,EACTwC,KAAM,WAAQ,EACdC,OAAO,qGACPC,WAAW,uCACXC,SAAU,kBAAMrC,GAAN,EANZ,SASE,qBAAKsC,UAAWC,IAAIC,IAApB,SACGjC,GACC,qBAAK+B,UAAWC,IAAIE,gBAApB,SACE,qBAAKC,IAAKnC,EAAO+B,UAAWC,IAAII,mBAQ7C,C","file":"static/js/8.7e8d42b0.chunk.js","sourcesContent":["import React, {\r\n  FunctionComponent,\r\n  useEffect,\r\n  useState,\r\n  useMemo,\r\n  useRef,\r\n  useCallback,\r\n} from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport clsx from \"clsx\";\r\n\r\nimport loseImg from \"assets/icons/lose-icon.png\";\r\nimport winImg from \"assets/icons/win-icon.png\";\r\nimport { Share } from \"components/Share\";\r\nimport { ModalsProps } from \"routing/modalRoutes\";\r\nimport { useModalLocation } from \"hooks/useModalLocation\";\r\nimport html2canvas from \"html2canvas\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { Modal } from \"antd\";\r\n\r\nimport css from \"./style.module.scss\";\r\n\r\nconst gameLocations: any = {\r\n  dice: \"hash-dice\",\r\n  videopoker: \"video-poker\",\r\n  blackjack: \"blackjack\",\r\n};\r\n\r\nconst mobileScreen = 600;\r\n\r\nexport const BetData: FunctionComponent<ModalsProps> = ({ isOpen }) => {\r\n  console.log(isOpen);\r\n\r\n  const location = useLocation();\r\n\r\n  const {\r\n    params: { id, userName },\r\n    close,\r\n    pushHistoryTo,\r\n  } = useModalLocation(\"bet-data\");\r\n\r\n  const [isShareOpen, setIsShareOpen] = useState(false);\r\n  const gameContentRef = useRef<HTMLDivElement | null>(null);\r\n  // const [image, takeScreenShot] = useState(\"\");\r\n  const [image, takeScreenShot] = useState<any>();\r\n  const [coinImg, setCoinImg] = useState(false);\r\n\r\n  // const [image, takeScreenShot] = useScreenshot();\r\n\r\n  const getImage = useCallback(() => {\r\n    if (gameContentRef.current && coinImg) {\r\n      const imgs = gameContentRef.current.querySelectorAll(\"img\");\r\n      // imgs.forEach((img) => {\r\n      //   img.crossOrigin = \"anonymous\";\r\n      // });\r\n      // try {\r\n      //   htmlToImage\r\n      //     .toJpeg(gameContentRef.current, {\r\n      //       cacheBust: true,\r\n      //       backgroundColor: \"transparent\",\r\n      //     })\r\n      //     .then((dataUrl) => {\r\n      //       if (gameContentRef.current)\r\n      //         htmlToImage\r\n      //           .toPng(gameContentRef.current, { cacheBust: true })\r\n      //           .then((dataUrl1) => {\r\n      //             takeScreenShot(dataUrl1);\r\n      //           });\r\n      //     });\r\n      // } catch (error) {\r\n      //   console.log(error);\r\n      // }\r\n      html2canvas(gameContentRef.current, {\r\n        backgroundColor: null,\r\n        useCORS: true,\r\n      }).then((canvas) => {\r\n        try {\r\n          takeScreenShot(canvas.toDataURL());\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      });\r\n    }\r\n  }, [coinImg]);\r\n\r\n  const path = window.location.pathname + window.location.search;\r\n\r\n  return (\r\n    <>\r\n      <Helmet defer={false} onChangeClientState={(state) => console.log(state)}>\r\n        <meta property=\"og:title\" content=\"European Travel Destinations\" />\r\n        <meta\r\n          property=\"og:image\"\r\n          content=\"http://euro-travel-example.com/thumbnail.jpg\"\r\n        />\r\n        <meta property=\"og:url\" content={path} />\r\n        <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n\r\n        <meta\r\n          property=\"og:description\"\r\n          content=\"Offering tour packages for individuals or groups.\"\r\n        />\r\n        <meta name=\"twitter:image:alt\" content={winImg} />\r\n      </Helmet>\r\n\r\n      <Modal\r\n        title=\"Заказ\"\r\n        visible={isOpen}\r\n        onOk={() => {}}\r\n        okText=\"Добавить в корзину\"\r\n        cancelText=\"Отмена\"\r\n        onCancel={() => close()}\r\n      >\r\n        {/* <div ref={gameContentRef}> */}\r\n        <div className={css.box}>\r\n          {image && (\r\n            <div className={css.shareImgWrapper}>\r\n              <img src={image} className={css.shareImg}></img>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {/* </div> */}\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n","export default \"data:image/png;base64,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\""],"sourceRoot":""}