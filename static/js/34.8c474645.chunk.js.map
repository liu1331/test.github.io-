{"version":3,"sources":["games/Fortune/components/BetMessage/style.module.scss","games/Fortune/components/PrizeCard/style.module.scss","pages/Fortune/components/ControlPanel/components/SelectionButton/style.module.scss","pages/Fortune/components/ControlPanel/components/AmountInputButton/style.module.scss","pages/Fortune/components/ControlPanel/components/ButtonGroup/style.module.scss","pages/Fortune/components/ControlPanel/components/ControlPanelBody/style.module.scss","pages/Fortune/components/ControlPanel/style.module.scss","pages/Fortune/components/Input/style.module.scss","pages/Fortune/components/AutoModeInputs/style.module.scss","pages/Fortune/components/Button/style.module.scss","pages/Fortune/components/Switch/style.module.scss","pages/Fortune/components/ControlPanel/components/ControlPanelFooter/style.module.scss","pages/Fortune/style.module.scss","pages/Fortune/components/Table/components/Head/style.module.scss","pages/Fortune/components/Table/components/TableCell/style.module.scss","pages/Fortune/components/Table/components/TebleRow/style.module.scss","pages/Fortune/components/Table/components/TableBody/style.module.scss","pages/Fortune/components/Table/style.module.scss","components/HotKeys/Listener/index.ts","games/Fortune/components/BetMessage/index.tsx","games/Fortune/components/BetMessage/createNewRoundTimerListener.ts","assets/fortune/treasure/1X.png","assets/fortune/treasure/3X.png","assets/fortune/treasure/6X.png","assets/fortune/treasure/12X.png","assets/fortune/treasure/25X.png","assets/fortune/treasure/52X.png","games/Fortune/components/PrizeCard/prizeConfig.tsx","games/Fortune/components/PrizeCard/index.tsx","games/Fortune/components/BetNotifyElements/index.tsx","pages/Fortune/components/ControlPanel/reducer/methods/lifecircle/start.ts","pages/Fortune/components/Game/index.tsx","pages/Fortune/components/ControlPanel/reducer/methods/lifecircle/end.ts","pages/Fortune/components/ControlPanel/components/SelectionButton/index.tsx","pages/Fortune/components/ControlPanel/components/AmountInputButton/index.tsx","pages/Fortune/components/ControlPanel/components/ButtonGroup/index.tsx","pages/Fortune/components/ControlPanel/components/ControlPanelBody/index.tsx","pages/Fortune/components/Input/index.tsx","pages/Fortune/components/AutoModeInputs/index.tsx","pages/Fortune/components/Button/index.tsx","pages/Fortune/components/Switch/index.tsx","pages/Fortune/components/ControlPanel/reducer/methods/utils/checkIsValidBet.ts","pages/Fortune/components/ControlPanel/reducer/methods/hooks/useButtonValues.tsx","pages/Fortune/components/ControlPanel/reducer/methods/utils/animateScroll.ts","pages/Fortune/components/ControlPanel/components/ControlPanelFooter/index.tsx","pages/Fortune/components/ControlPanel/index.tsx","pages/Fortune/page.tsx","pages/Fortune/components/Table/tableConfig.tsx","pages/Fortune/components/Table/components/TableCell/index.tsx","pages/Fortune/components/Table/components/TebleRow/index.tsx","pages/Fortune/components/Table/components/Head/index.tsx","pages/Fortune/components/Table/components/TableBody/index.tsx","pages/Fortune/components/Table/createTableListener.ts","pages/Fortune/components/Table/index.tsx","pages/Fortune/index.tsx","pages/Fortune/config/index.ts","pages/Fortune/components/ControlPanel/reducer/actions/types.ts","pages/Fortune/components/ControlPanel/reducer/methods/sockets/makeRequest.ts","pages/Fortune/components/ControlPanel/reducer/methods/utils/autoMode.ts","pages/Fortune/components/ControlPanel/reducer/reducer.tsx","pages/Fortune/components/ControlPanel/reducer/methods/utils/placeBetNotify.ts","pages/Fortune/components/ControlPanel/reducer/context.tsx","pages/Fortune/components/ControlPanel/reducer/provider.tsx","pages/Fortune/components/ControlPanel/reducer/index.ts","pages/Fortune/components/ControlPanel/reducer/fortuneSocketWatcher.tsx","utils/resetFocus.ts","pages/Fortune/components/ControlPanel/reducer/methods/utils/getFortuneResultValues.ts","assets/fortune/light.png","games/Fortune/style.module.scss","assets/fortune/pasino-arrow.svg","assets/fortune/pasino-logo.svg","assets/fortune/pasino-ellipse.svg","assets/fortune/fortuneCenter.svg","games/Fortune/hooks/useRAF.ts","games/Fortune/fortuneDesktop.png","games/Fortune/index.tsx"],"names":["module","exports","ActiveKeys","useHotKeyListener","callbacks","useHotKeys","isHotkeyActive","isHotKeysPaused","useEffect","keyDownListenerIgnore","event","isKeyboardEvent","target","tagName","toLowerCase","code","preventDefault","keyListener","key","callbackKeyA","callbackKeyS","callbackSpace","callbackKeyQ","callbackKeyW","callbackKeyE","callbackKeyR","callbackKeyT","callbackKeyY","callbackKeyD","window","addEventListener","removeEventListener","BetMessage","className","controlState","useFortuneControl","isSpinning","result","betMessageInfo","currentCoin","currentProfit","gameStage","isProfit","Number","timerRef","useRef","element","watcher","data","method","current","innerText","value","fortuneSocketsList","timerListener","profitTableListener","clsx","styles","root","wrapper","timer","ref","getFortuneResultValues","color","selection","stoppedResult","id","style","ratio","lineElement","amount","textProfit","textFail","toFixed","coin","renderContent","prizeImgUrls","Treasure_1X","Treasure_3X","Treasure_6X","Treasure_12X","Treasure_25X","Treasure_52X","PrizeCard","isNewRound","selectionResult","FortuneGameData","css","chest","src","alt","chest_selection","BetNotifyElements","initFortuneSocket","dispatch","a","selectedCoin","coinsManager","createReturnValues","fetchBase","getSocketTokenResponse","sendInitialData","error","track","errors","console","type","socket_token","forEach","param","fortuneSocket","send","open","listener","fortuneSocketWatcher","Game","memo","controlDispatch","startSegment","close","startPosition","length","Fortune","SelectionButton","label","index","isActive","setSelection","props","selectionButton","active","button","onClick","AmountInputButton","classes","disabled","ButtonGroup","setRelativeAmount","isForMobileInput","minBtnText","maxBtnText","children","betAmount","openWarning","btnClass","mobileInputBtn","btnLeft","btnCenter","btnRight","ControlPanelBody","useCoins","coinsList","showInUSD","bet","coinName","coinsConfig","playableStatus","useState","price","USDValue","setUSDValue","intl","useGetLocale","calcUsdAmount","getPermittedBetAmount","find","coinInfo","balance","cryptAmount","usdAmount","String","Math","max","minimum_bet","setBetAmount","fortuneActionNames","SET_BET_FIELD","payload","setProportionalAmount","proportion","currentBet","maximum_bet","minBet","maxBet","coinOptions","useMemo","map","currency","icon","image","inputLabelText","formatMessage","betBody","selectCoin","Select","select","selectedAmount","labelClass","onChange","changeSelectedCoin","options","inputWrapper","desktopInput","e","replace","isNaN","isFinite","setBetAmountHandler","labelClassName","inputLabel","onBlur","betAmountValue","betInputOnBlur","dollarLabel","btnWrapper","selections","selectionItems","item","i","labelValue","Input","isWarningModalOpen","GameInput","buttonClass","refreshIconClass","refreshIcon","input","prevProps","nextProps","showUSD","AutoModeInputs","onWin","onLoss","stopOnProfit","stopOnLoss","showUsdPrefix","onChangeHandler","onBlurHandler","onWinRefresh","onLossRefresh","onLossMode","onWinMode","autoBetModChange","topLabel","labels","values","radioText","SET_ON_WIN_MODE","name","nestedComponents","1","withRefreshIcon","onRefreshActionHandler","SET_ON_WIN","textAdornment","SET_ON_LOSS_MODE","SET_ON_LOSS","SET_STOP_ON_PROFIT","SET_STOP_ON_LOSS","Button","Switch","leftText","rightText","checked","setChecked","switchWrapper","highlight","option","toggle","switchToggle","switchTrack","isValidBet","isValid","buttonNames","automode","wait","new_round","buttonText","helpButtonText","dispatchType","SET_CANCEL_AUTOBET","spinning","watch","SET_PLACE_A_BET","play","manual","SET_CANCEL_BET","animateScrollTo","to","duration","document","scrollingElement","documentElement","start","scrollTop","change","startDate","Date","animateScroll","currentTime","parseInt","t","b","c","d","t2","easeInOutQuad","requestAnimationFrame","ControlPanelFooter","setIsLiveStatOpen","setIsHotkeyOpen","setIsSoundOpen","setIsBettingInfoOpen","isLiveStatOpen","isHotkeyOpen","isSoundOpen","autoMode","isAutoMode","buttonOptions","useButtonValues","inputOnChangeHandler","useCallback","actionType","normalizedNumberStringOnChange","undefined","betButtonAction","SET_IS_SHOW_IN_USD","isShowInUSD","controlPanelFooter","amountLimit","limitationValue","allowNegativeNumbers","enableRestriction","selectedCoinLimits","normalizedNumberStringOnBlur","numberOfBets","action","mode","buttons","SET_IS_AUTO_MODE","betButton","optionsButtons","OptionsButton","withSound","soundOnClick","resetFocus","liveStatOnclick","hotKeysOnClick","bettingInformationOnClick","ControlPanel","Object","keys","controlPanel","FortunePage","React","table","isBetInfoOpen","setIsBetInfoOpen","width","useWindowSize","LiveStats","isOpen","handleClose","onClose","HotKeys","BettingInformation","game","gameBlock","gameCell","gameWrapper","profitTable","gameControlBlock","profitTableMobile","statisticsWrapper","columnNames","tableHeadConfig","title","render","_","renderProps","betData","userAmount","userWins","statsRef","playerText","getProfitClass","profit","tableColumnsConfig","itemDataIndex","player","userName","linkSearch","search","searchParams","user","dataItemColors","btcIcon","textCoin","replaceNumbers","coinPriceState","TableCell","align","tableCell","TableRow","tableRow","Head","columns","renderData","tableHead","column","headTitle","TableBody","tableBody","row","cell","createProfitTableListener","setList","activeUser","interimBets","fillList","interimBetsList","sort","pFirst","pSecond","userId","user_id","Infinity","clearInterimList","throttle","f","ignoredUserNames","waitForReset","newBet","bet_amt","user_name","setLosses","cashedoutBet","list","includes","fillBets","bets","ProfitTable","gameHeight","useUser","coinsPrices","tableList","setTableList","el","tableStyle","height","maxHeight","tableHeadRenderProps","tableBodyRenderProps","text","box","gridTemplateColumns","tableWrapper","shadow","WheelWrapper","Helmet","content","http-equiv","autoModeActionFieldMatching","makeRequest","isSaveToLocal","localStorage","setItem","getStopAutoModeState","state","autoBetsIsStart","baseBetAmount","initialFortuneControlState","startTimerValue","totalBetAmount","totalProfit","spinningTime","fortuneControReducer","SET_RESULT","SET_IS_SPINNING","SET_PLAYABLE_STATUS","notifybarManager","message","timeOut","isNewRoundStage","start_game","time","segment_id","split","stopped","stopped_at","playableStatusValue","previous_rounds","rounds","wheel_point","update_coins_parameters","bet_played","success","placeBetNotify","coinValueUpdate","new_bet_finalized","status","totalProfitValue","baseBetAmountValue","currentBetAmountValue","totalBetAmountValue","liveStatsManager","addBet","isStopAutomode","isWin","onStopValue","isAutomodeStopOn","newCurrentBetAmountValue","newCurrentBetAmount","changemodePercentValue","getAutomodeBetAmountValue","bet_cashedout","finallyBalance","cashedoutError","bet_cashedout_update","defaultValue","arg","Context","createContext","FortuneControlProvider","useReducer","providerValue","Provider","useContext","statisticsHistoryListener","soundListener","datetime","bet_local_id","payout","win","coins","body","tmp","createElement","position","top","opacity","appendChild","focus","removeChild","selectionNumber","tick","rotateElements","elements","angle","transform","useRAF","elementRef","itemsLength","setIsSpinning","animationFrameRef","spinningTimeRef","tickRef","tickInterval","positionRef","endPositionRef","animationCallback","animate","clearInterval","cancelAnimationFrame","setInterval","decorationArrays","light","Array","fill","rhombus","FortuneGame","isMobile","items","decorationComponent","wheelContainer","wheel","node","transition","img","bgMobile","fortuneEllipse","center","ellipse","arrow","logo"],"mappings":"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","file":"static/js/34.8c474645.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapperPadding\":\"10px\",\"desktopHeaderSize\":\"64px\",\"bottomButtonsSize\":\"60px\",\"desktopChatWidth\":\"310px\",\"swipedChatWidth\":\"960px\",\"arrBlockWidth\":\"12px\",\"headerHeight\":\"60px\",\"inputPadding\":\"16px\",\"chatPadding\":\"16px\",\"inputHeight\":\"56px\",\"chatWidth\":\"280px\",\"spacing\":\"8px\",\"mobileScreen\":\"600px\",\"feyorraDisableSize\":\"1080px\",\"root\":\"style_root__1ROgd\",\"emergence\":\"style_emergence__hrsY4\",\"wrapper\":\"style_wrapper__3_xt-\",\"lineElement\":\"style_lineElement__2Llq2\",\"ratio\":\"style_ratio__3wzO7\",\"timer\":\"style_timer__z-7Fr\",\"amount\":\"style_amount__2sy3s\",\"textProfit\":\"style_textProfit__2hnVz\",\"textFail\":\"style_textFail__3fIxM\",\"stoppedResult\":\"style_stoppedResult__1YnOp\",\"coin\":\"style_coin__3rqMM\",\"betMessage\":\"style_betMessage__2Mf0i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__dHNP4\",\"opacity\":\"style_opacity__1Hyh3\",\"wrapper\":\"style_wrapper__2QODf\",\"chest\":\"style_chest__3NJ3i\",\"chest_selection\":\"style_chest_selection__1NwW8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapperPadding\":\"10px\",\"desktopHeaderSize\":\"64px\",\"bottomButtonsSize\":\"60px\",\"desktopChatWidth\":\"310px\",\"swipedChatWidth\":\"960px\",\"arrBlockWidth\":\"12px\",\"headerHeight\":\"60px\",\"inputPadding\":\"16px\",\"chatPadding\":\"16px\",\"inputHeight\":\"56px\",\"chatWidth\":\"280px\",\"spacing\":\"8px\",\"mobileScreen\":\"600px\",\"feyorraDisableSize\":\"1080px\",\"selectionButton\":\"style_selectionButton__2hDb1\",\"active\":\"style_active__3LvA1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapperPadding\":\"10px\",\"desktopHeaderSize\":\"64px\",\"bottomButtonsSize\":\"60px\",\"desktopChatWidth\":\"310px\",\"swipedChatWidth\":\"960px\",\"arrBlockWidth\":\"12px\",\"headerHeight\":\"60px\",\"inputPadding\":\"16px\",\"chatPadding\":\"16px\",\"inputHeight\":\"56px\",\"chatWidth\":\"280px\",\"spacing\":\"8px\",\"mobileScreen\":\"600px\",\"feyorraDisableSize\":\"1080px\",\"wrapper\":\"style_wrapper__38a2d\",\"root\":\"style_root__284XZ\",\"disabled\":\"style_disabled__3O6Ws\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapperPadding\":\"10px\",\"desktopHeaderSize\":\"64px\",\"bottomButtonsSize\":\"60px\",\"desktopChatWidth\":\"310px\",\"swipedChatWidth\":\"960px\",\"arrBlockWidth\":\"12px\",\"headerHeight\":\"60px\",\"inputPadding\":\"16px\",\"chatPadding\":\"16px\",\"inputHeight\":\"56px\",\"chatWidth\":\"280px\",\"spacing\":\"8px\",\"mobileScreen\":\"600px\",\"feyorraDisableSize\":\"1080px\",\"button\":\"style_button__39GXF\",\"btnLeft\":\"style_btnLeft__J9N8L\",\"btnRight\":\"style_btnRight__2FnvZ\",\"btnCenter\":\"style_btnCenter__277ys\",\"mobileInputBtn\":\"style_mobileInputBtn__16MOY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapperPadding\":\"10px\",\"desktopHeaderSize\":\"64px\",\"bottomButtonsSize\":\"60px\",\"desktopChatWidth\":\"310px\",\"swipedChatWidth\":\"960px\",\"arrBlockWidth\":\"12px\",\"headerHeight\":\"60px\",\"inputPadding\":\"16px\",\"chatPadding\":\"16px\",\"inputHeight\":\"56px\",\"chatWidth\":\"280px\",\"spacing\":\"8px\",\"mobileScreen\":\"600px\",\"feyorraDisableSize\":\"1080px\",\"betBody\":\"style_betBody__29SsV\",\"inputWrapper\":\"style_inputWrapper__25KvE\",\"dollarLabel\":\"style_dollarLabel__1uihV\",\"disabled\":\"style_disabled__1OJvS\",\"selectedAmount\":\"style_selectedAmount__13V-5\",\"btnWrapper\":\"style_btnWrapper__O_bgJ\",\"selectCoin\":\"style_selectCoin__1fpng\",\"select\":\"style_select__1x42Y\",\"amount\":\"style_amount__pKmtY\",\"selections\":\"style_selections__2-Kwe\",\"label\":\"style_label__BOxXg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controlPanel\":\"style_controlPanel__gOfw8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapperPadding\":\"10px\",\"desktopHeaderSize\":\"64px\",\"bottomButtonsSize\":\"60px\",\"desktopChatWidth\":\"310px\",\"swipedChatWidth\":\"960px\",\"arrBlockWidth\":\"12px\",\"headerHeight\":\"60px\",\"inputPadding\":\"16px\",\"chatPadding\":\"16px\",\"inputHeight\":\"56px\",\"chatWidth\":\"280px\",\"spacing\":\"8px\",\"mobileScreen\":\"600px\",\"feyorraDisableSize\":\"1080px\",\"fortune\":\"style_fortune__6T2Qs\",\"input\":\"style_input__35vSi\",\"button\":\"style_button__3y97h\",\"refreshIcon\":\"style_refreshIcon__1pgZG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"radioText\":\"style_radioText__7GCf_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__1Fe_L\",\"label\":\"style_label__TNBYy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapperPadding\":\"10px\",\"desktopHeaderSize\":\"64px\",\"bottomButtonsSize\":\"60px\",\"desktopChatWidth\":\"310px\",\"swipedChatWidth\":\"960px\",\"arrBlockWidth\":\"12px\",\"headerHeight\":\"60px\",\"inputPadding\":\"16px\",\"chatPadding\":\"16px\",\"inputHeight\":\"56px\",\"chatWidth\":\"280px\",\"spacing\":\"8px\",\"mobileScreen\":\"600px\",\"feyorraDisableSize\":\"1080px\",\"fortune\":\"style_fortune__2reZk\",\"switchWrapper\":\"style_switchWrapper__3GEVp\",\"option\":\"style_option__3z1Xr\",\"highlight\":\"style_highlight__1__NA\",\"switchToggle\":\"style_switchToggle__1GyC-\",\"switchTrack\":\"style_switchTrack__1KBVb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controlPanelFooter\":\"style_controlPanelFooter__2F3MP\",\"autoMode\":\"style_autoMode__3tZnE\",\"onWin\":\"style_onWin__3BTSH\",\"onLoss\":\"style_onLoss__2YzK8\",\"numberOfBets\":\"style_numberOfBets__OZbEe\",\"stopOnProfit\":\"style_stopOnProfit__1uvP7\",\"stopOnLoss\":\"style_stopOnLoss__1OfII\",\"buttons\":\"style_buttons__180R0\",\"betButton\":\"style_betButton__2Jobx\",\"buttonText\":\"style_buttonText__-scjV\",\"helpButtonText\":\"style_helpButtonText__2F7G5\",\"optionsButtons\":\"style_optionsButtons__T0ZFq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapperPadding\":\"10px\",\"desktopHeaderSize\":\"64px\",\"bottomButtonsSize\":\"60px\",\"desktopChatWidth\":\"310px\",\"swipedChatWidth\":\"960px\",\"arrBlockWidth\":\"12px\",\"headerHeight\":\"60px\",\"inputPadding\":\"16px\",\"chatPadding\":\"16px\",\"inputHeight\":\"56px\",\"chatWidth\":\"280px\",\"spacing\":\"8px\",\"mobileScreen\":\"600px\",\"feyorraDisableSize\":\"1080px\",\"root\":\"style_root__1LRf-\",\"item\":\"style_item__cDv9f\",\"gameBlock\":\"style_gameBlock__1lmna\",\"statisticsWrapper\":\"style_statisticsWrapper__POcmn\",\"gameCell\":\"style_gameCell__3Y1sW\",\"gameWrapper\":\"style_gameWrapper__ZzWpB\",\"profitTable\":\"style_profitTable__1gGz7\",\"profitTableMobile\":\"style_profitTableMobile__3TCMJ\",\"gameControlBlock\":\"style_gameControlBlock__1H4CI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableHead\":\"style_tableHead__3HD2S\",\"headTitle\":\"style_headTitle__1gNeJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableCell\":\"style_tableCell__d5MxJ\",\"center\":\"style_center__3OBfT\",\"right\":\"style_right__39Ub8\",\"left\":\"style_left__2RZpj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableGridTemplateColumns\":\"1fr 0.5fr 1fr 1fr\",\"tableRow\":\"style_tableRow___Wfbl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableGridTemplateColumns\":\"1fr 0.5fr 1fr 1fr\",\"tableBody\":\"style_tableBody__18TEW\",\"title\":\"style_title__mR8t9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapperPadding\":\"10px\",\"desktopHeaderSize\":\"64px\",\"bottomButtonsSize\":\"60px\",\"desktopChatWidth\":\"310px\",\"swipedChatWidth\":\"960px\",\"arrBlockWidth\":\"12px\",\"headerHeight\":\"60px\",\"inputPadding\":\"16px\",\"chatPadding\":\"16px\",\"inputHeight\":\"56px\",\"chatWidth\":\"280px\",\"spacing\":\"8px\",\"mobileScreen\":\"600px\",\"feyorraDisableSize\":\"1080px\",\"tableGridTemplateColumns\":\"1fr 0.5fr 1fr 1fr\",\"box\":\"style_box__3MisU\",\"shadow\":\"style_shadow__2wQDx\",\"table\":\"style_table__5U9Jb\",\"userAmountWrapper\":\"style_userAmountWrapper__Rcs5h\",\"gridTemplateColumns\":\"style_gridTemplateColumns__391sY\",\"playerText\":\"style_playerText__17Noz\",\"textCoin\":\"style_textCoin__2D_On\",\"textFail\":\"style_textFail__RATZE\",\"textProfit\":\"style_textProfit__3gcOp\",\"btcIcon\":\"style_btcIcon__1oP27\",\"userName\":\"style_userName__3deu8\",\"tableWrapper\":\"style_tableWrapper__nab8C\"};","import { useEffect } from \"react\";\r\nimport { isKeyboardEvent } from \"utils/guards\";\r\nimport { useHotKeys } from \"../Provider\";\r\n\r\nenum ActiveKeys {\r\n  KeyA,\r\n  KeyS,\r\n  Space,\r\n  KeyQ,\r\n  KeyW,\r\n  KeyE,\r\n  KeyR,\r\n  KeyT,\r\n  KeyY,\r\n  KeyD,\r\n}\r\n\r\nexport interface HotKeysCallbacks {\r\n  callbackKeyA?: () => void;\r\n  callbackKeyS?: () => void;\r\n  callbackSpace?: () => void;\r\n  callbackKeyQ?: () => void;\r\n  callbackKeyW?: () => void;\r\n  callbackKeyE?: () => void;\r\n  callbackKeyR?: () => void;\r\n  callbackKeyT?: () => void;\r\n  callbackKeyY?: () => void;\r\n  callbackKeyD?: () => void;\r\n}\r\n\r\nexport const useHotKeyListener = (callbacks: HotKeysCallbacks) => {\r\n  const { isHotkeyActive, isHotKeysPaused } = useHotKeys();\r\n\r\n  useEffect(() => {\r\n    const keyDownListenerIgnore = (event: Event | KeyboardEvent) => {\r\n      if (\r\n        !isKeyboardEvent(event) ||\r\n        !isHotkeyActive ||\r\n        isHotKeysPaused ||\r\n        //@ts-ignore\r\n        event.target.tagName.toLowerCase() !== \"body\"\r\n      ) {\r\n        return;\r\n      }\r\n      const key = event.code;\r\n      if (key in ActiveKeys) {\r\n        event.preventDefault();\r\n      }\r\n    };\r\n\r\n    const keyListener = (event: Event | KeyboardEvent) => {\r\n      if (\r\n        !isKeyboardEvent(event) ||\r\n        !isHotkeyActive ||\r\n        isHotKeysPaused ||\r\n        //@ts-ignore\r\n        event.target.tagName.toLowerCase() !== \"body\"\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      const key = event.code;\r\n      if (key in ActiveKeys) {\r\n        event.preventDefault();\r\n        const {\r\n          callbackKeyA,\r\n          callbackKeyS,\r\n          callbackSpace,\r\n          callbackKeyQ,\r\n          callbackKeyW,\r\n          callbackKeyE,\r\n          callbackKeyR,\r\n          callbackKeyT,\r\n          callbackKeyY,\r\n          callbackKeyD,\r\n        } = callbacks;\r\n        switch (key) {\r\n          case \"KeyA\":\r\n            if (callbackKeyA) callbackKeyA();\r\n            break;\r\n          case \"KeyS\":\r\n            if (callbackKeyS) callbackKeyS();\r\n            break;\r\n          case \"Space\":\r\n            if (callbackSpace) callbackSpace();\r\n            break;\r\n          case \"KeyQ\":\r\n            if (callbackKeyQ) callbackKeyQ();\r\n            break;\r\n          case \"KeyW\":\r\n            if (callbackKeyW) callbackKeyW();\r\n            break;\r\n          case \"KeyE\":\r\n            if (callbackKeyE) callbackKeyE();\r\n            break;\r\n          case \"KeyR\":\r\n            if (callbackKeyR) callbackKeyR();\r\n            break;\r\n          case \"KeyT\":\r\n            if (callbackKeyT) callbackKeyT();\r\n            break;\r\n          case \"KeyY\":\r\n            if (callbackKeyY) callbackKeyY();\r\n            break;\r\n          case \"KeyD\":\r\n            if (callbackKeyD) callbackKeyD();\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", keyDownListenerIgnore);\r\n    window.addEventListener(\"keyup\", keyListener);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", keyDownListenerIgnore);\r\n      window.removeEventListener(\"keyup\", keyListener);\r\n    };\r\n  }, [isHotkeyActive, isHotKeysPaused, callbacks]);\r\n};\r\n","import React, { FC, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { GetCoinImg } from \"components\";\r\nimport { useFortuneControl } from \"pages/Fortune/components/ControlPanel/reducer\";\r\n\r\nimport { createNewRoundTimerListener } from \"./createNewRoundTimerListener\";\r\nimport { fortuneSocketsList } from \"pages/Fortune/components/ControlPanel/reducer/fortuneSocketWatcher\";\r\nimport { getFortuneResultValues } from \"pages/Fortune/components/ControlPanel/reducer/methods/utils/getFortuneResultValues\";\r\n\r\nimport styles from \"./style.module.scss\";\r\n\r\ninterface Props {\r\n  className?: string;\r\n}\r\nexport const BetMessage: FC<Props> = ({ className }) => {\r\n  const { controlState } = useFortuneControl();\r\n  const {\r\n    isSpinning,\r\n    result,\r\n    betMessageInfo: { currentCoin, currentProfit },\r\n    gameStage,\r\n  } = controlState;\r\n\r\n  const isProfit = Number(currentProfit) > 0;\r\n  const timerRef = useRef<HTMLHeadingElement>(null);\r\n  useEffect(() => {\r\n    const watcher = createNewRoundTimerListener(timerRef);\r\n    fortuneSocketsList.timerListener = watcher;\r\n\r\n    return () => {\r\n      fortuneSocketsList.profitTableListener = () => null;\r\n    };\r\n  }, []);\r\n\r\n  const renderContent = () => {\r\n    if (isSpinning) {\r\n      return null;\r\n    } else {\r\n      if (gameStage === \"new_round\") {\r\n        return (\r\n          <div className={styles.wrapper}>\r\n            <div className={styles.timer}>\r\n              <h5 ref={timerRef}></h5>\r\n              {/* <h5 ref={timerRef}>New Round in {timerValue}</h5> */}\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n      if (result !== null) {\r\n        const { color, selection } = getFortuneResultValues(result);\r\n        if (currentProfit === null) {\r\n          return (\r\n            <div className={styles.wrapper}>\r\n              <div className={styles.stoppedResult}>\r\n                <h5\r\n                  id=\"selectionResult\"\r\n                  style={{\r\n                    color,\r\n                  }}>\r\n                  {selection}\r\n                </h5>\r\n              </div>\r\n            </div>\r\n          );\r\n        } else {\r\n          return (\r\n            <div className={styles.wrapper}>\r\n              <h5\r\n                key={\"profit\"}\r\n                style={{\r\n                  color: color,\r\n                }}\r\n                className={styles.ratio}>\r\n                {selection}\r\n              </h5>\r\n              <div className={styles.lineElement}></div>\r\n              <div\r\n                className={clsx(\r\n                  styles.amount,\r\n                  isProfit ? styles.textProfit : styles.textFail,\r\n                )}>\r\n                <span>{Number(currentProfit).toFixed(8)}</span>\r\n                <GetCoinImg className={styles.coin} coin={currentCoin} />\r\n              </div>\r\n            </div>\r\n          );\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n  };\r\n\r\n  return <div className={clsx(styles.root, className)}>{renderContent()}</div>;\r\n};\r\n","import { FortuneTimerListener } from \"./../../../../pages/Fortune/fortuneTypes\";\r\nexport const createNewRoundTimerListener = (element: any) => {\r\n  return (data: FortuneTimerListener) => {\r\n    switch (data.method) {\r\n      case \"new_round\":\r\n        if (element.current) {\r\n          element.current.innerText = `New Round in ${data.value}`;\r\n        }\r\n\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n};\r\n","export default __webpack_public_path__ + \"static/media/1X.6691caf5.png\";","export default __webpack_public_path__ + \"static/media/3X.4782d2d7.png\";","export default __webpack_public_path__ + \"static/media/6X.fa9e612d.png\";","export default __webpack_public_path__ + \"static/media/12X.e56d655d.png\";","export default __webpack_public_path__ + \"static/media/25X.89d09a98.png\";","export default __webpack_public_path__ + \"static/media/52X.58dab3df.png\";","import Treasure_1X from \"assets/fortune/treasure/1X.png\";\r\nimport Treasure_3X from \"assets/fortune/treasure/3X.png\";\r\nimport Treasure_6X from \"assets/fortune/treasure/6X.png\";\r\nimport Treasure_12X from \"assets/fortune/treasure/12X.png\";\r\nimport Treasure_25X from \"assets/fortune/treasure/25X.png\";\r\nimport Treasure_52X from \"assets/fortune/treasure/52X.png\";\r\nexport const prizeImgUrls: { [key: string]: string } = {\r\n  \"1X\": Treasure_1X,\r\n  \"3X\": Treasure_3X,\r\n  \"6X\": Treasure_6X,\r\n  \"12X\": Treasure_12X,\r\n  \"25X\": Treasure_25X,\r\n  \"52XA\": Treasure_52X,\r\n  \"52XB\": Treasure_52X,\r\n};\r\n","import clsx from \"clsx\";\r\nimport React from \"react\";\r\n\r\nimport { FortuneGameData } from \"pages/Fortune/config\";\r\nimport { prizeImgUrls } from \"./prizeConfig\";\r\n\r\nimport css from \"./style.module.scss\";\r\n\r\nexport const PrizeCard = ({\r\n  result,\r\n  isNewRound,\r\n  isProfit,\r\n}: {\r\n  result: number;\r\n  isNewRound: boolean;\r\n  isProfit: boolean;\r\n}) => {\r\n  const selectionResult = FortuneGameData[result].selection;\r\n\r\n  return !isNewRound && isProfit ? (\r\n    <div className={css.root}>\r\n      <div className={clsx(css.wrapper)}>\r\n        <img className={css.chest} src={prizeImgUrls[selectionResult]} alt=\"\" />\r\n        <span className={css.chest_selection}>{selectionResult}</span>\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n};\r\n","import React, { FC } from \"react\";\r\n\r\nimport { useFortuneControl } from \"pages/Fortune/components/ControlPanel/reducer\";\r\nimport { BetMessage } from \"../BetMessage\";\r\nimport { PrizeCard } from \"../PrizeCard\";\r\n\r\nconst BetNotifyElements: FC = () => {\r\n  const { controlState } = useFortuneControl();\r\n  const { isSpinning, result, betMessageInfo, gameStage } = controlState;\r\n  const isProfit = Number(betMessageInfo.currentProfit) > 0;\r\n  const isNewRound = gameStage === \"new_round\";\r\n  return (\r\n    <>\r\n      {!isSpinning && result !== null && (\r\n        <PrizeCard\r\n          result={result}\r\n          isNewRound={isNewRound}\r\n          isProfit={isProfit}\r\n        />\r\n      )}\r\n      <BetMessage />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BetNotifyElements;\r\n","import { coinsManager } from \"hooks\";\r\nimport { Dispatch } from \"react\";\r\nimport { fetchBase, fortuneSocket, track } from \"utils\";\r\nimport { FortuneActionsType } from \"../../actions/types\";\r\nimport { fortuneSocketWatcher } from \"../../fortuneSocketWatcher\";\r\n\r\nexport const initFortuneSocket = async function (\r\n  dispatch: Dispatch<FortuneActionsType>,\r\n) {\r\n  const selectedCoin = coinsManager.createReturnValues().selectedCoin?.coin;\r\n  const getSocketTokenResponse: any = await fetchBase(\r\n    \"/account/get-socket-token\",\r\n  );\r\n\r\n  const sendInitialData = async () => {\r\n    let selectedCoinName = \"GEM\";\r\n\r\n    try {\r\n      if (selectedCoin) {\r\n        selectedCoinName = selectedCoin;\r\n      }\r\n    } catch (error) {\r\n      track()?.errors(error);\r\n\r\n      console.error(\"error when trying to get selected coin\");\r\n      selectedCoinName = \"\";\r\n    }\r\n\r\n    const sendData = [\r\n      {\r\n        type: \"initialization\",\r\n        socket_token: getSocketTokenResponse?.data.socket_token || \"\",\r\n      },\r\n      { type: \"get_previous_rounds\" },\r\n      { type: \"get_coins_parameters\" },\r\n      {\r\n        type: \"get_current_bets\",\r\n      },\r\n    ];\r\n\r\n    sendData.forEach((param) => {\r\n      fortuneSocket.send(param);\r\n    });\r\n  };\r\n\r\n  fortuneSocket.open(sendInitialData);\r\n  fortuneSocket.listener();\r\n  fortuneSocket.dispatch(fortuneSocketWatcher(dispatch));\r\n};\r\n","import React, { FC, memo, useEffect, useMemo } from \"react\";\r\n\r\nimport BetNotifyElements from \"games/Fortune/components/BetNotifyElements\";\r\n\r\nimport { FortuneGame } from \"games/Fortune\";\r\nimport { useFortuneControl } from \"../ControlPanel/reducer\";\r\nimport { FortuneGameData } from \"../../config\";\r\nimport { initFortuneSocket } from \"../ControlPanel/reducer/methods/lifecircle/start\";\r\nimport { closeFortuneSocket } from \"../ControlPanel/reducer/methods/lifecircle/end\";\r\n\r\nimport css from \"./style.module.scss\";\r\n\r\nexport const Game: FC = memo(() => {\r\n  const { controlState, controlDispatch } = useFortuneControl();\r\n  const { startSegment } = controlState;\r\n\r\n  useEffect(() => {\r\n    initFortuneSocket(controlDispatch);\r\n    return () => {\r\n      closeFortuneSocket();\r\n    };\r\n  }, []);\r\n\r\n  if (startSegment === null) return <p>Loading..</p>;\r\n  const startPosition = 360 - (360 * startSegment) / FortuneGameData.length;\r\n\r\n  return (\r\n    <>\r\n      <FortuneGame startPosition={startPosition}>\r\n        <BetNotifyElements />\r\n      </FortuneGame>\r\n    </>\r\n  );\r\n});\r\n","import { fortuneSocket } from \"utils\";\r\n\r\nexport const closeFortuneSocket = () => {\r\n  const onCloseSocketMessage = \"Went to another page\";\r\n  fortuneSocket.close(onCloseSocketMessage, true);\r\n};\r\n","//@ts-nocheck\r\nimport clsx from \"clsx\";\r\nimport { fortuneSelectionType } from \"pages/Fortune/config\";\r\nimport React, { DetailedHTMLProps, FC } from \"react\";\r\nimport css from \"./style.module.scss\";\r\ninterface ISelectionButton\r\n  extends DetailedHTMLProps<\r\n    React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    HTMLButtonElement\r\n  > {\r\n  label: string;\r\n  index: number;\r\n  color: string;\r\n  isActive: boolean;\r\n  setSelection: (selection: fortuneSelectionType, id: string) => void;\r\n}\r\n\r\nexport const SelectionButton: FC<ISelectionButton> = ({\r\n  label,\r\n  index,\r\n  color,\r\n  isActive,\r\n  setSelection,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div\r\n      className={clsx(css.selectionButton, { [css.active]: isActive })}\r\n      style={{\r\n        \"--selectionButtonBackground\": color,\r\n      }}>\r\n      <button className={clsx(css.button)} onClick={setSelection} {...props}>\r\n        {label}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React, { FC } from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { Input as InputBase, InputProps } from \"components\";\r\n\r\nimport styles from \"./style.module.scss\";\r\n\r\nexport const AmountInputButton: FC<InputProps> = ({ className, ...props }) => {\r\n  return (\r\n    <div className={clsx(styles.wrapper, className)}>\r\n      <InputBase\r\n        {...props}\r\n        classes={{\r\n          root: styles.root,\r\n          disabled: styles.disabled,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { FC } from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { Button } from \"components\";\r\n\r\nimport styles from \"./style.module.scss\";\r\n\r\ninterface Props {\r\n  setRelativeAmount: (proportion: \"25%\" | \"50%\" | \"max\" | \"min\") => void;\r\n  betAmount: string;\r\n  isForMobileInput: boolean;\r\n  minBtnText: string;\r\n  maxBtnText: string;\r\n  openWarning?: () => void;\r\n}\r\n\r\nexport const ButtonGroup: FC<Props> = ({\r\n  setRelativeAmount,\r\n  isForMobileInput,\r\n  minBtnText,\r\n  maxBtnText,\r\n  betAmount,\r\n  openWarning,\r\n  children,\r\n}) => {\r\n  let btnClass = styles.button;\r\n  if (isForMobileInput) btnClass = clsx(styles.button, styles.mobileInputBtn);\r\n\r\n  return (\r\n    <>\r\n      {children}\r\n      <Button\r\n        className={clsx(btnClass, styles.btnLeft)}\r\n        onClick={() => setRelativeAmount(\"min\")}>\r\n        {minBtnText}\r\n      </Button>\r\n      <Button\r\n        className={clsx(btnClass, styles.btnCenter)}\r\n        onClick={() => setRelativeAmount(\"25%\")}>\r\n        25%\r\n      </Button>\r\n      <Button\r\n        className={clsx(btnClass, styles.btnCenter)}\r\n        onClick={() => setRelativeAmount(\"50%\")}>\r\n        50%\r\n      </Button>\r\n      <Button\r\n        className={clsx(btnClass, styles.btnRight)}\r\n        onClick={() => setRelativeAmount(\"max\")}>\r\n        {maxBtnText}\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useMemo, useState } from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport Select from \"components/Select\";\r\n\r\nimport { useGetLocale } from \"providers\";\r\nimport { coinsManager, useCoins } from \"hooks\";\r\nimport { AmountInputButton } from \"../AmountInputButton\";\r\nimport { ButtonGroup } from \"../ButtonGroup\";\r\nimport { useFortuneControl } from \"../../reducer\";\r\nimport { fortuneActionNames } from \"../../reducer/actions/types\";\r\nimport { SelectionButton } from \"../SelectionButton\";\r\nimport { fortuneSelectionType, selectionItems } from \"pages/Fortune/config\";\r\n\r\nimport css from \"./style.module.scss\";\r\nimport { useHotKeyListener } from \"components/HotKeys/Listener\";\r\n\r\nexport const ControlPanelBody = () => {\r\n  const { coinsList, selectedCoin, showInUSD } = useCoins();\r\n  const { controlState, controlDispatch } = useFortuneControl();\r\n  const {\r\n    bet: { betAmount, coinName, id, selection },\r\n    coinsConfig,\r\n    playableStatus,\r\n  } = controlState;\r\n  const [USDValue, setUSDValue] = useState(\r\n    (Number(betAmount) * Number(coinsConfig[coinName].price || 0)).toFixed(8),\r\n  );\r\n  const intl = useGetLocale();\r\n  const calcUsdAmount = (amount: string | number) =>\r\n    (Number(amount) * Number(coinsConfig[coinName].price)).toFixed(8);\r\n  const getPermittedBetAmount = (\r\n    coinName: string,\r\n    betAmount: string | number,\r\n  ) => {\r\n    const coin = coinsList.find((coinInfo) => coinInfo.coin === coinName);\r\n    let balance = coin?.balance || 0;\r\n    let cryptAmount = betAmount;\r\n    let usdAmount = calcUsdAmount(betAmount);\r\n    if (showInUSD && coinName !== \"GEM\") {\r\n      usdAmount = String(betAmount);\r\n      cryptAmount = Math.max(\r\n        Number(betAmount) / Number(coinsConfig[coinName].price),\r\n        Number(coinsConfig[coinName].minimum_bet),\r\n      ).toFixed(8);\r\n    }\r\n    setUSDValue(usdAmount);\r\n\r\n    return Number(balance) !== 0 ? String(cryptAmount) : (0).toFixed(8);\r\n  };\r\n  const setBetAmount = (betAmount: string, id: string, coinName: string) => {\r\n    controlDispatch({\r\n      type: fortuneActionNames.SET_BET_FIELD,\r\n      payload: {\r\n        betAmount: getPermittedBetAmount(coinName, betAmount),\r\n        id,\r\n        coinName,\r\n      },\r\n    });\r\n  };\r\n  const setSelection = (selection: fortuneSelectionType, id: string) => {\r\n    controlDispatch({\r\n      type: fortuneActionNames.SET_BET_FIELD,\r\n      payload: { selection, id },\r\n    });\r\n  };\r\n\r\n  const setBetAmountHandler = (event: any, id: string, coinName: string) => {\r\n    const amount = Number(event.target.value.replace(\"$\", \"\"));\r\n    if (isNaN(amount) || !isFinite(amount)) return;\r\n\r\n    setBetAmount(event.target.value.replace(\"$\", \"\"), id, String(coinName));\r\n  };\r\n  const setProportionalAmount = (\r\n    proportion: \"25%\" | \"50%\" | \"max\" | \"min\",\r\n    betAmount: string,\r\n    id: string,\r\n    coinName: string,\r\n  ) => {\r\n    if (playableStatus !== \"watch\") return;\r\n    const currentBet = Number(betAmount);\r\n    const { minimum_bet, price, maximum_bet } = coinsConfig[coinName];\r\n    switch (proportion) {\r\n      case \"25%\":\r\n        return setBetAmount((currentBet / 4).toFixed(8), id, String(coinName));\r\n      case \"50%\":\r\n        return setBetAmount((currentBet / 2).toFixed(8), id, String(coinName));\r\n      case \"min\": {\r\n        let minBet = String(minimum_bet) || \"0\";\r\n        if (showInUSD && coinName !== \"GEM\") {\r\n          minBet = (Number(minBet) * Number(selectedCoin?.price)).toFixed(8);\r\n        }\r\n        return setBetAmount(minBet ? minBet : \"\", id, String(coinName));\r\n      }\r\n      case \"max\": {\r\n        let maxBet = +maximum_bet;\r\n\r\n        if (maxBet) {\r\n          if (showInUSD && coinName !== \"GEM\") {\r\n            maxBet *= Number(price);\r\n          }\r\n        }\r\n        return setBetAmount(maxBet.toFixed(8), id, String(coinName));\r\n      }\r\n    }\r\n  };\r\n  const setDoubleBetAmount = () => {\r\n    if (playableStatus !== \"watch\") return;\r\n    const currentBet = Number(betAmount);\r\n    setBetAmount((currentBet * 2).toFixed(8), id, String(coinName));\r\n  };\r\n\r\n  const coinOptions = useMemo(\r\n    () =>\r\n      coinsList.map((currency) => {\r\n        if (currency.coin === selectedCoin?.coin) {\r\n          let balance = selectedCoin.balance;\r\n          if (showInUSD && selectedCoin.coin !== \"GEM\") {\r\n            balance =\r\n              \"$\" +\r\n              (\r\n                Number(selectedCoin.balance) * Number(selectedCoin?.price)\r\n              ).toFixed(8);\r\n          }\r\n          return {\r\n            value: currency.coin,\r\n            label: balance,\r\n            icon: currency.image,\r\n          };\r\n        }\r\n        return {\r\n          value: currency.coin,\r\n          icon: currency.image,\r\n          label: currency.balance,\r\n        };\r\n      }),\r\n    [coinsList, selectedCoin, showInUSD],\r\n  );\r\n\r\n  const betInputOnBlur = (betAmount: string, id: string, coinName: string) => {\r\n    let betAmountValue = Number(betAmount).toFixed(8);\r\n\r\n    if (showInUSD && coinName !== \"GEM\") {\r\n      betAmountValue = Math.max(\r\n        Number(USDValue),\r\n        Number(coinsConfig[coinName].minimum_bet) *\r\n          Number(coinsConfig[coinName].price),\r\n      ).toFixed(8);\r\n    }\r\n    setBetAmount(betAmountValue, id, coinName);\r\n  };\r\n\r\n  const inputLabelText = intl.formatMessage({ id: \"fortune.inputLabel\" });\r\n  const minBtnText = intl.formatMessage({ id: \"fortune.buttons.min\" });\r\n  const maxBtnText = intl.formatMessage({ id: \"fortune.buttons.max\" });\r\n\r\n  useEffect(() => {\r\n    if (!coinsList.length) return;\r\n    controlDispatch({\r\n      type: fortuneActionNames.SET_BET_FIELD,\r\n      payload: {\r\n        betAmount: getPermittedBetAmount(\r\n          coinName,\r\n          coinsConfig[coinName].minimum_bet,\r\n        ),\r\n        id: \"1\",\r\n      },\r\n    });\r\n  }, [coinsList]);\r\n  useEffect(() => {\r\n    if (\r\n      selectedCoin &&\r\n      selectedCoin?.coin !== coinName &&\r\n      playableStatus === \"watch\"\r\n    ) {\r\n      controlDispatch({\r\n        type: fortuneActionNames.SET_BET_FIELD,\r\n        payload: {\r\n          coinName: selectedCoin?.coin,\r\n          id,\r\n          betAmount: getPermittedBetAmount(\r\n            selectedCoin?.coin,\r\n            coinsConfig[selectedCoin?.coin].minimum_bet,\r\n          ),\r\n        },\r\n      });\r\n    }\r\n  }, [selectedCoin, playableStatus]);\r\n  useHotKeyListener({\r\n    callbackKeyA: () => {\r\n      setProportionalAmount(\"50%\", betAmount, id, coinName);\r\n    },\r\n    callbackKeyS: setDoubleBetAmount,\r\n  });\r\n  return (\r\n    <>\r\n      <div key={id} className={css.betBody}>\r\n        <div className={clsx(css.selectCoin)}>\r\n          <Select\r\n            classes={{\r\n              root: css.select,\r\n              selectedAmount: css.selectedAmount,\r\n            }}\r\n            labelClass={css.label}\r\n            value={coinName}\r\n            disabled={playableStatus !== \"watch\"}\r\n            onChange={(value) => {\r\n              const coin = coinsList.find(\r\n                (currency) => currency.coin === value,\r\n              );\r\n              if (coin) {\r\n                let minBet = coinsConfig[coin.coin].minimum_bet;\r\n                if (showInUSD && coinName !== \"GEM\") {\r\n                  minBet = (\r\n                    +coinsConfig[coin.coin].minimum_bet *\r\n                    Number(coinsConfig[coin.coin].price)\r\n                  ).toFixed(8);\r\n                }\r\n                setBetAmount(minBet, id, coin.coin);\r\n                coinsManager.changeSelectedCoin(coin.coin);\r\n              }\r\n            }}\r\n            options={coinOptions}\r\n          />\r\n        </div>\r\n        <div className={clsx(css.amount)}>\r\n          <div className={clsx(css.inputWrapper, css.desktopInput)}>\r\n            <AmountInputButton\r\n              label={inputLabelText}\r\n              value={showInUSD ? USDValue : betAmount}\r\n              onChange={(e) => setBetAmountHandler(e, id, coinName)}\r\n              disabled={\r\n                playableStatus !== \"watch\" || (showInUSD && coinName === \"GEM\")\r\n              }\r\n              labelClassName={css.inputLabel}\r\n              onBlur={(e) => betInputOnBlur(e.target.value, id, coinName)}\r\n            />\r\n            {showInUSD && selectedCoin?.coin !== \"GEM\" && (\r\n              <span className={css.dollarLabel}>$</span>\r\n            )}\r\n            <div className={css.btnWrapper}>\r\n              <ButtonGroup\r\n                isForMobileInput={false}\r\n                betAmount={betAmount}\r\n                setRelativeAmount={(\r\n                  proportion: \"25%\" | \"50%\" | \"max\" | \"min\",\r\n                ) => setProportionalAmount(proportion, betAmount, id, coinName)}\r\n                minBtnText={minBtnText}\r\n                maxBtnText={maxBtnText}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={clsx(css.selections)}>\r\n          {selectionItems.map((item, i) => {\r\n            const labelValue =\r\n              item.selection === \"52XA\" || item.selection === \"52XB\"\r\n                ? \"52X\"\r\n                : item.selection;\r\n            return (\r\n              <SelectionButton\r\n                label={labelValue}\r\n                color={item.color}\r\n                disabled={playableStatus !== \"watch\"}\r\n                index={i}\r\n                isActive={item.selection === selection}\r\n                setSelection={() => setSelection(item.selection, id)}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, { FC, memo } from \"react\";\r\n\r\nimport GameInput, { Props as GameInputProps } from \"components/GameInput\";\r\n\r\nimport styles from \"./style.module.scss\";\r\n\r\ninterface Props extends GameInputProps {\r\n  isWarningModalOpen?: boolean;\r\n}\r\n\r\nconst Input: FC<Props> = ({ className, isWarningModalOpen, ...props }) => {\r\n  return (\r\n    <GameInput\r\n      {...props}\r\n      className={className}\r\n      buttonClass={styles.button}\r\n      refreshIconClass={styles.refreshIcon}\r\n      classes={{ root: styles.input }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default memo(\r\n  Input,\r\n  (prevProps, nextProps) =>\r\n    prevProps.value === nextProps.value &&\r\n    prevProps.disabled === nextProps.disabled &&\r\n    prevProps.coin === nextProps.coin &&\r\n    prevProps.showUSD === nextProps.showUSD &&\r\n    prevProps.isWarningModalOpen === nextProps.isWarningModalOpen &&\r\n    prevProps.className === nextProps.className,\r\n);\r\n","import React, { FC, ChangeEvent } from \"react\";\r\n\r\nimport clsx from \"clsx\";\r\nimport Input from \"../Input\";\r\n\r\nimport { useGetLocale } from \"providers\";\r\nimport { RadioGroup } from \"components\";\r\nimport { AutoBetMode } from \"../ControlPanel/reducer/reducer\";\r\nimport { fortuneActionNames } from \"../ControlPanel/reducer/actions/types\";\r\n\r\nimport css from \"./style.module.scss\";\r\n\r\nexport interface Classes {\r\n  onWin: string;\r\n  onLoss: string;\r\n  numberOfBets: string;\r\n  stopOnLoss: string;\r\n  stopOnProfit: string;\r\n}\r\n\r\nexport interface Props {\r\n  onWin: string;\r\n  onLoss: string;\r\n  stopOnProfit: string;\r\n  stopOnLoss: string;\r\n  classes?: Classes;\r\n  coin?: string;\r\n  showUsdPrefix?: boolean;\r\n  disabled?: boolean;\r\n  onChangeHandler: (\r\n    event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\r\n    action: fortuneActionNames,\r\n  ) => void;\r\n  onBlurHandler: (\r\n    event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\r\n    action: fortuneActionNames,\r\n    allowNegative?: boolean,\r\n    enableRestriction?: boolean,\r\n  ) => void;\r\n  onWinRefresh: () => void;\r\n  onLossRefresh: () => void;\r\n  onWinMode: AutoBetMode;\r\n  onLossMode: AutoBetMode;\r\n  autoBetModChange: (\r\n    event: ChangeEvent<HTMLInputElement>,\r\n    action:\r\n      | typeof fortuneActionNames.SET_ON_LOSS_MODE\r\n      | typeof fortuneActionNames.SET_ON_WIN_MODE,\r\n  ) => void;\r\n}\r\n\r\nconst AutoModeInputs: FC<Props> = ({\r\n  onWin,\r\n  onLoss,\r\n  stopOnProfit,\r\n  stopOnLoss,\r\n  classes,\r\n  coin,\r\n  showUsdPrefix,\r\n  disabled,\r\n  onChangeHandler,\r\n  onBlurHandler,\r\n  onWinRefresh,\r\n  onLossRefresh,\r\n  onLossMode,\r\n  onWinMode,\r\n  autoBetModChange,\r\n}) => {\r\n  const intl = useGetLocale();\r\n\r\n  return (\r\n    <>\r\n      <div className={clsx(classes?.onWin)}>\r\n        <RadioGroup\r\n          topLabel={intl.formatMessage({ id: \"mines.input.onWin\" })}\r\n          labels={[\"Change Bet By (%)\", \"Reset To Base Bet\", \"Stop Betting\"]}\r\n          values={[\"change\", \"reset\", \"stop\"]}\r\n          className={css.radioText}\r\n          onChange={(event) =>\r\n            autoBetModChange(event, fortuneActionNames.SET_ON_WIN_MODE)\r\n          }\r\n          value={onWinMode}\r\n          name={\"mines_automode_onwin_radiogroup\"}\r\n          nestedComponents={{\r\n            1: (\r\n              <Input\r\n                withRefreshIcon\r\n                onRefreshActionHandler={onWinRefresh}\r\n                onChange={(event) =>\r\n                  onChangeHandler(event, fortuneActionNames.SET_ON_WIN)\r\n                }\r\n                onBlur={(event) =>\r\n                  onBlurHandler(event, fortuneActionNames.SET_ON_WIN, true)\r\n                }\r\n                value={onWin}\r\n                textAdornment={intl.formatMessage({\r\n                  id: \"mines.input.increaseBy\",\r\n                })}\r\n                disabled={disabled}\r\n              />\r\n            ),\r\n          }}\r\n          disabled={disabled}\r\n        />\r\n      </div>\r\n      <div className={classes?.onLoss}>\r\n        <RadioGroup\r\n          labels={[\"Change Bet By (%)\", \"Reset To Base Bet\", \"Stop Betting\"]}\r\n          values={[\"change\", \"reset\", \"stop\"]}\r\n          className={css.radioText}\r\n          topLabel={intl.formatMessage({ id: \"mines.input.onLoss\" })}\r\n          onChange={(event) =>\r\n            autoBetModChange(event, fortuneActionNames.SET_ON_LOSS_MODE)\r\n          }\r\n          value={onLossMode}\r\n          name={\"mines_automode_onloss_radiogroup\"}\r\n          disabled={disabled}\r\n          nestedComponents={{\r\n            1: (\r\n              <Input\r\n                withRefreshIcon\r\n                onRefreshActionHandler={onLossRefresh}\r\n                onChange={(event) =>\r\n                  onChangeHandler(event, fortuneActionNames.SET_ON_LOSS)\r\n                }\r\n                onBlur={(event) =>\r\n                  onBlurHandler(event, fortuneActionNames.SET_ON_LOSS, true)\r\n                }\r\n                value={onLoss}\r\n                textAdornment={intl.formatMessage({\r\n                  id: \"mines.input.increaseBy\",\r\n                })}\r\n                disabled={disabled}\r\n              />\r\n            ),\r\n          }}\r\n        />\r\n      </div>\r\n      <Input\r\n        topLabel={`${intl.formatMessage({ id: \"mines.input.stopOnProfit\" })} ${\r\n          showUsdPrefix ? \"(USD)\" : \"\"\r\n        }`}\r\n        className={classes?.stopOnProfit}\r\n        onChange={(event) =>\r\n          onChangeHandler(event, fortuneActionNames.SET_STOP_ON_PROFIT)\r\n        }\r\n        onBlur={(event) =>\r\n          onBlurHandler(event, fortuneActionNames.SET_STOP_ON_PROFIT)\r\n        }\r\n        value={stopOnProfit}\r\n        showUSD={showUsdPrefix}\r\n        disabled={disabled}\r\n      />\r\n      <Input\r\n        topLabel={`${intl.formatMessage({ id: \"mines.input.stopOnLoss\" })} ${\r\n          showUsdPrefix ? \"(USD)\" : \"\"\r\n        }`}\r\n        className={classes?.stopOnLoss}\r\n        onChange={(event) =>\r\n          onChangeHandler(event, fortuneActionNames.SET_STOP_ON_LOSS)\r\n        }\r\n        onBlur={(event) =>\r\n          onBlurHandler(event, fortuneActionNames.SET_STOP_ON_LOSS)\r\n        }\r\n        value={stopOnLoss}\r\n        showUSD={showUsdPrefix}\r\n        disabled={disabled}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AutoModeInputs;\r\n","import React, { FC } from \"react\";\r\n\r\nimport { Button as BaseButton, ButtonProps } from \"components\";\r\n\r\nimport styles from \"./style.module.scss\";\r\n\r\nconst Button: FC<ButtonProps> = ({ children, ...props }) => {\r\n  return (\r\n    <BaseButton\r\n      className={styles.root}\r\n      classes={{ label: styles.label }}\r\n      {...props}>\r\n      {children}\r\n    </BaseButton>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React, { FC, Dispatch, SetStateAction } from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { Switch as SwitchBase } from \"components\";\r\n\r\nimport styles from \"./style.module.scss\";\r\n\r\ninterface Props {\r\n  leftText: string;\r\n  rightText: string;\r\n  checked: boolean;\r\n  setChecked: Dispatch<SetStateAction<boolean>> | ((value: boolean) => void);\r\n  disabled?: boolean;\r\n}\r\n\r\nconst Switch: FC<Props> = ({\r\n  leftText,\r\n  rightText,\r\n  checked,\r\n  disabled,\r\n  setChecked,\r\n}) => {\r\n  return (\r\n    <div className={styles.switchWrapper}>\r\n      <span\r\n        className={clsx(\r\n          {\r\n            [styles.highlight]: !checked,\r\n          },\r\n          styles.option,\r\n        )}\r\n        onClick={() => {\r\n          if (disabled) return;\r\n          setChecked(false);\r\n        }}>\r\n        {leftText}\r\n      </span>\r\n      <SwitchBase\r\n        checked={checked}\r\n        onChange={(event) => {\r\n          setChecked(event.target.checked);\r\n        }}\r\n        disabled={disabled}\r\n        classes={{\r\n          toggle: styles.switchToggle,\r\n          track: styles.switchTrack,\r\n        }}\r\n      />\r\n      <span\r\n        className={clsx(\r\n          {\r\n            [styles.highlight]: checked,\r\n          },\r\n          styles.option,\r\n        )}\r\n        onClick={() => {\r\n          if (disabled) return;\r\n          setChecked(true);\r\n        }}>\r\n        {rightText}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Switch;\r\n","import { fortuneSelectionType } from \"pages/Fortune/config\";\r\nimport { IBet } from \"../../reducer\";\r\n\r\nexport const isValidBet = (bet: IBet): boolean => {\r\n  let isValid = true;\r\n  if (Number(bet.betAmount) <= 0) {\r\n    isValid = false;\r\n  }\r\n  return isValid;\r\n};\r\n","import React from \"react\";\r\nimport { useFortuneControl } from \"../..\";\r\nimport { fortuneActionNames } from \"../../actions/types\";\r\nconst buttonNames: { [key: string]: any } = {\r\n  automode: {\r\n    wait: {\r\n      new_round: {\r\n        buttonText: \"wait\",\r\n        helpButtonText: \"cancel autobet\",\r\n        dispatchType: fortuneActionNames.SET_CANCEL_AUTOBET,\r\n      },\r\n      spinning: {\r\n        buttonText: \"wait\",\r\n        helpButtonText: \"cancel autobet\",\r\n        dispatchType: fortuneActionNames.SET_CANCEL_AUTOBET,\r\n      },\r\n    },\r\n    watch: {\r\n      spinning: {\r\n        buttonText: \"start autobet\",\r\n        helpButtonText: \"for next round\",\r\n        dispatchType: fortuneActionNames.SET_PLACE_A_BET,\r\n      },\r\n      watch: {\r\n        buttonText: \"start autobet\",\r\n        helpButtonText: \"for next round\",\r\n        dispatchType: fortuneActionNames.SET_PLACE_A_BET,\r\n      },\r\n      new_round: {\r\n        buttonText: \"start autobet\",\r\n        helpButtonText: \"\",\r\n        dispatchType: fortuneActionNames.SET_PLACE_A_BET,\r\n      },\r\n    },\r\n    play: {\r\n      new_round: {\r\n        buttonText: \"wait\",\r\n        helpButtonText: \"\",\r\n      },\r\n      spinning: {\r\n        buttonText: \"wait\",\r\n        helpButtonText: \"cancel autobet\",\r\n        dispatchType: fortuneActionNames.SET_CANCEL_AUTOBET,\r\n      },\r\n    },\r\n  },\r\n  manual: {\r\n    wait: {\r\n      new_round: {\r\n        buttonText: \"wait\",\r\n        helpButtonText: \"\",\r\n      },\r\n\r\n      spinning: {\r\n        buttonText: \"wait\",\r\n        helpButtonText: \"cancel bet\",\r\n        dispatchType: fortuneActionNames.SET_CANCEL_BET,\r\n      },\r\n    },\r\n    watch: {\r\n      spinning: {\r\n        buttonText: \"bet\",\r\n        helpButtonText: \"for next round\",\r\n        dispatchType: fortuneActionNames.SET_PLACE_A_BET,\r\n      },\r\n      watch: {\r\n        buttonText: \"bet\",\r\n        helpButtonText: \"for next round\",\r\n        dispatchType: fortuneActionNames.SET_PLACE_A_BET,\r\n      },\r\n      new_round: {\r\n        buttonText: \"bet\",\r\n        helpButtonText: \"\",\r\n        dispatchType: fortuneActionNames.SET_PLACE_A_BET,\r\n      },\r\n    },\r\n    play: {\r\n      new_round: {\r\n        buttonText: \"wait\",\r\n        helpButtonText: \"\",\r\n      },\r\n      spinning: {\r\n        buttonText: \"wait\",\r\n        helpButtonText: \"\",\r\n      },\r\n    },\r\n  },\r\n};\r\nexport const useButtonValues = (): {\r\n  buttonText: string;\r\n  helpButtonText: string;\r\n  disabled: boolean;\r\n  dispatchType?:\r\n    | fortuneActionNames.SET_CANCEL_AUTOBET\r\n    | fortuneActionNames.SET_CANCEL_BET\r\n    | fortuneActionNames.SET_PLACE_A_BET;\r\n} => {\r\n  let disabled = false;\r\n  const { controlState } = useFortuneControl();\r\n  const { isAutoMode, playableStatus, gameStage } = controlState;\r\n  let buttonOptions;\r\n  if (\r\n    playableStatus === \"play\" ||\r\n    (playableStatus === \"wait\" && gameStage === \"new_round\")\r\n  ) {\r\n    disabled = true;\r\n  }\r\n  if (isAutoMode) {\r\n    buttonOptions = buttonNames.automode[playableStatus][gameStage];\r\n    disabled = playableStatus === \"play\" && gameStage === \"new_round\";\r\n  } else {\r\n    buttonOptions = buttonNames.manual[playableStatus][gameStage];\r\n  }\r\n\r\n  return { ...buttonOptions, disabled };\r\n};\r\n","export const animateScrollTo = (to: number, duration: number) => {\r\n  const element = document.scrollingElement || document.documentElement;\r\n  const start = element.scrollTop;\r\n  const change = to - start;\r\n  const startDate = +new Date();\r\n  // t = current time\r\n  // b = start value\r\n  // c = change in value\r\n  // d = duration\r\n  const easeInOutQuad = (\r\n    t: number,\r\n    b: number,\r\n    c: number,\r\n    d: number,\r\n  ): string => {\r\n    let t2 = t;\r\n    t2 /= d / 2;\r\n    if (t2 < 1) return String((c / 2) * t2 * t2 + b);\r\n    t2 -= 1;\r\n    return String((-c / 2) * (t2 * (t2 - 2) - 1) + b);\r\n  };\r\n  const animateScroll = () => {\r\n    const currentDate = +new Date();\r\n    const currentTime = currentDate - startDate;\r\n    element.scrollTop = parseInt(\r\n      easeInOutQuad(currentTime, start, change, duration),\r\n      10,\r\n    );\r\n    if (currentTime < duration) {\r\n      requestAnimationFrame(animateScroll);\r\n    } else {\r\n      element.scrollTop = to;\r\n    }\r\n  };\r\n  animateScroll();\r\n};\r\n","import React, { ChangeEvent, useCallback, useEffect } from \"react\";\r\n\r\nimport AutoModeInputs from \"../../../AutoModeInputs\";\r\nimport Button from \"../../../Button\";\r\nimport Switch from \"../../../Switch\";\r\nimport OptionsButton from \"components/OptionsButton\";\r\n\r\nimport { useCoins } from \"hooks\";\r\nimport { useGetLocale } from \"providers\";\r\nimport { isValidBet } from \"../../reducer/methods/utils/checkIsValidBet\";\r\nimport { useButtonValues } from \"../../reducer/methods/hooks/useButtonValues\";\r\nimport { useFortuneControl } from \"../../reducer\";\r\nimport { AutoBetMode } from \"../../reducer/reducer\";\r\nimport {\r\n  normalizedNumberStringOnBlur,\r\n  normalizedNumberStringOnChange,\r\n} from \"utils\";\r\nimport {\r\n  fortuneActionNames,\r\n  FortuneActionsType,\r\n} from \"../../reducer/actions/types\";\r\nimport { animateScrollTo } from \"../../reducer/methods/utils/animateScroll\";\r\nimport { resetFocus } from \"utils/resetFocus\";\r\nimport { IControlPanelProps } from \"../..\";\r\n\r\nimport css from \"./style.module.scss\";\r\nimport { useHotKeyListener } from \"components/HotKeys/Listener\";\r\nimport { createSoundListener } from \"./createSoundListener\";\r\nimport { fortuneSocketsList } from \"../../reducer/fortuneSocketWatcher\";\r\nimport { useSoundSystemControl } from \"components/SoundModal/Provider\";\r\nimport {\r\n  gamePathNames,\r\n  getSoundEffectNames,\r\n} from \"components/SoundModal/Provider/config\";\r\n\r\nexport const ControlPanelFooter = ({\r\n  setIsLiveStatOpen,\r\n  setIsHotkeyOpen,\r\n  setIsSoundOpen,\r\n  setIsBettingInfoOpen,\r\n  isLiveStatOpen,\r\n  isHotkeyOpen,\r\n  isSoundOpen,\r\n}: IControlPanelProps) => {\r\n  const { selectedCoin, showInUSD } = useCoins();\r\n  const { controlDispatch, controlState } = useFortuneControl();\r\n  const intl = useGetLocale();\r\n  const { autoMode, isAutoMode, playableStatus, isSpinning } = controlState;\r\n\r\n  const { buttonText, helpButtonText, disabled, dispatchType } =\r\n    useButtonValues();\r\n\r\n  const inputOnChangeHandler = useCallback(\r\n    (\r\n      event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\r\n      actionType: fortuneActionNames,\r\n    ) => {\r\n      const value = normalizedNumberStringOnChange(event);\r\n      if (value === undefined) return;\r\n      controlDispatch({\r\n        type: actionType,\r\n        payload: { value },\r\n      } as FortuneActionsType);\r\n    },\r\n    [],\r\n  );\r\n  const inputOnBlurHandler = (\r\n    event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\r\n    actionType: string,\r\n    allowNegativeNumbers = false,\r\n    enableRestriction = false,\r\n  ) => {\r\n    let amountLimit: number | undefined;\r\n    let limitationValue: number | undefined;\r\n    if (selectedCoin && enableRestriction) {\r\n      amountLimit =\r\n        showInUSD && selectedCoin?.price\r\n          ? Number(selectedCoin.balance) * Number(selectedCoin?.price)\r\n          : Number(selectedCoin.balance);\r\n      const selectedCoinLimits = controlState.coinsConfig[selectedCoin.coin];\r\n\r\n      limitationValue =\r\n        showInUSD && selectedCoin?.price\r\n          ? Number(selectedCoinLimits?.minimum_bet || 0) *\r\n            Number(selectedCoin?.price)\r\n          : Number(selectedCoinLimits?.minimum_bet || 0);\r\n    }\r\n    const value = normalizedNumberStringOnBlur(\r\n      event,\r\n      allowNegativeNumbers,\r\n      amountLimit,\r\n      limitationValue,\r\n    );\r\n\r\n    controlDispatch({\r\n      type: actionType,\r\n      payload: { value },\r\n    } as FortuneActionsType);\r\n  };\r\n  const betButtonAction = () => {\r\n    if (dispatchType) {\r\n      controlDispatch({\r\n        type: dispatchType,\r\n      });\r\n    }\r\n    if (isAutoMode && dispatchType === fortuneActionNames.SET_PLACE_A_BET) {\r\n      animateScrollTo(0, 500);\r\n    }\r\n  };\r\n  const showUsdPrefix = showInUSD && selectedCoin?.coin !== \"GEM\";\r\n  const handleLiveStatChange = () => {\r\n    setIsLiveStatOpen(!isLiveStatOpen);\r\n  };\r\n  const handleHotKeysChange = () => {\r\n    resetFocus();\r\n    setIsHotkeyOpen(!isHotkeyOpen);\r\n  };\r\n  const handleSoundChange = () => {\r\n    resetFocus();\r\n    setIsSoundOpen(!isSoundOpen);\r\n  };\r\n  useHotKeyListener({\r\n    callbackSpace: betButtonAction,\r\n  });\r\n  // const { controlFunctions, soundSystemState } = useSoundSystemControl();\r\n  // const { spinning, win } = getSoundEffectNames(gamePathNames.FORTUNE);\r\n  // useEffect(() => {\r\n  //   controlFunctions.preload();\r\n  // }, []);\r\n\r\n  useEffect(() => {\r\n    controlDispatch({\r\n      type: fortuneActionNames.SET_IS_SHOW_IN_USD,\r\n      payload: { isShowInUSD: showInUSD },\r\n    });\r\n  }, [showInUSD]);\r\n  // useEffect(() => {\r\n  //   const watcher = createSoundListener(\r\n  //     controlFunctions,\r\n  //     soundSystemState.isCanPlaySound,\r\n  //     isSpinning,\r\n  //   );\r\n  //   fortuneSocketsList.soundListener = watcher;\r\n\r\n  //   return () => {\r\n  //     fortuneSocketsList.soundListener = () => null;\r\n  //   };\r\n  // }, [isSpinning, soundSystemState.isCanPlaySound, controlFunctions]);\r\n  // useEffect(() => {\r\n  //   if (!isSpinning) {\r\n  //     setTimeout(() => {\r\n  //       setTimeout(() => {\r\n  //         controlFunctions.stopEffect(spinning);\r\n  //       }, 100);\r\n  //       if (\r\n  //         controlState.betMessageInfo.currentProfit &&\r\n  //         +controlState.betMessageInfo.currentProfit > 0\r\n  //       ) {\r\n  //         controlFunctions.playEffect(win);\r\n  //       }\r\n  //     }, 200);\r\n  //   }\r\n  // }, [isSpinning]);\r\n  return (\r\n    <div className={css.controlPanelFooter}>\r\n      {isAutoMode && (\r\n        <div className={css.autoMode}>\r\n          <AutoModeInputs\r\n            onLossMode={autoMode.onLossMode}\r\n            onWinMode={autoMode.onWinMode}\r\n            coin={selectedCoin?.coin}\r\n            onWin={autoMode.onWin}\r\n            onLoss={autoMode.onLoss}\r\n            stopOnLoss={autoMode.stopOnLoss}\r\n            stopOnProfit={autoMode.stopOnProfit}\r\n            onChangeHandler={inputOnChangeHandler}\r\n            onBlurHandler={inputOnBlurHandler}\r\n            classes={{\r\n              onLoss: css.onLoss,\r\n              onWin: css.onWin,\r\n              stopOnLoss: css.stopOnLoss,\r\n              stopOnProfit: css.stopOnProfit,\r\n              numberOfBets: css.numberOfBets,\r\n            }}\r\n            showUsdPrefix={showUsdPrefix}\r\n            disabled={playableStatus !== \"watch\"}\r\n            onWinRefresh={() => {\r\n              controlDispatch({\r\n                type: fortuneActionNames.SET_ON_WIN,\r\n                payload: { value: \"\" },\r\n              });\r\n            }}\r\n            onLossRefresh={() => {\r\n              controlDispatch({\r\n                type: fortuneActionNames.SET_ON_LOSS,\r\n                payload: { value: \"\" },\r\n              });\r\n            }}\r\n            autoBetModChange={(event, action) => {\r\n              controlDispatch({\r\n                type: action,\r\n                payload: { mode: event.target.value as AutoBetMode },\r\n              });\r\n            }}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      <div className={css.buttons}>\r\n        <Switch\r\n          rightText={intl.formatMessage({ id: \"mines.switch.auto\" })}\r\n          leftText={intl.formatMessage({ id: \"mines.switch.manual\" })}\r\n          checked={isAutoMode}\r\n          setChecked={(value: boolean) => {\r\n            controlDispatch({\r\n              type: fortuneActionNames.SET_IS_AUTO_MODE,\r\n              payload: { isAutoMode: value },\r\n            });\r\n          }}\r\n          disabled={playableStatus !== \"watch\"}\r\n        />\r\n        <div className={css.betButton}>\r\n          <Button\r\n            onClick={betButtonAction}\r\n            disabled={!isValidBet(controlState.bet) || disabled}>\r\n            <p className={css.buttonText}>{buttonText}</p>\r\n            {helpButtonText && (\r\n              <span className={css.helpButtonText}>{helpButtonText}</span>\r\n            )}\r\n          </Button>\r\n        </div>\r\n        <div className={css.optionsButtons}>\r\n          <OptionsButton\r\n            withSound\r\n            soundOnClick={handleSoundChange}\r\n            liveStatOnclick={handleLiveStatChange}\r\n            hotKeysOnClick={handleHotKeysChange}\r\n            bettingInformationOnClick={setIsBettingInfoOpen}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { Dispatch, SetStateAction } from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { ControlPanelBody } from \"./components\";\r\n\r\nimport css from \"./style.module.scss\";\r\nimport { ControlPanelFooter } from \"./components/ControlPanelFooter\";\r\nimport { useFortuneControl } from \"./reducer\";\r\nexport interface IControlPanelProps {\r\n  setIsLiveStatOpen: Dispatch<SetStateAction<boolean>>;\r\n  setIsHotkeyOpen: Dispatch<SetStateAction<boolean>>;\r\n  setIsSoundOpen: Dispatch<SetStateAction<boolean>>;\r\n  setIsBettingInfoOpen: () => void;\r\n\r\n  isLiveStatOpen: boolean;\r\n  isHotkeyOpen: boolean;\r\n  isSoundOpen: boolean;\r\n}\r\nexport const ControlPanel = ({\r\n  setIsLiveStatOpen,\r\n  setIsHotkeyOpen,\r\n  setIsSoundOpen,\r\n  setIsBettingInfoOpen,\r\n  isLiveStatOpen,\r\n  isHotkeyOpen,\r\n  isSoundOpen,\r\n}: IControlPanelProps) => {\r\n  const {\r\n    controlState: { coinsConfig },\r\n  } = useFortuneControl();\r\n  return Object.keys(coinsConfig).length !== 0 ? (\r\n    <div className={css.controlPanel}>\r\n      <ControlPanelBody />\r\n      <ControlPanelFooter\r\n        setIsSoundOpen={setIsSoundOpen}\r\n        setIsLiveStatOpen={setIsLiveStatOpen}\r\n        setIsHotkeyOpen={setIsHotkeyOpen}\r\n        isLiveStatOpen={isLiveStatOpen}\r\n        isHotkeyOpen={isHotkeyOpen}\r\n        isSoundOpen={isSoundOpen}\r\n        setIsBettingInfoOpen={setIsBettingInfoOpen}\r\n      />\r\n    </div>\r\n  ) : null;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { Statistics } from \"components\";\r\nimport { Game } from \"./components/Game\";\r\nimport { ControlPanel } from \"./components/ControlPanel\";\r\nimport { useWindowSize } from \"providers\";\r\n\r\nimport \"config/themes/_fortune.scss\";\r\nimport classes from \"./style.module.scss\";\r\nimport LiveStats from \"components/LiveStats\";\r\nimport { HotKeysModal } from \"components/HotKeys\";\r\nimport BettingInformation from \"pages/ModalPages/pages/BettingInformation\";\r\nimport SoundModals from \"components/SoundModal/Modal\";\r\n\r\nconst FortunePage = React.memo(({ table }: { table: JSX.Element }) => {\r\n  const [isLiveStatOpen, setIsLiveStatOpen] = useState(false);\r\n  const [isSoundOpen, setIsSoundOpen] = useState(false);\r\n  const [isHotkeyOpen, setIsHotkeyOpen] = useState(false);\r\n  const [isBetInfoOpen, setIsBetInfoOpen] = useState(false);\r\n  const { width } = useWindowSize();\r\n\r\n  const handleLiveStatClose = () => {\r\n    setIsLiveStatOpen(false);\r\n  };\r\n  const handleHotKeysClose = () => {\r\n    setIsHotkeyOpen(false);\r\n  };\r\n  const handleSoundClose = () => {\r\n    setIsSoundOpen(false);\r\n  };\r\n  return (\r\n    <div className={classes.root}>\r\n      <LiveStats isOpen={isLiveStatOpen} handleClose={handleLiveStatClose} />\r\n      <SoundModals isOpen={isSoundOpen} onClose={handleSoundClose} />\r\n      <HotKeysModal isOpen={isHotkeyOpen} onClose={handleHotKeysClose} />\r\n      <BettingInformation\r\n        isOpen={isBetInfoOpen}\r\n        game=\"fortunequest\"\r\n        onClose={() => setIsBetInfoOpen(false)}\r\n      />\r\n      <div className={classes.item}>\r\n        <div className={classes.gameBlock}>\r\n          <div className={clsx(classes.gameCell)}>\r\n            <div className={classes.gameWrapper}>\r\n              <Game />\r\n            </div>\r\n            {width >= 1280 && (\r\n              <div className={classes.profitTable}>{table}</div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className={classes.gameControlBlock}>\r\n          <ControlPanel\r\n            setIsLiveStatOpen={setIsLiveStatOpen}\r\n            setIsHotkeyOpen={setIsHotkeyOpen}\r\n            setIsSoundOpen={setIsSoundOpen}\r\n            isLiveStatOpen={isLiveStatOpen}\r\n            isHotkeyOpen={isHotkeyOpen}\r\n            isSoundOpen={isSoundOpen}\r\n            setIsBettingInfoOpen={() => setIsBetInfoOpen(true)}\r\n          />\r\n        </div>\r\n        {width < 1280 && (\r\n          <div className={classes.profitTableMobile}>{table}</div>\r\n        )}\r\n      </div>\r\n      <div className={classes.item}>\r\n        <div className={classes.statisticsWrapper}>\r\n          <Statistics />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default FortunePage;\r\n","import React, { LegacyRef } from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { GetCoinImg, LinkWithSearch, LinkWithSearchProps } from \"components\";\r\nimport { coinsManager } from \"hooks\";\r\nimport { FormatMessage } from \"providers\";\r\nimport { replaceNumbers } from \"utils\";\r\n\r\nimport { HeadColumn, IColumn } from \"./types\";\r\nimport { GameBetUser } from \"pages/Fortune/fortuneTypes\";\r\nimport { dataItemColors } from \"pages/Fortune/config\";\r\n\r\nexport const columnNames = {\r\n  PLAYER: \"player\",\r\n  SELECTION: \"selection\",\r\n  BET: \"bet\",\r\n  PROFIT: \"profit\",\r\n};\r\n\r\nexport const tableHeadConfig: HeadColumn[] = [\r\n  {\r\n    title: columnNames.PLAYER,\r\n    render: (\r\n      _,\r\n      renderProps: {\r\n        betData: {\r\n          userAmount: number;\r\n          userWins: number;\r\n        };\r\n        statsRef: LegacyRef<HTMLParagraphElement> | undefined;\r\n        classes: {\r\n          playerText: string;\r\n        };\r\n      },\r\n    ) => {\r\n      const {\r\n        betData: { userAmount, userWins },\r\n        statsRef,\r\n        classes,\r\n      } = renderProps;\r\n      return (\r\n        <div>\r\n          <p>\r\n            <FormatMessage id=\"crashInterface.table.player\" />\r\n          </p>\r\n          {userAmount > 0 ? (\r\n            <p ref={statsRef} className={classes.playerText}>\r\n              {`(${userWins}/${userAmount})`}\r\n            </p>\r\n          ) : null}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    title: columnNames.SELECTION,\r\n  },\r\n  {\r\n    title: columnNames.BET,\r\n    render: (title) => {\r\n      return <FormatMessage id={`crashInterface.table.${title}`} />;\r\n    },\r\n  },\r\n  {\r\n    title: columnNames.PROFIT,\r\n\r\n    render: (title) => {\r\n      return <FormatMessage id={`crashInterface.table.${title}`} />;\r\n    },\r\n  },\r\n];\r\n\r\n//   #data === player\r\n\r\n//if haven`t render method => table return #data[itemDataIndex],\r\n//else => method render return JSX.Elment that based on #data and renderProps\r\nconst getProfitClass = (profit: number | null | undefined, classes: any) => {\r\n  if (profit && profit > 0) {\r\n    return classes[\"textProfit\"];\r\n  }\r\n  if (profit && profit < 0) {\r\n    return classes[\"textFail\"];\r\n  }\r\n  return \"\";\r\n};\r\nexport const tableColumnsConfig: IColumn[] = [\r\n  {\r\n    title: columnNames.PLAYER,\r\n    itemDataIndex: \"userName\",\r\n    render: (\r\n      player: GameBetUser,\r\n      renderProps: {\r\n        classes: {\r\n          textProfit: string;\r\n          textFail: string;\r\n          userName: string;\r\n        };\r\n      },\r\n    ) => {\r\n      const { userName, profit } = player;\r\n      const { classes } = renderProps;\r\n\r\n      const linkSearch: LinkWithSearchProps = {\r\n        search: { name: \"page\", value: \"profile\" },\r\n        searchParams: {\r\n          user: userName,\r\n        },\r\n      };\r\n\r\n      return (\r\n        <LinkWithSearch {...linkSearch}>\r\n          <span\r\n            className={clsx(classes.userName, getProfitClass(profit, classes))}>\r\n            {userName}\r\n          </span>\r\n        </LinkWithSearch>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    title: columnNames.SELECTION,\r\n    itemDataIndex: \"selection\",\r\n    render: (\r\n      player: GameBetUser,\r\n      renderProps: {\r\n        classes: {\r\n          textProfit: string;\r\n          textFail: string;\r\n        };\r\n      },\r\n    ) => {\r\n      const { selection, profit } = player;\r\n      const { classes } = renderProps;\r\n      if (selection) {\r\n        return (\r\n          <div\r\n            style={{ color: dataItemColors[selection] }}\r\n            className={clsx(getProfitClass(profit, classes))}>\r\n            {`${selection.replace(/[^0-9]/g, \"\")}X`}\r\n          </div>\r\n        );\r\n      }\r\n      return <></>;\r\n    },\r\n  },\r\n  {\r\n    title: columnNames.BET,\r\n    itemDataIndex: \"betAmount\",\r\n    render: (\r\n      player: GameBetUser,\r\n      renderProps: {\r\n        classes: {\r\n          textProfit: string;\r\n          textFail: string;\r\n          textCoin: string;\r\n          btcIcon: string;\r\n        };\r\n        showInUSD: boolean;\r\n      },\r\n    ) => {\r\n      const { coin, betAmount, profit } = player;\r\n      const { classes, showInUSD } = renderProps;\r\n      return (\r\n        <>\r\n          <GetCoinImg coin={coin} className={classes.btcIcon} />\r\n          <span\r\n            className={clsx(classes.textCoin, getProfitClass(profit, classes))}>\r\n            {showInUSD\r\n              ? `$${replaceNumbers(\r\n                  (\r\n                    Number(betAmount) *\r\n                    Number(coinsManager.coinPriceState[coin]?.price)\r\n                  ).toFixed(8),\r\n                )}`\r\n              : Number(betAmount).toFixed(8)}\r\n          </span>\r\n        </>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    title: columnNames.PROFIT,\r\n    itemDataIndex: \"profit\",\r\n    render: (\r\n      player: GameBetUser,\r\n      renderProps: {\r\n        classes: {\r\n          textCoin: string;\r\n          btcIcon: string;\r\n          textProfit: string;\r\n          textFail: string;\r\n        };\r\n        showInUSD: boolean;\r\n      },\r\n      index,\r\n    ) => {\r\n      const { coin, profit } = player;\r\n      const { classes, showInUSD } = renderProps;\r\n\r\n      return (\r\n        <>\r\n          {profit && profit > 0 && (\r\n            <GetCoinImg coin={coin} className={classes.btcIcon} />\r\n          )}\r\n          <span\r\n            className={clsx(classes.textCoin, getProfitClass(profit, classes))}>\r\n            {profit && profit > 0\r\n              ? showInUSD\r\n                ? `$${replaceNumbers(\r\n                    (\r\n                      Number(profit) *\r\n                      Number(coinsManager.coinPriceState[coin].price)\r\n                    ).toFixed(8),\r\n                  )}`\r\n                : Number(profit).toFixed(8)\r\n              : \"-\"}\r\n          </span>\r\n        </>\r\n      );\r\n    },\r\n  },\r\n];\r\n","import React, { FC } from \"react\";\r\nimport { IColumn } from \"../../types\";\r\nimport css from \"./style.module.scss\";\r\nimport clsx from \"clsx\";\r\nexport interface ITableCell {\r\n  classes?: string[];\r\n  align?: \"left\" | \"right\" | \"center\";\r\n}\r\n\r\nexport const TableCell: FC<ITableCell> = ({\r\n  classes,\r\n  align = \"left\",\r\n  children,\r\n}) => {\r\n  return (\r\n    <div className={clsx(css.tableCell, classes, css[align])}>{children}</div>\r\n  );\r\n};\r\n","import React, { FC } from \"react\";\r\nimport { IColumn } from \"../../types\";\r\nimport css from \"./style.module.scss\";\r\nimport clsx from \"clsx\";\r\ninterface ITableRow {\r\n  classes?: string[];\r\n}\r\nexport const TableRow: FC<ITableRow> = ({ classes, children }) => {\r\n  return <div className={clsx(css.tableRow, classes)}>{children}</div>;\r\n};\r\n","//@ts-nocheck\r\n\r\nimport React, { FC } from \"react\";\r\nimport { HeadColumn } from \"../../types\";\r\nimport css from \"./style.module.scss\";\r\nimport clsx from \"clsx\";\r\nimport { TableCell } from \"../TableCell\";\r\nimport { TableRow } from \"../TebleRow\";\r\ninterface IHead\r\n  extends DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLDivElement>,\r\n    HTMLDivElement\r\n  > {\r\n  columns: HeadColumn[];\r\n  classes?: string[];\r\n  align?: \"left\" | \"right\" | \"center\";\r\n\r\n  renderData?: {\r\n    [key: string]: any;\r\n  };\r\n}\r\nexport const Head = ({\r\n  classes,\r\n  align = \"center\",\r\n  columns,\r\n  renderData,\r\n  ...props\r\n}: IHead) => {\r\n  return (\r\n    <div\r\n      className={clsx(css.tableHead)}\r\n      style={{ \"--columnsCount\": columns.length }}\r\n      {...props}>\r\n      <TableRow classes={classes}>\r\n        {columns.map((column, index) => {\r\n          const { title, render } = column;\r\n          return (\r\n            <TableCell align={align}>\r\n              <p className={css.headTitle}>\r\n                {render\r\n                  ? render(title, renderData && renderData[column.title], index)\r\n                  : title}\r\n              </p>\r\n            </TableCell>\r\n          );\r\n        })}\r\n      </TableRow>\r\n    </div>\r\n  );\r\n};\r\n","//@ts-nocheck\r\n\r\nimport React, { FC } from \"react\";\r\nimport { IColumn } from \"../../types\";\r\nimport css from \"./style.module.scss\";\r\nimport clsx from \"clsx\";\r\nimport { TableRow } from \"../TebleRow\";\r\nimport { TableCell } from \"../TableCell\";\r\ninterface ITableBody\r\n  extends DetailedHTMLProps<\r\n    React.HTMLAttributes<HTMLDivElement>,\r\n    HTMLDivElement\r\n  > {\r\n  data: any[];\r\n  columns: IColumn[];\r\n  classes?: {\r\n    root?: string;\r\n    row?: string;\r\n    cell?: string;\r\n    title?: string;\r\n  };\r\n  align?: \"left\" | \"right\" | \"center\";\r\n  renderData?: {\r\n    [key: string]: any;\r\n  };\r\n}\r\nexport const TableBody = ({\r\n  classes,\r\n  data,\r\n  columns,\r\n  renderData,\r\n  align = \"left\",\r\n  ...props\r\n}: ITableBody) => {\r\n  return (\r\n    <div\r\n      className={clsx(css.tableBody, classes?.root)}\r\n      style={{ \"--columnsCount\": columns.length }}\r\n      {...props}>\r\n      {data.map((item, index) => {\r\n        return (\r\n          <TableRow key={index} classes={clsx(classes?.row)}>\r\n            {columns.map((column) => {\r\n              const { itemDataIndex, render } = column;\r\n              return (\r\n                <TableCell classes={clsx(classes?.cell)} align={align}>\r\n                  <p className={clsx(classes?.title, css.title)}>\r\n                    {render\r\n                      ? render(\r\n                          item,\r\n                          renderData && renderData[column.title],\r\n                          index,\r\n                        )\r\n                      : item[itemDataIndex]}\r\n                  </p>\r\n                </TableCell>\r\n              );\r\n            })}\r\n          </TableRow>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n","import { throttle } from \"utils/lodash\";\r\nimport { User } from \"providers/User/Context\";\r\nimport {\r\n  CurrentBetsState,\r\n  FortuneBets,\r\n  GameBetUser,\r\n  ProfitTableListenerType,\r\n} from \"pages/Fortune/fortuneTypes\";\r\n\r\nexport const createProfitTableListener = (\r\n  setList: (value: GameBetUser[]) => void,\r\n  activeUser: User | null,\r\n) => {\r\n  let interimBets: FortuneBets = {};\r\n\r\n  const fillList = () => {\r\n    let interimBetsList = Object.values(interimBets);\r\n    interimBetsList.length > 1 &&\r\n      interimBetsList.sort((pFirst, pSecond) => {\r\n        if (pFirst.userId === activeUser?.user_id) {\r\n          // active User must be in up\r\n          return -1;\r\n        } else if (pSecond.userId === activeUser?.user_id) {\r\n          return 1;\r\n        }\r\n\r\n        if (pFirst.profit) {\r\n          const firstPlayerProfit = Number(pFirst.profit);\r\n          const secondPlayerProfit = pSecond.profit\r\n            ? Number(pSecond.profit)\r\n            : Infinity;\r\n\r\n          if (firstPlayerProfit < secondPlayerProfit) {\r\n            return 1; //down\r\n          }\r\n        }\r\n        return -1; //up\r\n      });\r\n    setList(interimBetsList);\r\n  };\r\n  const clearInterimList = () => {\r\n    for (let key in interimBets) {\r\n      delete interimBets[key];\r\n    }\r\n  };\r\n  const wait = throttle((f: () => void) => {\r\n    f();\r\n  }, 300);\r\n  const render = () => {\r\n    wait(() => fillList());\r\n  };\r\n  const setLosses = () => {\r\n    for (let key in interimBets) {\r\n      if (!interimBets[key].profit) {\r\n        interimBets[key].profit = -1;\r\n      }\r\n    }\r\n    fillList();\r\n  };\r\n\r\n  const ignoredUserNames = [\"hcacw\", \"hcacw_stream\"];\r\n\r\n  const fillBets = (list: CurrentBetsState) => {\r\n    for (const id in list) {\r\n      //@ts-ignore\r\n      const user = list[id][Object.keys(list[id])[0]];\r\n\r\n      const isUserMastBeIgnored = ignoredUserNames.includes(user.user_name);\r\n      if (!isUserMastBeIgnored) {\r\n        interimBets[`${user.user_id}`] = {\r\n          betAmount: Number(user.bet_amt),\r\n          coin: user.coin,\r\n          userId: user.user_id,\r\n          userName: user.user_name,\r\n          selection: user.selection,\r\n          profit: user.profit,\r\n        };\r\n      }\r\n    }\r\n\r\n    render();\r\n  };\r\n\r\n  let waitForReset = false;\r\n\r\n  return (data: ProfitTableListenerType) => {\r\n    switch (data.method) {\r\n      case \"new_bet\":\r\n        if (waitForReset) {\r\n          clearInterimList();\r\n          fillList();\r\n          waitForReset = false;\r\n        }\r\n\r\n        const newBet: GameBetUser = {\r\n          betAmount: Number(data.bet_amt),\r\n          userId: data.user_id,\r\n          userName: data.user_name,\r\n          coin: data.coin,\r\n          selection: data.selection,\r\n          profit: null,\r\n        };\r\n\r\n        interimBets[data.user_id] = newBet;\r\n        render();\r\n\r\n        break;\r\n\r\n      case \"stopped\":\r\n        setLosses();\r\n        waitForReset = true;\r\n        break;\r\n\r\n      case \"bet_cashedout_update\":\r\n        const cashedoutBet = interimBets[data.user_id];\r\n        if (cashedoutBet) {\r\n          cashedoutBet.profit = Number(data.profit);\r\n          render();\r\n        }\r\n        break;\r\n      case \"current_bets\":\r\n        fillBets(data.bets);\r\n        break;\r\n      case \"new_round\":\r\n        if (waitForReset) {\r\n          clearInterimList();\r\n          fillList();\r\n          waitForReset = false;\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n};\r\n","import React, {\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport {\r\n  columnNames,\r\n  tableColumnsConfig,\r\n  tableHeadConfig,\r\n} from \"./tableConfig\";\r\nimport { Head } from \"./components\";\r\nimport { TableBody } from \"./components/TableBody\";\r\nimport { GameBetUser } from \"pages/Fortune/fortuneTypes\";\r\nimport { fortuneSocketsList } from \"../ControlPanel/reducer/fortuneSocketWatcher\";\r\nimport { useWindowSize } from \"providers\";\r\nimport { useCoins } from \"hooks\";\r\nimport { useUser } from \"providers/User\";\r\nimport { createProfitTableListener } from \"./createTableListener\";\r\n\r\nimport css from \"./style.module.scss\";\r\nimport { fortuneSocket } from \"utils\";\r\n\r\ninterface Props {\r\n  gameHeight: number;\r\n}\r\n\r\nexport const ProfitTable = ({ gameHeight }: Props) => {\r\n  const { user: activeUser } = useUser();\r\n  const { selectedCoin, coinsPrices, showInUSD, coinsList } = useCoins([\r\n    \"selectedCoin\",\r\n    \"coinsPrices\",\r\n    \"showInUSD\",\r\n  ]);\r\n  const { width } = useWindowSize();\r\n  const [tableList, setTableList] = useState<GameBetUser[]>([]);\r\n  const statsRef = useRef<HTMLParagraphElement>(null);\r\n  const betData = useMemo(() => {\r\n    let userAmount = 0;\r\n    let userWins = 0;\r\n\r\n    if (tableList.length) {\r\n      userAmount = tableList.length;\r\n      tableList.forEach((el) => {\r\n        if (el.profit && el.profit > 0) {\r\n          userWins++;\r\n        }\r\n      });\r\n    }\r\n\r\n    return { userAmount, userWins };\r\n  }, [tableList, statsRef.current]);\r\n\r\n  useEffect(() => {\r\n    const watcher = createProfitTableListener(setTableList, activeUser);\r\n    fortuneSocketsList.profitTableListener = watcher;\r\n\r\n    return () => {\r\n      fortuneSocketsList.profitTableListener = () => null;\r\n    };\r\n  }, [activeUser, selectedCoin?.coin]);\r\n\r\n  const tableStyle = useMemo(() => {\r\n    if (gameHeight) {\r\n      if (width < 1280) {\r\n        return {\r\n          height: gameHeight,\r\n        };\r\n      } else {\r\n        return {\r\n          maxHeight: gameHeight,\r\n        };\r\n      }\r\n    } else {\r\n      return {};\r\n    }\r\n  }, [gameHeight, width]);\r\n\r\n  const tableHeadRenderProps = {\r\n    [columnNames.PLAYER]: {\r\n      statsRef,\r\n      betData,\r\n      classes: {\r\n        playerText: css.playerText,\r\n      },\r\n    },\r\n  };\r\n  const tableBodyRenderProps = {\r\n    [columnNames.PLAYER]: {\r\n      classes: {\r\n        userName: css.userName,\r\n        textProfit: css.textProfit,\r\n        textFail: css.textFail,\r\n      },\r\n    },\r\n    [columnNames.PROFIT]: {\r\n      classes: {\r\n        textCoin: css.textCoin,\r\n        text: css.text,\r\n        btcIcon: css.btcIcon,\r\n        textProfit: css.textProfit,\r\n        textFail: css.textFail,\r\n      },\r\n      showInUSD,\r\n    },\r\n    [columnNames.BET]: {\r\n      classes: {\r\n        textCoin: css.textCoin,\r\n        btcIcon: css.btcIcon,\r\n        textProfit: css.textProfit,\r\n        textFail: css.textFail,\r\n      },\r\n      showInUSD,\r\n    },\r\n    [columnNames.SELECTION]: {\r\n      classes: {\r\n        textProfit: css.textProfit,\r\n        textFail: css.textFail,\r\n      },\r\n    },\r\n  };\r\n  useEffect(() => {\r\n    fortuneSocket.send({\r\n      type: \"get_current_bets\",\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className={css.box}>\r\n      <Head\r\n        columns={tableHeadConfig}\r\n        renderData={tableHeadRenderProps}\r\n        classes={[css.gridTemplateColumns]}\r\n      />\r\n      <div className={css.tableWrapper} style={tableStyle}>\r\n        <TableBody\r\n          columns={tableColumnsConfig}\r\n          align=\"center\"\r\n          data={tableList}\r\n          classes={{\r\n            row: clsx(css.gridTemplateColumns),\r\n          }}\r\n          renderData={tableBodyRenderProps}\r\n        />\r\n      </div>\r\n      <div className={css.shadow} />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport \"config/themes/_fortune.scss\";\r\n\r\nimport Page from \"./page\";\r\nimport { ProfitTable } from \"./components/Table\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { FortuneControlProvider } from \"./components/ControlPanel/reducer\";\r\n\r\nconst WheelWrapper = () => {\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Fortune Quest | Crypto Gambling Casino</title>\r\n        <meta\r\n          name=\"title\"\r\n          content=\"Play Bitcoin >Fortune Quest Betting - Pasino.com\"\r\n        />\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Spin the wheel and find the fortune only at Pasino! \"\r\n        />\r\n        <meta\r\n          name=\"keywords\"\r\n          content=\"Fortune game, Fortune Quest, Fortune Quest Gambling, Pasino Fortune Quest, Bitcoin Fortune Quest game, Litecoin fortune game, Bustabit, \"\r\n        />\r\n        <meta name=\"robots\" content=\"index, follow\" />\r\n        <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\r\n        <meta name=\"language\" content=\"English\" />\r\n      </Helmet>\r\n      <FortuneControlProvider>\r\n        <Page table={<ProfitTable gameHeight={1200} />} />\r\n      </FortuneControlProvider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WheelWrapper;\r\n","export type fortuneSelectionType =\r\n  | \"1X\"\r\n  | \"3X\"\r\n  | \"6X\"\r\n  | \"12X\"\r\n  | \"25X\"\r\n  | \"52XB\"\r\n  | \"52XA\";\r\nexport interface IFortuneGameData {\r\n  id: number;\r\n  selection: fortuneSelectionType;\r\n}\r\nexport const FortuneGameData: IFortuneGameData[] = [\r\n  { id: 1, selection: \"1X\" },\r\n  { id: 2, selection: \"6X\" },\r\n  { id: 3, selection: \"1X\" },\r\n  { id: 4, selection: \"12X\" },\r\n  { id: 5, selection: \"1X\" },\r\n  { id: 6, selection: \"3X\" },\r\n  { id: 7, selection: \"1X\" },\r\n  { id: 8, selection: \"6X\" },\r\n  { id: 9, selection: \"1X\" },\r\n  { id: 10, selection: \"3X\" },\r\n  { id: 11, selection: \"1X\" },\r\n  { id: 12, selection: \"52XA\" },\r\n  { id: 13, selection: \"1X\" },\r\n  { id: 14, selection: \"3X\" },\r\n  { id: 15, selection: \"1X\" },\r\n  { id: 16, selection: \"6X\" },\r\n  { id: 17, selection: \"3X\" },\r\n  { id: 18, selection: \"1X\" },\r\n  { id: 19, selection: \"12X\" },\r\n  { id: 20, selection: \"1X\" },\r\n  { id: 21, selection: \"6X\" },\r\n  { id: 22, selection: \"1X\" },\r\n  { id: 23, selection: \"3X\" },\r\n  { id: 24, selection: \"1X\" },\r\n  { id: 25, selection: \"25X\" },\r\n  { id: 26, selection: \"1X\" },\r\n  { id: 27, selection: \"3X\" },\r\n  { id: 28, selection: \"1X\" },\r\n  { id: 29, selection: \"6X\" },\r\n  { id: 30, selection: \"1X\" },\r\n  { id: 31, selection: \"3X\" },\r\n  { id: 32, selection: \"1X\" },\r\n  { id: 33, selection: \"12X\" },\r\n  { id: 34, selection: \"1X\" },\r\n  { id: 35, selection: \"6X\" },\r\n  { id: 36, selection: \"1X\" },\r\n  { id: 37, selection: \"3X\" },\r\n  { id: 38, selection: \"1X\" },\r\n  { id: 39, selection: \"52XB\" },\r\n  { id: 40, selection: \"3X\" },\r\n  { id: 41, selection: \"1X\" },\r\n  { id: 42, selection: \"3X\" },\r\n  { id: 43, selection: \"1X\" },\r\n  { id: 44, selection: \"3X\" },\r\n  { id: 45, selection: \"1X\" },\r\n  { id: 46, selection: \"12X\" },\r\n  { id: 47, selection: \"1X\" },\r\n  { id: 48, selection: \"6X\" },\r\n  { id: 49, selection: \"1X\" },\r\n  { id: 50, selection: \"3X\" },\r\n  { id: 51, selection: \"1X\" },\r\n  { id: 52, selection: \"25X\" },\r\n  { id: 53, selection: \"1X\" },\r\n  { id: 54, selection: \"3X\" },\r\n];\r\n\r\nexport const dataItemColors: { [k: string]: string } = {\r\n  \"1X\": \"#FFD701\",\r\n  \"3X\": \"#01FFFF\",\r\n  \"6X\": \"#0A60E2\",\r\n  \"12X\": \"#9E00FF\",\r\n  \"25X\": \"#FF65C5\",\r\n  \"52XB\": \"#4AE700\",\r\n  \"52XA\": \"#FF1715\",\r\n};\r\n\r\nexport const selectionItems: {\r\n  selection: fortuneSelectionType;\r\n  color: string;\r\n}[] = [\r\n  {\r\n    selection: \"1X\",\r\n    color: \"linear-gradient(225.58deg, #FFD701 14.96%, #FF9900 48.48%)\",\r\n  },\r\n  {\r\n    selection: \"3X\",\r\n    color: \"linear-gradient(212.14deg, #01FFFF 12.31%, #00B0FB 42.6%)\",\r\n  },\r\n  {\r\n    selection: \"6X\",\r\n    color: \"linear-gradient(220.92deg, #0A60E2 14.06%, #0148B4 43.07%)\",\r\n  },\r\n  {\r\n    selection: \"12X\",\r\n    color: \" linear-gradient(236.48deg, #9E00FF 14.14%, #8D03A4 43.05%)\",\r\n  },\r\n  {\r\n    selection: \"25X\",\r\n    color: \"linear-gradient(182.04deg, #FF65C5 1.57%, #C60278 49.54%)\",\r\n  },\r\n  {\r\n    selection: \"52XA\",\r\n    color: \"linear-gradient(199.02deg, #FF1715 10.51%, #D00400 50%)\",\r\n  },\r\n  {\r\n    selection: \"52XB\",\r\n    color: \"linear-gradient(133.53deg, #4AE700 25.72%, #01580A 134.79%)\",\r\n  },\r\n];\r\n","import { fortuneSelectionType } from \"./../../../../config/index\";\r\nimport { AutoBetMode, ICoinsConfig, PlayerPlayableStatus } from \"../reducer\";\r\n\r\nexport enum fortuneActionNames {\r\n  SET_RESULT = \"setResult\",\r\n  SET_IS_SPINNING = \"setIsSpinning\",\r\n  SET_BET_FIELD = \"setBetField\",\r\n  SET_AMOUNT_IN_USD = \"setAmountInUSD\",\r\n  SET_PLAYABLE_STATUS = \"setPlayableStatus\",\r\n  SET_IS_SHOW_IN_USD = \"setIsShowInUSD\",\r\n\r\n  SET_IS_AUTO_MODE = \"setIsAutoMode\",\r\n  SET_STOP_ON_LOSS = \"setStopOnLoss\",\r\n  SET_STOP_ON_PROFIT = \"setStopOnProfit\",\r\n  SET_ON_WIN = \"setOnWin\",\r\n  SET_ON_LOSS = \"setOnLoss\",\r\n  SET_ON_WIN_MODE = \"setOnWinMode\",\r\n  SET_ON_LOSS_MODE = \"setOnLossMode\",\r\n\r\n  ADD_BET = \"addBet\",\r\n  REMOVE_BET = \"removeBet\",\r\n  SET_PLACE_A_BET = \"setPlaceABet\",\r\n  SET_CANCEL_BET = \"setCancelBet\",\r\n  SET_CANCEL_AUTOBET = \"setCancelAutobet\",\r\n\r\n  start_game = \"start_game\",\r\n  spinning = \"spinning\",\r\n  stopped = \"stopped\",\r\n  new_round = \"new_round\",\r\n\r\n  previous_rounds = \"previous_rounds\",\r\n  update_coins_parameters = \"update_coins_parameters\",\r\n\r\n  new_bet = \"new_bet\",\r\n  bet_played = \"bet_played\",\r\n  new_bet_finalized = \"new_bet_finalized\",\r\n  bet_cashedout = \"bet_cashedout\",\r\n  bet_cashedout_update = \"bet_cashedout_update\",\r\n}\r\n\r\nexport const autoModeActionFieldMatching = {\r\n  [fortuneActionNames.SET_ON_WIN]: \"onWin\",\r\n  [fortuneActionNames.SET_ON_LOSS]: \"onLoss\",\r\n  [fortuneActionNames.SET_STOP_ON_LOSS]: \"stopOnLoss\",\r\n  [fortuneActionNames.SET_STOP_ON_PROFIT]: \"stopOnProfit\",\r\n};\r\n\r\ninterface setResultAction {\r\n  type: fortuneActionNames.SET_RESULT;\r\n  payload: {\r\n    result: number | null;\r\n  };\r\n}\r\ninterface setPlayableStatusAction {\r\n  type: fortuneActionNames.SET_PLAYABLE_STATUS;\r\n  payload: {\r\n    playableStatus: PlayerPlayableStatus;\r\n  };\r\n}\r\n\r\ninterface setIsSpinning {\r\n  type: fortuneActionNames.SET_IS_SPINNING;\r\n  payload: {\r\n    isSpinning: boolean;\r\n  };\r\n}\r\ninterface setIsShowInUSD {\r\n  type: fortuneActionNames.SET_IS_SHOW_IN_USD;\r\n  payload: {\r\n    isShowInUSD: boolean;\r\n  };\r\n}\r\ninterface setAmountInUSD {\r\n  type: fortuneActionNames.SET_AMOUNT_IN_USD;\r\n  payload: {\r\n    value: string;\r\n  };\r\n}\r\n\r\ninterface setBetFieldAction {\r\n  type: fortuneActionNames.SET_BET_FIELD;\r\n  payload: {\r\n    betAmount?: string;\r\n    coinName?: string;\r\n    selection?: fortuneSelectionType | string;\r\n    id: string;\r\n  };\r\n}\r\n\r\ninterface setPlaceABetAction {\r\n  type: fortuneActionNames.SET_PLACE_A_BET;\r\n}\r\n\r\ninterface setCancelBetAction {\r\n  type: fortuneActionNames.SET_CANCEL_BET;\r\n}\r\n\r\ninterface setCancelAutobetAction {\r\n  type: fortuneActionNames.SET_CANCEL_AUTOBET;\r\n}\r\n\r\ninterface setIsAutoModeAction {\r\n  type: fortuneActionNames.SET_IS_AUTO_MODE;\r\n  payload: {\r\n    isAutoMode: boolean;\r\n  };\r\n}\r\n\r\ninterface addBetAction {\r\n  type: fortuneActionNames.ADD_BET;\r\n  payload: {\r\n    coinName: string;\r\n    betAmount: string;\r\n  };\r\n}\r\ninterface removeBetAction {\r\n  type: fortuneActionNames.REMOVE_BET;\r\n  payload: {\r\n    id: string;\r\n  };\r\n}\r\ninterface setAutoModeFieldAction {\r\n  type:\r\n    | fortuneActionNames.SET_STOP_ON_PROFIT\r\n    | fortuneActionNames.SET_STOP_ON_LOSS\r\n    | fortuneActionNames.SET_ON_WIN\r\n    | fortuneActionNames.SET_ON_LOSS;\r\n  payload: {\r\n    value: string | boolean;\r\n  };\r\n}\r\n\r\ninterface setOnWinModeAction {\r\n  type: fortuneActionNames.SET_ON_WIN_MODE;\r\n  payload: {\r\n    mode: AutoBetMode;\r\n  };\r\n}\r\ninterface setOnLossModeAction {\r\n  type: fortuneActionNames.SET_ON_LOSS_MODE;\r\n  payload: {\r\n    mode: AutoBetMode;\r\n  };\r\n}\r\n\r\ninterface setSpinningAction {\r\n  type: fortuneActionNames.spinning;\r\n  payload: {\r\n    time: string;\r\n    segment_id: string;\r\n  };\r\n}\r\ninterface setStartGameAction {\r\n  type: fortuneActionNames.start_game;\r\n}\r\ninterface setNewRoundAction {\r\n  type: fortuneActionNames.new_round;\r\n  payload: {\r\n    value: string;\r\n  };\r\n}\r\ninterface setStoppedAction {\r\n  type: fortuneActionNames.stopped;\r\n  payload: {\r\n    id: string;\r\n    stopped_at: string;\r\n  };\r\n}\r\ninterface setPreviousRoundsAction {\r\n  type: fortuneActionNames.previous_rounds;\r\n  payload: {\r\n    rounds: { id: string; wheel_point: string; seed: string }[];\r\n  };\r\n}\r\ninterface setUpdateCoinsParametersAction {\r\n  type: fortuneActionNames.update_coins_parameters;\r\n  payload: ICoinsConfig;\r\n}\r\ninterface setNewBet {\r\n  type: fortuneActionNames.new_bet;\r\n  payload: {\r\n    user_id: number;\r\n    user_name: string;\r\n    bet_amt: string;\r\n    coin: string;\r\n    selection: string;\r\n  };\r\n}\r\ninterface setBetPlayed {\r\n  type: fortuneActionNames.bet_played;\r\n  payload: {\r\n    error: string;\r\n    balance: string;\r\n  };\r\n}\r\ninterface setBetFinalized {\r\n  type: fortuneActionNames.new_bet_finalized;\r\n  payload: {\r\n    datetime: string;\r\n    bet_local_id: string;\r\n    coin: string;\r\n    bet_amt: string;\r\n    payout: string | number;\r\n    win: number;\r\n    profit: string;\r\n  };\r\n}\r\ninterface setBetCashedout {\r\n  type: fortuneActionNames.bet_cashedout;\r\n  payload: {\r\n    error: string;\r\n    balance: string;\r\n    bet_local_id: string;\r\n  };\r\n}\r\ninterface setBetCashedoutUpdate {\r\n  type: fortuneActionNames.bet_cashedout_update;\r\n  payload: {\r\n    user_id: string | number;\r\n    payout: string | number;\r\n    profit: string;\r\n    coin: string;\r\n    bet_local_id: string;\r\n  };\r\n}\r\n\r\nexport type FortuneActionsType =\r\n  | setAmountInUSD\r\n  | setPlaceABetAction\r\n  | setPlayableStatusAction\r\n  | setCancelBetAction\r\n  | setCancelAutobetAction\r\n  | setBetFieldAction\r\n  | setIsSpinning\r\n  | setIsShowInUSD\r\n  | setIsAutoModeAction\r\n  | setResultAction\r\n  | addBetAction\r\n  | removeBetAction\r\n  | setAutoModeFieldAction\r\n  | setOnWinModeAction\r\n  | setOnLossModeAction\r\n  | setSpinningAction\r\n  | setStartGameAction\r\n  | setNewRoundAction\r\n  | setStoppedAction\r\n  | setPreviousRoundsAction\r\n  | setUpdateCoinsParametersAction\r\n  | setNewBet\r\n  | setBetPlayed\r\n  | setBetFinalized\r\n  | setBetCashedout\r\n  | setBetCashedoutUpdate;\r\n","import { fortuneSelectionType } from \"pages/Fortune/config\";\r\nimport { fortuneSocket, track } from \"utils\";\r\n\r\nexport const makeRequest = (\r\n  amount: number | string,\r\n  coinName: string,\r\n  selection: fortuneSelectionType | string,\r\n\r\n  isSaveToLocal = false,\r\n) => {\r\n  const betAmountValue = Number(amount).toFixed(8);\r\n\r\n  fortuneSocket.send({\r\n    type: \"place_bet\",\r\n    bet_amt: betAmountValue,\r\n    coin: coinName,\r\n    selection: selection,\r\n  });\r\n\r\n  if (isSaveToLocal) {\r\n    try {\r\n      localStorage.setItem(\r\n        \"fortuneBet\",\r\n        `{\"amt\":\"${betAmountValue}\",\"coin\":\"${coinName}\"}`,\r\n      );\r\n    } catch (error) {\r\n      track()?.errors(error);\r\n    }\r\n  }\r\n};\r\n","import { IAutomode, IFortuneControlState } from \"../../reducer\";\r\n\r\nexport const getAutomodeBetAmountValue = ({\r\n  profit,\r\n  automode,\r\n  baseBetAmount,\r\n  betAmount,\r\n}: {\r\n  profit: string;\r\n  betAmount: number;\r\n  baseBetAmount: string;\r\n  automode: IAutomode;\r\n}): number | null => {\r\n  let newCurrentBetAmount: number = betAmount;\r\n\r\n  const isWin = Number(profit) > 0;\r\n  const mode = isWin ? automode.onWinMode : automode.onLossMode;\r\n  const changemodePercentValue = isWin ? automode.onWin : automode.onLoss;\r\n  if (mode === \"reset\") {\r\n    return Number(baseBetAmount);\r\n  }\r\n  if (mode === \"stop\") {\r\n    return null;\r\n  }\r\n  if (mode === \"change\" && changemodePercentValue) {\r\n    newCurrentBetAmount *= 1 + Number(changemodePercentValue) / 100;\r\n  }\r\n\r\n  return newCurrentBetAmount;\r\n};\r\n\r\nexport const getStopAutoModeState = (\r\n  state: IFortuneControlState,\r\n): IFortuneControlState => {\r\n  return {\r\n    ...state,\r\n    playableStatus: \"watch\",\r\n    autoBetsIsStart: false,\r\n    baseBetAmount: null,\r\n  };\r\n};\r\nexport const isAutomodeStopOn = (\r\n  profit: string,\r\n  totalProfit: number,\r\n  automode: IAutomode,\r\n) => {\r\n  const isWin = Number(profit) > 0;\r\n  const onStopValue = isWin ? automode.stopOnProfit : automode.stopOnLoss;\r\n\r\n  if (onStopValue) {\r\n    if (isWin && totalProfit >= Number(onStopValue)) {\r\n      return true;\r\n    }\r\n    if (!isWin && totalProfit < 0) {\r\n      if (-totalProfit >= Number(onStopValue)) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  return false;\r\n};\r\n","import notifybarManager from \"components/NotifyBar/notifybar-manager\";\r\n\r\nimport { coinsManager } from \"hooks\";\r\nimport { fortuneSelectionType } from \"pages/Fortune/config\";\r\nimport { makeRequest } from \"./methods/sockets/makeRequest\";\r\nimport { placeBetNotify } from \"./methods/utils/placeBetNotify\";\r\n\r\nimport {\r\n  autoModeActionFieldMatching,\r\n  fortuneActionNames,\r\n  FortuneActionsType,\r\n} from \"./actions/types\";\r\n\r\nimport {\r\n  isAutomodeStopOn,\r\n  getStopAutoModeState,\r\n  getAutomodeBetAmountValue,\r\n} from \"./methods/utils/autoMode\";\r\nimport { liveStatsManager } from \"components/LiveStats/eventEmitter/emitter\";\r\n\r\nexport type AutoBetMode = \"change\" | \"reset\" | \"stop\";\r\n\r\nexport type gameStageType =\r\n  | \"spinning\"\r\n  | \"new_round\"\r\n  | \"stopped\"\r\n  | \"watch\"\r\n  | string;\r\nexport type PlayerPlayableStatus = \"watch\" | \"wait\" | \"play\" | string;\r\n\r\nexport interface IAutomode {\r\n  onWin: string;\r\n  onLoss: string;\r\n  stopOnProfit: string;\r\n  stopOnLoss: string;\r\n  onLossMode: AutoBetMode;\r\n  onWinMode: AutoBetMode;\r\n}\r\nexport interface IBet {\r\n  betAmount: string;\r\n  coinName: string;\r\n  selection: fortuneSelectionType | string;\r\n  id: string;\r\n}\r\nexport interface ICoinsConfig {\r\n  [key: string]: {\r\n    minimum_bet: string;\r\n    maximum_bet: string;\r\n    maximum_profit: string;\r\n    price: string;\r\n  };\r\n}\r\nexport interface IFortuneControlState {\r\n  coinsConfig: ICoinsConfig;\r\n  gameStage: gameStageType;\r\n  betMessageInfo: {\r\n    currentProfit: string | null;\r\n    currentCoin: string;\r\n    startTimerValue: string | null;\r\n  };\r\n  baseBetAmount: string | null;\r\n\r\n  totalBetAmount: number;\r\n  totalProfit: number | null;\r\n  isShowInUSD: boolean;\r\n  playableStatus: PlayerPlayableStatus;\r\n  startSegment: number | null;\r\n  bet: IBet;\r\n  isSpinning: boolean;\r\n  spinningTime: string;\r\n  autoMode: IAutomode;\r\n  autoBetsIsStart: boolean;\r\n  isAutoMode: boolean;\r\n  result: number | null;\r\n}\r\n\r\nconst selectedCoin =\r\n  coinsManager.createReturnValues().selectedCoin?.coin || \"GEM\";\r\n\r\nexport const initialFortuneControlState: IFortuneControlState = {\r\n  coinsConfig: {},\r\n  betMessageInfo: {\r\n    currentProfit: null,\r\n    currentCoin: \"\",\r\n    startTimerValue: null,\r\n  },\r\n  baseBetAmount: null,\r\n  totalBetAmount: 0,\r\n  totalProfit: null,\r\n  isShowInUSD: false,\r\n  gameStage: \"watch\",\r\n  playableStatus: \"watch\",\r\n  startSegment: null,\r\n  bet: {\r\n    betAmount: \"0.00000000\",\r\n    coinName: selectedCoin,\r\n    selection: \"1X\",\r\n    id: \"1\",\r\n  },\r\n  isSpinning: true,\r\n  spinningTime: \"\",\r\n  autoMode: {\r\n    onWin: \"\",\r\n    onLoss: \"\",\r\n    stopOnProfit: \"\",\r\n    stopOnLoss: \"\",\r\n    onLossMode: \"reset\",\r\n    onWinMode: \"reset\",\r\n  },\r\n  autoBetsIsStart: false,\r\n  isAutoMode: false,\r\n  result: null,\r\n};\r\n\r\nexport const fortuneControReducer = (\r\n  state: IFortuneControlState,\r\n  action: FortuneActionsType,\r\n) => {\r\n  switch (action.type) {\r\n    // #GENERAL ACTIONS\r\n\r\n    case fortuneActionNames.SET_RESULT:\r\n      const { result } = action.payload;\r\n      return {\r\n        ...state,\r\n        result,\r\n      };\r\n      break;\r\n    case fortuneActionNames.SET_IS_SPINNING:\r\n      const { isSpinning } = action.payload;\r\n      return {\r\n        ...state,\r\n        isSpinning,\r\n      };\r\n      break;\r\n    case fortuneActionNames.SET_BET_FIELD:\r\n      return {\r\n        ...state,\r\n        bet: { ...state.bet, ...action.payload },\r\n      };\r\n      break;\r\n    case fortuneActionNames.SET_PLAYABLE_STATUS:\r\n      return {\r\n        ...state,\r\n        playableStatus: action.payload.playableStatus,\r\n      };\r\n      break;\r\n    case fortuneActionNames.SET_IS_SHOW_IN_USD:\r\n      if (state.autoBetsIsStart) {\r\n        notifybarManager.error({\r\n          message: \"You switched view in USD. Autobets are disabled!\",\r\n          timeOut: 4000,\r\n        });\r\n        return { ...getStopAutoModeState(state), ...action.payload };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          ...action.payload,\r\n        };\r\n      }\r\n\r\n      break;\r\n\r\n    //  #AUTOMODE ACTIONS\r\n\r\n    case fortuneActionNames.SET_IS_AUTO_MODE:\r\n      const { isAutoMode } = action.payload;\r\n      return {\r\n        ...state,\r\n        isAutoMode,\r\n      };\r\n    case fortuneActionNames.SET_STOP_ON_PROFIT:\r\n    case fortuneActionNames.SET_STOP_ON_LOSS:\r\n    case fortuneActionNames.SET_ON_LOSS:\r\n    case fortuneActionNames.SET_ON_WIN:\r\n      return {\r\n        ...state,\r\n        autoMode: {\r\n          ...state.autoMode,\r\n          [autoModeActionFieldMatching[action.type]]: action.payload.value,\r\n        },\r\n      };\r\n      break;\r\n    case fortuneActionNames.SET_ON_WIN_MODE:\r\n      return {\r\n        ...state,\r\n        autoMode: {\r\n          ...state.autoMode,\r\n          onWinMode: action.payload.mode,\r\n        },\r\n      };\r\n    case fortuneActionNames.SET_ON_LOSS_MODE:\r\n      return {\r\n        ...state,\r\n        autoMode: {\r\n          ...state.autoMode,\r\n          onLossMode: action.payload.mode,\r\n        },\r\n      };\r\n\r\n    //  #BET ACTIONS\r\n\r\n    case fortuneActionNames.SET_PLACE_A_BET:\r\n      let isNewRound = state.gameStage === \"new_round\";\r\n      if (isNewRound) {\r\n        const { betAmount, coinName, selection } = state.bet;\r\n        makeRequest(betAmount, coinName, selection, true);\r\n      }\r\n      return {\r\n        ...state,\r\n        playableStatus: isNewRound ? \"play\" : \"wait\",\r\n        autoBetsIsStart: state.isAutoMode ? true : false,\r\n        baseBetAmount: state.bet.betAmount,\r\n        totalBetAmount: 0,\r\n        totalProfit: null,\r\n      };\r\n\r\n      break;\r\n\r\n    case fortuneActionNames.SET_CANCEL_BET:\r\n      let isNewRoundStage = state.gameStage === \"new_round\";\r\n\r\n      return {\r\n        ...state,\r\n        playableStatus: isNewRoundStage ? state.playableStatus : \"watch\",\r\n        baseBetAmount: null,\r\n      };\r\n\r\n      break;\r\n    case fortuneActionNames.SET_CANCEL_AUTOBET:\r\n      return getStopAutoModeState(state);\r\n\r\n      break;\r\n\r\n    //  #SOCKETS\r\n\r\n    //  #SOCKET CYCLE ACTIONS\r\n\r\n    case fortuneActionNames.start_game:\r\n      const newState = {\r\n        ...state,\r\n        isSpinning: true,\r\n        spinningTime: \"\",\r\n        gameStage: \"spinning\",\r\n        result: null,\r\n        betMessageInfo: {\r\n          currentProfit: null,\r\n          currentCoin: \"\",\r\n          startTimerValue: null,\r\n        },\r\n      };\r\n\r\n      return newState;\r\n      break;\r\n\r\n    case fortuneActionNames.spinning:\r\n      if (Number(action.payload.time) >= 10800 && !state.spinningTime) {\r\n        return { ...state, spinningTime: action.payload.time };\r\n      }\r\n      if (state.startSegment !== null) return state;\r\n\r\n      const { segment_id } = action.payload;\r\n\r\n      return {\r\n        ...state,\r\n        isSpinning: true,\r\n        gameStage: \"spinning\",\r\n\r\n        startSegment: Number(segment_id.split(\"_\")[1]),\r\n      };\r\n      break;\r\n\r\n    case fortuneActionNames.stopped:\r\n      const { stopped_at } = action.payload;\r\n\r\n      return {\r\n        ...state,\r\n        result: Number(stopped_at),\r\n      };\r\n\r\n    case fortuneActionNames.new_round:\r\n      let playableStatusValue =\r\n        state.playableStatus === \"wait\" ? \"wait\" : \"watch\";\r\n      if (state.gameStage === \"new_round\" && playableStatusValue === \"watch\") {\r\n        return state;\r\n      }\r\n      if (playableStatusValue === \"wait\") {\r\n        const { betAmount, coinName, selection } = state.bet;\r\n        makeRequest(betAmount, coinName, selection, true);\r\n        playableStatusValue = \"play\";\r\n      }\r\n\r\n      if (state.gameStage === \"new_round\" && playableStatusValue === \"play\") {\r\n        return state;\r\n      }\r\n      return {\r\n        ...state,\r\n        gameStage: \"new_round\",\r\n        isSpinning: false,\r\n        playableStatus: playableStatusValue,\r\n        betMessageInfo: {\r\n          ...state.betMessageInfo,\r\n          startTimerValue: action.payload.value,\r\n        },\r\n      };\r\n\r\n      break;\r\n\r\n    //  #SOCKET REQUEST ACTIONS\r\n    case fortuneActionNames.previous_rounds:\r\n      if (state.startSegment !== null) return state;\r\n      const { rounds } = action.payload;\r\n      return {\r\n        ...state,\r\n        startSegment: Number(rounds[0].wheel_point),\r\n      };\r\n\r\n      break;\r\n    case fortuneActionNames.update_coins_parameters:\r\n      return {\r\n        ...state,\r\n        coinsConfig: action.payload,\r\n      };\r\n\r\n      break;\r\n\r\n    //  #SOCKET BET ACTIONS\r\n    case fortuneActionNames.bet_played:\r\n      const { balance, error } = action.payload;\r\n\r\n      placeBetNotify(error);\r\n\r\n      if (error) {\r\n        return getStopAutoModeState(state);\r\n      }\r\n\r\n      coinsManager.coinValueUpdate(`${balance}`, state.bet.coinName);\r\n\r\n      return { ...state };\r\n\r\n      break;\r\n\r\n    case fortuneActionNames.new_bet_finalized:\r\n      const { bet_amt, profit, coin } = action.payload;\r\n      let status = state.playableStatus;\r\n\r\n      let totalProfitValue = state.totalProfit || 0;\r\n      let currentProfit: number | null = state.isShowInUSD\r\n        ? Number(profit) * Number(state.coinsConfig[coin].price)\r\n        : Number(profit);\r\n\r\n      let baseBetAmountValue = state.baseBetAmount || state.bet.betAmount;\r\n      let currentBetAmountValue = Number(state.bet.betAmount);\r\n      let totalBetAmountValue = state.totalBetAmount + Number(bet_amt);\r\n\r\n      totalProfitValue = Number(totalProfitValue) + currentProfit;\r\n\r\n      liveStatsManager.addBet({\r\n        amount: Number(bet_amt),\r\n        profit: Number(profit),\r\n        coin,\r\n      });\r\n\r\n      if (\r\n        state.isAutoMode &&\r\n        state.autoBetsIsStart &&\r\n        state.playableStatus !== \"wait\"\r\n      ) {\r\n        const isStopAutomode = isAutomodeStopOn(\r\n          profit,\r\n          totalProfitValue,\r\n          state.autoMode,\r\n        );\r\n\r\n        const newCurrentBetAmountValue = getAutomodeBetAmountValue({\r\n          profit: profit,\r\n          automode: state.autoMode,\r\n          betAmount: currentBetAmountValue,\r\n          baseBetAmount: baseBetAmountValue,\r\n        });\r\n\r\n        if (newCurrentBetAmountValue === null || isStopAutomode) {\r\n          return {\r\n            ...getStopAutoModeState(state),\r\n\r\n            totalProfit: totalProfitValue,\r\n            totalBetAmount: totalBetAmountValue,\r\n            betMessageInfo: {\r\n              currentProfit: profit ? Number(profit).toFixed(8) : null,\r\n              currentCoin: coin,\r\n              startTimerValue: null,\r\n            },\r\n          };\r\n        }\r\n        currentBetAmountValue = newCurrentBetAmountValue;\r\n        status = \"wait\";\r\n      }\r\n      return {\r\n        ...state,\r\n        bet: { ...state.bet, betAmount: currentBetAmountValue.toFixed(8) },\r\n        totalBetAmount: totalBetAmountValue,\r\n        totalProfit: totalProfitValue || Number(profit),\r\n        playableStatus: status,\r\n        betMessageInfo: {\r\n          currentProfit: profit ? Number(profit).toFixed(8) : null,\r\n          currentCoin: coin,\r\n          startTimerValue: null,\r\n        },\r\n      };\r\n\r\n      break;\r\n\r\n    case fortuneActionNames.bet_cashedout:\r\n      const { balance: finallyBalance, error: cashedoutError } = action.payload;\r\n\r\n      cashedoutError &&\r\n        notifybarManager.error({\r\n          message: cashedoutError,\r\n          timeOut: 4000,\r\n        });\r\n\r\n      if (state.isAutoMode && state.autoBetsIsStart && cashedoutError) {\r\n        return getStopAutoModeState(state);\r\n      }\r\n      if (state.betMessageInfo.currentCoin.length > 0) {\r\n        coinsManager.coinValueUpdate(\r\n          `${finallyBalance}`,\r\n          state.betMessageInfo.currentCoin,\r\n        );\r\n      }\r\n\r\n      return state;\r\n\r\n      break;\r\n\r\n    case fortuneActionNames.bet_cashedout_update:\r\n      return state;\r\n\r\n      break;\r\n\r\n    default:\r\n      return state;\r\n      break;\r\n  }\r\n};\r\n","import notifybarManager from \"components/NotifyBar/notifybar-manager\";\r\n\r\nexport const placeBetNotify = function (error?: string) {\r\n  if (!error) {\r\n    notifybarManager.success({\r\n      message: \"Bet successfully placed!\",\r\n    });\r\n  } else {\r\n    notifybarManager.error({\r\n      message: error,\r\n      timeOut: 4000,\r\n    });\r\n  }\r\n};\r\n","import { createContext, Dispatch } from \"react\";\r\nimport { FortuneActionsType } from \"./actions/types\";\r\nimport { initialFortuneControlState, IFortuneControlState } from \"./reducer\";\r\n\r\ninterface IFortuneControlContext {\r\n  controlState: IFortuneControlState;\r\n  controlDispatch: Dispatch<FortuneActionsType>;\r\n}\r\nconst defaultValue: IFortuneControlContext = {\r\n  controlState: initialFortuneControlState,\r\n  controlDispatch: (arg: any) => {},\r\n};\r\n\r\nconst Context = createContext(defaultValue);\r\n\r\nexport default Context;\r\n","import React, { FC, useMemo, useReducer } from \"react\";\r\nimport Context from \"./context\";\r\nimport { fortuneControReducer, initialFortuneControlState } from \"./reducer\";\r\n\r\nexport const FortuneControlProvider: FC = ({ children }) => {\r\n  const [controlState, controlDispatch] = useReducer(\r\n    fortuneControReducer,\r\n    initialFortuneControlState,\r\n  );\r\n\r\n  const providerValue = useMemo(\r\n    () => ({ controlState, controlDispatch }),\r\n    [controlState, controlDispatch],\r\n  );\r\n  return <Context.Provider value={providerValue}>{children}</Context.Provider>;\r\n};\r\n","import { useContext } from \"react\";\r\n\r\nimport Context from \"./context\";\r\n\r\nexport { FortuneControlProvider } from \"./provider\";\r\n\r\nexport const useFortuneControl = () => useContext(Context);\r\n","import {\r\n  FortuneStoryListener,\r\n  FortuneTimerListener,\r\n  ProfitTableListenerType,\r\n  FortuneSoundListener,\r\n} from \"pages/Fortune/fortuneTypes\";\r\nimport { Dispatch } from \"react\";\r\nimport { fortuneActionNames, FortuneActionsType } from \"./actions/types\";\r\n\r\ninterface FortuneSocketsListTypes {\r\n  profitTableListener: (data: ProfitTableListenerType) => void;\r\n  statisticsHistoryListener: (data: FortuneStoryListener) => void;\r\n\r\n  timerListener: (data: FortuneTimerListener) => void;\r\n  soundListener: (data: FortuneSoundListener) => void;\r\n}\r\n\r\nexport const fortuneSocketsList: FortuneSocketsListTypes = {\r\n  profitTableListener: () => null,\r\n  statisticsHistoryListener: () => null,\r\n  timerListener: () => null,\r\n  soundListener: () => null,\r\n};\r\nexport type socketMethods =\r\n  | \"bet_played\"\r\n  | \"new_bet_finalized\"\r\n  | \"bet_cashedout\"\r\n  | \"bet_cashedout_update\"\r\n  | \"spinning\"\r\n  | \"start_game\"\r\n  | \"new_round\"\r\n  | \"stopped\"\r\n  | \"previous_rounds\"\r\n  | \"get_coins_parameters\";\r\nexport type socketActions = \"wheel_update\" | \"update_coins_parameters\";\r\n\r\nexport const fortuneSocketWatcher = (\r\n  dispatch: Dispatch<FortuneActionsType>,\r\n) => {\r\n  return (data: any) => {\r\n    const {\r\n      method,\r\n      type,\r\n      action,\r\n    }: {\r\n      method?: socketMethods;\r\n      type?: any;\r\n      action: socketActions;\r\n    } = data;\r\n    fortuneSocketsList.profitTableListener(data);\r\n    fortuneSocketsList.statisticsHistoryListener(data);\r\n    fortuneSocketsList.timerListener(data);\r\n    fortuneSocketsList.soundListener(data);\r\n    if (action === \"wheel_update\" && method) {\r\n      switch (method) {\r\n        case fortuneActionNames.new_round:\r\n        case fortuneActionNames.start_game:\r\n          dispatch({\r\n            type: fortuneActionNames[method],\r\n            payload: { ...data },\r\n          });\r\n          break;\r\n        case fortuneActionNames.spinning:\r\n          dispatch({\r\n            type: fortuneActionNames[method],\r\n            payload: {\r\n              time: data.time,\r\n              segment_id: data.segment_id,\r\n            },\r\n          });\r\n          break;\r\n        case fortuneActionNames.stopped:\r\n          dispatch({\r\n            type: fortuneActionNames[method],\r\n            payload: { id: data.id, stopped_at: data.stopped_at },\r\n          });\r\n          break;\r\n        case fortuneActionNames.bet_played:\r\n          dispatch({\r\n            type: fortuneActionNames[method],\r\n            payload: { balance: data.balance, error: data.error },\r\n          });\r\n          break;\r\n        case fortuneActionNames.new_bet_finalized:\r\n          dispatch({\r\n            type: fortuneActionNames[method],\r\n            payload: {\r\n              datetime: data.datetime,\r\n              bet_local_id: data.bet_local_id,\r\n              coin: data.coin,\r\n              bet_amt: data.bet_amt,\r\n              payout: data.payout,\r\n              win: data.win,\r\n              profit: data.profit,\r\n            },\r\n          });\r\n          break;\r\n        case fortuneActionNames.bet_cashedout:\r\n          dispatch({\r\n            type: fortuneActionNames[method],\r\n            payload: {\r\n              error: data.error,\r\n              balance: data.balance,\r\n              bet_local_id: data.bet_local_id,\r\n            },\r\n          });\r\n          break;\r\n        case fortuneActionNames.bet_cashedout_update:\r\n          dispatch({\r\n            type: fortuneActionNames[method],\r\n            payload: {\r\n              user_id: data.user_id,\r\n              payout: data.payout,\r\n              profit: data.profit,\r\n              coin: data.coin,\r\n              bet_local_id: data.bet_local_id,\r\n            },\r\n          });\r\n          break;\r\n        case fortuneActionNames.previous_rounds:\r\n          dispatch({\r\n            type: fortuneActionNames[method],\r\n            payload: { rounds: data.rounds },\r\n          });\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    } else {\r\n      switch (action) {\r\n        case fortuneActionNames.update_coins_parameters:\r\n          const { coins } = data;\r\n          dispatch({\r\n            type: fortuneActionNames[action],\r\n            payload: { ...coins },\r\n          });\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  };\r\n};\r\n","export function resetFocus() {\r\n  let scrollTop = document.body.scrollTop;\r\n  let body = document.body;\r\n\r\n  let tmp = document.createElement(\"input\");\r\n  tmp.style.position = \"fixed\";\r\n  tmp.style.top = \"0\";\r\n  tmp.style.opacity = \"0\";\r\n  body.appendChild(tmp);\r\n  tmp.focus();\r\n  body.removeChild(tmp);\r\n  body.scrollTop = scrollTop;\r\n}\r\n","import { dataItemColors, FortuneGameData } from \"pages/Fortune/config\";\r\nconst transformSelectionValue = (value: string) => {\r\n  if (value === \"52XA\" || value === \"52XB\") {\r\n    return \"52X\";\r\n  } else {\r\n    return value;\r\n  }\r\n};\r\nexport const getFortuneResultValues = (\r\n  result: number,\r\n): { color: string; selection: string; selectionNumber: string } => {\r\n  let color = dataItemColors[FortuneGameData[result].selection];\r\n  let selection = transformSelectionValue(FortuneGameData[result].selection);\r\n  let selectionNumber = selection.replace(/[^0-9]/g, \"\");\r\n  return { color, selection, selectionNumber };\r\n};\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAkCAYAAADl9UilAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMzSURBVHgBzZjJbxMxGMW/lC5JaEtZ0lAIFCq4cEDixoUrEv8xJ8QRLuXWC5vY6ZLQFGiTSdLwXvyssSpSPMSVYulploztn79tPDFL1IbD4YwlbCkHm7OELSVYGVYrWaKWFCzleCnBKjalYFXonCVqqS02a4na1Frsv1eoDJwVDBe4Ai3i/hGOg1KpNLAJWiGwoBywZjEL53VOsBp0GepDPTyb4dgBYD/sjzaMmauoxZYstxLBFgTG6ysCI1CPUAQHzKGu2bcdO1E0WPDKuauJegEcj3WJ948kb9lVaCvWWtFgciGz7ry5VT+EfgqClqI1bkO/oGVoF9rR83egF1awxVqMK69KBPwEPYGO9TvBrkNdaNGcSwncgJ5DTIQqFtiH1Y5jJvwnmKzl3VURHK3Sgh6bsxpdVBNoWWCPoKfQofqNkkGaHMxcYM8HcD5mLkH70AMLyoU5S/H6pUCXBDOKOSy0GxNrMQV2RgugvEs52QVzMUSL1XWfllpXP7pvWffngv5RRX2sxYICSoBVTc7jmrnMXNf5iiYLJ2SfDcuzt6LFLLihh795/zTLzY6B4souSmuCYHBflRqC9O4LoXhOS940ZyFC3oC+QV+hj+Yytol5WoDL/sYwdmN3wmJ1AXmr3RLsNYn3GYu0AOOqCb2C3kGvBbUNfRcULXZqho51pczMV0tbC6BLWKf2zGXkgbmgZly9FzAn/CFIAmxCH/T8vn47iCkZMVk5sDxWWKcyTdIS1KaeuW/OTXQXF0N3VwSfSb1kdYwD+ReyueClVRhDjLln5lzH7KM730BfzLmS5eKeuTjcDhYV1WIrPwcN330NTdyxvLYxwN9CnwXP5/mG2NDvvO5bSjDurbRL8NlK9w0t3/pwHMbejo6ZQNiHFqxpnLQvcQ2aAY6nW4Jh/HQt3/YwsH2Qh68fwjHuqmeyH1P52FMfD+U3irzXFBzBegFYR7vZdpHvziIW8ytlCRloUg/GCXcFTjjGEq3WDy10Jq48AclMpGt7gqIYX6P6VgQgKVgASIARBCBZfLMUUGwpP9+YhVHFM6alBpvoky1sKcGYDFMJltSVyRqCv2zT2FL/1fkH8v0rAMf8sUwAAAAASUVORK5CYII=\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainWrapperPadding\":\"10px\",\"desktopHeaderSize\":\"64px\",\"bottomButtonsSize\":\"60px\",\"desktopChatWidth\":\"310px\",\"swipedChatWidth\":\"960px\",\"arrBlockWidth\":\"12px\",\"headerHeight\":\"60px\",\"inputPadding\":\"16px\",\"chatPadding\":\"16px\",\"inputHeight\":\"56px\",\"chatWidth\":\"280px\",\"spacing\":\"8px\",\"mobileScreen\":\"600px\",\"feyorraDisableSize\":\"1080px\",\"lightContainer\":\"style_lightContainer__2LF9i\",\"wheelContainer\":\"style_wheelContainer__2OQB4\",\"wheel\":\"style_wheel__1983q\",\"img\":\"style_img__3cB8G\",\"lightWrapper\":\"style_lightWrapper__3Fnb1\",\"light\":\"style_light__L-257\",\"lightD\":\"style_lightD__351YP\",\"arrow\":\"style_arrow__27kR-\",\"fortuneEllipse\":\"style_fortuneEllipse__2_N8i\"};","export default __webpack_public_path__ + \"static/media/pasino-arrow.d269fed6.svg\";","export default __webpack_public_path__ + \"static/media/pasino-logo.4f6dc46d.svg\";","export default __webpack_public_path__ + \"static/media/pasino-ellipse.83311b6f.svg\";","export default __webpack_public_path__ + \"static/media/fortuneCenter.a19cc1ce.svg\";","import { useWindowSize } from \"providers\";\r\nimport React, { useEffect, MutableRefObject, useCallback, useRef } from \"react\";\r\n\r\nimport { useFortuneControl } from \"./../../../pages/Fortune/components/ControlPanel/reducer/index\";\r\n\r\ninterface IUseRAF {\r\n  elementRef: MutableRefObject<HTMLDivElement[]>;\r\n  startPosition: number | null;\r\n  result: number | null;\r\n  itemsLength: number;\r\n  setIsSpinning: (value: boolean) => void;\r\n  isSpinning: boolean;\r\n  spinningTime: string;\r\n}\r\n\r\nconst animationDuration = 130;\r\nconst animateIntervalTime = 18;\r\nconst animateSpeed = 3;\r\nconst tick =\r\n  (360 / 54 / animationDuration) * animateIntervalTime * animateSpeed;\r\nconst resultTick = 0.1240029 * animateIntervalTime;\r\n\r\nconst rotateElements = (elements: HTMLDivElement[], angle: number | null) => {\r\n  if (angle !== null) {\r\n    for (let i = 0; i < elements.length; i++) {\r\n      elements[i].style.transform = `rotate(${angle}deg) scale(0.99)`;\r\n    }\r\n  }\r\n};\r\nconst useRAF = ({\r\n  elementRef,\r\n  startPosition,\r\n  result,\r\n  itemsLength,\r\n  setIsSpinning,\r\n  isSpinning,\r\n  spinningTime,\r\n}: IUseRAF) => {\r\n  const animationFrameRef = useRef<any>(null);\r\n  const spinningTimeRef = useRef<string | null>(null);\r\n\r\n  const tickRef = useRef<number>(tick);\r\n  const tickInterval = useRef<any>(null);\r\n\r\n  const positionRef = useRef<number | null>(null);\r\n  const endPositionRef = useRef<number | null>(null);\r\n\r\n  const reset = () => {\r\n    positionRef.current = endPositionRef.current || 0;\r\n    rotateElements(elementRef.current, positionRef.current);\r\n    setIsSpinning(false);\r\n    spinningTimeRef.current = null;\r\n    endPositionRef.current = null;\r\n    tickRef.current = tick;\r\n    clearInterval(tickInterval.current);\r\n    cancelAnimationFrame(animationFrameRef.current);\r\n  };\r\n  const animationCallback = useCallback((tick: number) => {\r\n    if (positionRef.current === null) return;\r\n    if (positionRef.current + tick >= 360) {\r\n      positionRef.current = 0;\r\n    } else {\r\n      positionRef.current += tick;\r\n    }\r\n\r\n    rotateElements(elementRef.current, positionRef.current);\r\n  }, []);\r\n\r\n  const animate = useCallback(\r\n    (time: number) => {\r\n      if (positionRef.current === null) return;\r\n      if (\r\n        result !== null &&\r\n        endPositionRef.current !== null &&\r\n        endPositionRef.current - positionRef.current >= 0 &&\r\n        positionRef.current + tickRef.current >= endPositionRef.current\r\n      ) {\r\n        reset();\r\n        return;\r\n      }\r\n      animationCallback(tickRef.current);\r\n      if (isSpinning) {\r\n        animationFrameRef.current = requestAnimationFrame(animate);\r\n      }\r\n    },\r\n    [result, isSpinning],\r\n  );\r\n\r\n  useEffect(() => {\r\n    positionRef.current = startPosition;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!spinningTime) {\r\n      tickRef.current = tick;\r\n      return;\r\n    }\r\n    tickInterval.current !== null && clearInterval(tickInterval.current);\r\n    spinningTimeRef.current = spinningTime || null;\r\n\r\n    if (result === null && spinningTimeRef.current !== null) {\r\n      tickRef.current *= 0.9;\r\n      tickInterval.current = setInterval(() => {\r\n        tickRef.current *= 0.9;\r\n      }, 1000);\r\n    }\r\n    return () => {\r\n      clearInterval(tickInterval.current);\r\n    };\r\n  }, [spinningTime, result]);\r\n\r\n  useEffect(() => {\r\n    if (!elementRef.current) return;\r\n\r\n    if (result !== null && positionRef.current !== null) {\r\n      endPositionRef.current = 360 - (360 * result) / itemsLength;\r\n      if (endPositionRef.current === startPosition) {\r\n        setIsSpinning(false);\r\n        endPositionRef.current = null;\r\n        clearInterval(tickInterval.current);\r\n        return;\r\n      }\r\n\r\n      // tickRef.current = resultTick;\r\n    }\r\n    cancelAnimationFrame(animationFrameRef.current);\r\n    animationFrameRef.current = requestAnimationFrame(animate);\r\n    return () => {\r\n      cancelAnimationFrame(animationFrameRef.current);\r\n    };\r\n  }, [startPosition, result, isSpinning]);\r\n};\r\n\r\nexport default useRAF;\r\n","export default __webpack_public_path__ + \"static/media/fortuneDesktop.ab37e58e.png\";","import React, { CSSProperties, FC, useRef } from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { FortuneGameData } from \"pages/Fortune/config\";\r\n\r\nimport light from \"../../assets/fortune/light.png\";\r\nimport arrow from \"../../assets/fortune/pasino-arrow.svg\";\r\nimport logo from \"../../assets/fortune/pasino-logo.svg\";\r\nimport ellipse from \"../../assets/fortune/pasino-ellipse.svg\";\r\nimport center from \"../../assets/fortune/fortuneCenter.svg\";\r\nimport useRAF from \"./hooks/useRAF\";\r\n\r\nimport css from \"./style.module.scss\";\r\nimport { useFortuneControl } from \"pages/Fortune/components/ControlPanel/reducer\";\r\nimport { fortuneActionNames } from \"pages/Fortune/components/ControlPanel/reducer/actions/types\";\r\nimport { useWindowSize } from \"providers\";\r\nimport bgDesktop from \"./fortuneDesktop.png\";\r\nimport bgMobile from \"./fortuneDesktop.png\";\r\n\r\ninterface Props {\r\n  startPosition: number | null;\r\n}\r\n\r\nexport type Decorations = \"light\" | \"rhombus\";\r\nexport const decorationArrays = {\r\n  light: new Array(16).fill(1),\r\n  rhombus: new Array(46).fill(1),\r\n};\r\n\r\nexport const FortuneGame: FC<Props> = ({ startPosition, children }) => {\r\n  const elementRef = useRef<HTMLDivElement[]>([]);\r\n\r\n  const { controlState, controlDispatch } = useFortuneControl();\r\n  const { result, spinningTime, isSpinning } = controlState;\r\n  const { isMobile } = useWindowSize();\r\n\r\n  const items = FortuneGameData;\r\n\r\n  const setIsSpinning = (value: boolean) => {\r\n    controlDispatch({\r\n      type: fortuneActionNames.SET_IS_SPINNING,\r\n      payload: { isSpinning: value },\r\n    });\r\n  };\r\n\r\n  useRAF({\r\n    elementRef,\r\n    startPosition,\r\n    result,\r\n    itemsLength: items.length,\r\n    setIsSpinning,\r\n    isSpinning,\r\n    spinningTime,\r\n  });\r\n\r\n  const renderDecorations = (\r\n    element: Decorations,\r\n    decorationComponent: string,\r\n    i: number,\r\n  ) => {\r\n    return (\r\n      <div\r\n        className={clsx(css[`${element}Container`], css.transition)}\r\n        style={{\r\n          [`--fortune-nb-${element}`]: decorationArrays[element].length,\r\n        }}>\r\n        {decorationArrays[element].map((_, index) => {\r\n          return (\r\n            <div\r\n              className={css[`${element}Wrapper`]}\r\n              style={{ [`--fortune-${element}-nb`]: index }}\r\n              key={index}>\r\n              <img\r\n                className={clsx(\r\n                  css[`${element}`],\r\n                  index % 2 && css[`${element}D`],\r\n                )}\r\n                src={decorationComponent}\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={css.wheelContainer}>\r\n      {children}\r\n\r\n      <div\r\n        className={css.wheel}\r\n        ref={(node) => {\r\n          if (node) elementRef.current[0] = node;\r\n        }}>\r\n        {renderDecorations(\"light\", light, 1)}\r\n        <img className={css.img} src={isMobile ? bgMobile : bgDesktop} alt=\"\" />\r\n      </div>\r\n\r\n      {isMobile ? (\r\n        <img className={css.fortuneEllipse} src={center} />\r\n      ) : (\r\n        <>\r\n          <img className={css.fortuneEllipse} src={ellipse} />\r\n          <img className={css.arrow} src={arrow} />\r\n          <img className={css.arrow} src={logo} />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"sourceRoot":""}