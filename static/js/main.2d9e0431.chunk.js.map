{"version":3,"sources":["components/ProductCard/ProductCard.module.css","redux/reducers/BasketReducer/BasketOrderType.ts","redux/reducers/BasketReducer/BasketReducer.tsx","redux/reducers/ProductContentReducer/ProductType.ts","redux/reducers/ProductContentReducer/ProductContentReducer.tsx","routing/routes.ts","redux/reducers/allActionCreators.tsx","hooks/useAC.tsx","components/Basket/Order.tsx","hooks/useTypedSelector.tsx","pages/Basket.tsx","components/ProductCard/ProductCardModal/ProductCardModal.tsx","components/ProductCard/ProductCard.tsx","pages/ProductContent.tsx","components/AppRouter/AppRouter.tsx","components/Navbar/Navbar.tsx","App.tsx","redux/store.tsx","index.tsx"],"names":["module","exports","BasketActionName","InitalState","orders","totalPrice","ProductActionName","BasketActionCreators","setOrder","order","type","SET_ORDER","setOrders","SET_ORDERS","removeOrder","REMOVE_ORDER","setTotalPrice","SET_TOTAL_PRICE","localStorageOrders","dispatch","localStorage","getItem","json","JSON","parse","push","setItem","stringify","jsonTotalPrice","Number","acceptOrders","clear","deleteOrderThunk","i","length","productName","splice","InitialState","products","RoutePath","ProductActionCreactors","setProducts","SET_PRODUCTS","getProductsThunk","img","price","inBasket","pushProduct","product","PUSH_PRODUCT","allActionCreators","useActionCreators","useDispatch","bindActionCreators","Order","props","countValue","className","src","alt","style","textAlign","marginRight","fontSize","fontWeight","CloseOutlined","onClick","cursor","UseTypedSelector","useSelector","Basket","state","storage","map","width","height","paddingTop","color","size","danger","ProductCardModal","useState","setCountValue","title","visible","isModalVisible","onOk","setIsModalVisible","okText","cancelText","onCancel","Value","shape","icon","PlusOutlined","downValue","MinusOutlined","ProductCard","btn","setBtn","useEffect","j","showModal","item","hoverable","display","flexDirection","alignItems","flex","cover","CardImg","description","marginBottom","disabled","ProductContent","Routes","path","BASKET","component","exact","PRODUCT_CONTENT","AppRouter","route","to","Navbar","router","useHistory","Header","justify","align","theme","mode","selectable","Item","HomeOutlined","ShoppingOutlined","App","Reducers","combineReducers","action","e","filter","store","createStore","applyMiddleware","thunk","ReactDOM","render","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.2d9e0431.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"CardImg\":\"ProductCard_CardImg__2bEm5\"};","import { IOrder } from './../../../types/order';\r\nexport interface IBasketState{\r\n    orders: IOrder[],\r\n    totalPrice: number\r\n}\r\n\r\nexport enum BasketActionName{\r\n    SET_ORDER= \"SET_ORDER\",\r\n    SET_ORDERS= \"SET_ORDERS\",\r\n    SET_TOTAL_PRICE= \"SET_TOTAL_PRICE\",\r\n    REMOVE_ORDER= \"REMOVE_ORDER\"\r\n}\r\n\r\nexport interface SetOrderAction{\r\n    type: BasketActionName.SET_ORDER\r\n    order: IOrder\r\n}\r\nexport interface SetOrdersAction{\r\n    type: BasketActionName.SET_ORDERS\r\n    orders: IOrder[]\r\n}\r\nexport interface removeOrder{\r\n    type: BasketActionName.REMOVE_ORDER\r\n    order: IOrder\r\n}\r\nexport interface setTotalPrice{\r\n    type: BasketActionName.SET_TOTAL_PRICE\r\n    totalPrice: number\r\n}\r\n\r\n\r\nexport type BasketActions = SetOrderAction | SetOrdersAction | removeOrder | setTotalPrice","import { IOrder} from \"../../../types/order\"\r\nimport { AppDispatch } from \"../../store\";\r\nimport { BasketActionName, BasketActions, IBasketState } from \"./BasketOrderType\"\r\n\r\nconst InitalState:IBasketState = {\r\n    orders: [],\r\n    totalPrice: 0\r\n}\r\n\r\nexport function BasketReducer(state = InitalState, action:BasketActions){\r\n// debugger\r\n    switch (action.type) {\r\n\r\n        case BasketActionName.SET_ORDER:\r\n            return {...state, orders: [...state.orders, action.order],totalPrice: Number(state.totalPrice) + Number(action.order.totalPrice) }\r\n\r\n            break;\r\n        case BasketActionName.SET_ORDERS:\r\n\r\n            return {...state, orders:[...action.orders]}\r\n        case BasketActionName.SET_TOTAL_PRICE:\r\n\r\n            return {...state, totalPrice: action.totalPrice}\r\n        case BasketActionName.REMOVE_ORDER:\r\n            return {...state,\r\n                orders: state.orders.filter((order)=>order.productName != action.order.productName), totalPrice: Number(state.totalPrice) - Number(action.order.totalPrice)}\r\n        default:\r\n            return state;\r\n            break;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport const BasketActionCreators={\r\n    setOrder: (order:IOrder):BasketActions=>({type: BasketActionName.SET_ORDER, order }),\r\n    setOrders: (orders:IOrder[]):BasketActions=>({type: BasketActionName.SET_ORDERS, orders }),\r\n    removeOrder:(order:IOrder):BasketActions=>({type: BasketActionName.REMOVE_ORDER, order}),\r\n    setTotalPrice:(totalPrice: number):BasketActions=>({type: BasketActionName.SET_TOTAL_PRICE,totalPrice }),\r\n\r\n    localStorageOrders:(order:IOrder)=>(dispatch:AppDispatch)=>{\r\n            const orders = localStorage.getItem('orders') || '[]';\r\n            const json = JSON.parse(orders) as IOrder[];\r\n\r\n            json.push(order)\r\n            dispatch(BasketActionCreators.setOrder(order))\r\n            localStorage.setItem('orders', JSON.stringify(json))\r\n            const totalPrice = localStorage.getItem('totalPrice') || '0';\r\n        const jsonTotalPrice = JSON.parse(totalPrice);\r\n        localStorage.setItem('totalPrice', JSON.stringify(Number(jsonTotalPrice) + Number(order.totalPrice)))\r\n        dispatch(BasketActionCreators.setTotalPrice(Number(jsonTotalPrice) + Number(order.totalPrice)))\r\n\r\n    },\r\n    acceptOrders:()=>(dispatch:AppDispatch)=>{\r\n        //axios\r\n        localStorage.clear();\r\n        dispatch(BasketActionCreators.setOrders([]));\r\n    },\r\n    deleteOrderThunk:(order:IOrder)=>(dispatch:AppDispatch)=>{\r\n        const orders = localStorage.getItem('orders') || '[]';\r\n\r\n        const json = JSON.parse(orders) as IOrder[];\r\n        for(let i = 0; i <json.length; i++){\r\n            if ( json[i].productName === order.productName ) {\r\n                json.splice(i,1);\r\n            }\r\n        }\r\n        localStorage.setItem('orders', JSON.stringify(json))\r\n        dispatch(BasketActionCreators.removeOrder(order))\r\n        const totalPrice = localStorage.getItem('totalPrice') || '0';\r\n        const jsonTotalPrice = JSON.parse(totalPrice);\r\n        localStorage.setItem('totalPrice', JSON.stringify(Number(jsonTotalPrice) - Number(order.totalPrice)))\r\n        dispatch(BasketActionCreators.setTotalPrice(Number(jsonTotalPrice) - Number(order.totalPrice)))\r\n    }\r\n\r\n}","import { IProduct } from '../../../types/product';\r\n\r\n\r\nexport interface IProductState{\r\n    products: IProduct[],\r\n    // totalProductsPrice: number\r\n}\r\n\r\nexport interface IPushProduct{\r\n    productName: string;\r\n    totalPrice: number;\r\n    inBasket:boolean;\r\n\r\n}\r\n\r\nexport enum ProductActionName{\r\n    SET_PRODUCTS = \"SET_PRODUCTS\",\r\n    PUSH_PRODUCT = \"SET_PRODUCT\"\r\n}\r\n\r\nexport interface SetProducts{\r\n    type: ProductActionName.SET_PRODUCTS;\r\n    products: IProduct[]\r\n\r\n}\r\nexport interface pushProduct{\r\n    type: ProductActionName.PUSH_PRODUCT;\r\n    product: IProduct\r\n\r\n}\r\n\r\n\r\nexport type ProductAction = SetProducts | pushProduct\r\n","import axios from \"axios\";\r\nimport { IProduct } from \"../../../types/product\";\r\nimport { AppDispatch } from \"../../store\";\r\nimport { IProductState, ProductAction, ProductActionName } from \"./ProductType\";\r\n\r\n\r\n\r\nconst InitialState:IProductState = {\r\n    products: [],\r\n    // totalProductsPrice: 0\r\n\r\n}\r\n\r\nexport default function ProductContentReducer(state= InitialState, action:ProductAction ){\r\n\r\n    // debugger\r\n    switch (action.type) {\r\n        case ProductActionName.SET_PRODUCTS:\r\n            return {...state, products: [...action.products]}\r\n            break;\r\n        case ProductActionName.PUSH_PRODUCT:\r\n\r\n\r\n\r\n            return {\r\n                ...state,\r\n                products: state.products.map((e) => {\r\n                    if (e.productName === action.product.productName) {\r\n                        return { ...e, inBasket: e.inBasket = action.product.inBasket};\r\n                    };\r\n                    return e;\r\n                }),\r\n                // totalProductsPrice: Number(state.totalProductsPrice) + Number(action.product.totalPrice)\r\n            }\r\n        default:\r\n            return state\r\n            break;\r\n    }\r\n}\r\n\r\n\r\nexport const ProductActionCreactors ={\r\n    setProducts:(products:IProduct[]):ProductAction =>({type:ProductActionName.SET_PRODUCTS, products}),\r\n    getProductsThunk:()=>(dispatch: AppDispatch)=>{\r\n        // axios.get<IProduct[]>().then((response)=>{\r\n        //    dispatch(ProductActionCreactors.setProducts(response.data))\r\n        // });\r\n        const response = [\r\n            {productName:\"Банан\",\r\n                img:\"https://ambassador-city-jomtien.ru/uploads/posts/2014-06/1402862895_banana2.jpg\",\r\n                price:10, inBasket:false},\r\n            {productName:\"Яблоко\",\r\n                img:\"https://img3.zakaz.ua/upload.version_1.0.4f1f0c8dc6cf9362a789bf80d070ccf6.1350x1350.jpeg\",\r\n                price:8, inBasket:false},\r\n            {productName:\"Папайя\",\r\n                img:\"https://img3.zakaz.ua/src.1607469352.ad72436478c_2020-12-09_Aliona/src.1607469352.SNCPSG10.obj.0.1.jpg.oe.jpg.pf.jpg.1350nowm.jpg.1350x.jpg\",\r\n                price:10, inBasket:false}\r\n        ];\r\n        dispatch(ProductActionCreactors.setProducts(response));\r\n\r\n    },\r\n    pushProduct:(product:IProduct):ProductAction=>({type: ProductActionName.PUSH_PRODUCT, product}) //axios\r\n}","import Basket from \"../pages/Basket\";\r\nimport ProductContent from \"../pages/ProductContent\";\r\n\r\n\r\n\r\nexport interface IRoute{\r\n    path: string;\r\n    component: React.ComponentType;\r\n    exact: boolean;\r\n}\r\n\r\nexport enum RoutePath{\r\n    BASKET= '/basket',\r\n    PRODUCT_CONTENT='/productContent'\r\n\r\n}\r\n\r\nexport const Routes:IRoute[] = [\r\n\r\n    {path: RoutePath.BASKET, component: Basket, exact: true},\r\n    {path: RoutePath.PRODUCT_CONTENT, component: ProductContent, exact: true}\r\n]","import { BasketActionCreators } from \"./BasketReducer/BasketReducer\";\r\nimport { ProductActionCreactors } from \"./ProductContentReducer/ProductContentReducer\";\r\n\r\n\r\nexport const allActionCreators = {\r\n    ...ProductActionCreactors,\r\n    ...BasketActionCreators\r\n}","import { allActionCreators } from '../redux/reducers/allActionCreators';\r\nimport { useDispatch } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nexport const useActionCreators = () =>{\r\n    const dispatch = useDispatch();\r\n    return bindActionCreators(allActionCreators, dispatch);\r\n}","import { CloseOutlined } from '@ant-design/icons'\r\nimport React, { FC } from 'react'\r\nimport { useActionCreators } from '../../hooks/useAC'\r\nimport { IOrder } from '../../types/order'\r\n\r\nconst Order: FC<IOrder> = (props) => {\r\nconst {deleteOrderThunk} = useActionCreators()\r\nconst { img,\r\n    productName,\r\n    price,\r\n    countValue,\r\n    totalPrice,\r\n    inBasket} = props\r\n\r\n    return (\r\n        <div className='Orders_item' >\r\n            <div className='Orders_item__img'>\r\n                <img src={img} alt=\"\" />\r\n            </div>\r\n            <div style={{textAlign:'center', marginRight:'25%', }}>\r\n            <div className='Orders_item__title' style={{fontSize: '24px', fontWeight:'bold' }}>\r\n                {productName}\r\n            </div>\r\n            <div className='Orders_item__Price' style={{fontSize: '18px'}}>\r\n               Цена ${price}\r\n            </div>\r\n\r\n            </div>\r\n\r\n            <div className='Orders_item__TotalPrice' style={{fontSize:'50px', fontWeight:'bolder'}}>\r\n                ${totalPrice}\r\n            </div>\r\n            <div className='Orders_item__deleteBtn'>\r\n            <CloseOutlined onClick={()=> deleteOrderThunk({img,\r\n    productName,\r\n    price,\r\n    countValue,\r\n    totalPrice,\r\n    inBasket})} className='Delete_Btn' style={{fontSize:'40px', cursor:'pointer'}} />\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Order\r\n","import { TypedUseSelectorHook, useSelector } from \"react-redux\";\r\nimport { RootState } from \"../redux/store\"\r\n\r\nexport const UseTypedSelector: TypedUseSelectorHook<RootState> = useSelector","import { Button } from 'antd'\r\nimport { FC} from 'react'\r\nimport Order from '../components/Basket/Order'\r\nimport { useActionCreators } from '../hooks/useAC'\r\nimport { UseTypedSelector } from '../hooks/useTypedSelector'\r\n\r\n\r\n\r\n\r\nconst Basket: FC = () => {\r\n    const { orders, totalPrice } = UseTypedSelector(state => state.Basket)\r\n    const { acceptOrders } = useActionCreators()\r\n    const accept = () => {\r\n        acceptOrders()\r\n    }\r\n    const storage = localStorage.getItem('orders') || '[]';\r\n    const json = JSON.parse(storage)\r\n\r\n\r\n    return (\r\n\r\n        <div className='Basket_content container'>\r\n\r\n            <div className='Orders_flex'>\r\n                {orders.length > 0 ?\r\n                    orders.map((order) => <Order {...order} />)\r\n                    :\r\n                    <div style={{width:'100%', height:'100%', textAlign:'center', paddingTop:'30%'}}><h1> У вас нету товаров в корзине:(</h1></div>\r\n                }\r\n                <div className='Order_item'>\r\n                <div className='Order_item__title'>\r\n                {json.length > 0 ?\r\n                    <h1 style={{color:'goldenrod'}}>{'Сума к оплате: $'+ totalPrice}</h1> : null\r\n                }\r\n                </div>\r\n                <div>\r\n                {json.length > 0 ?\r\n                    <Button size='large' style={{marginRight:'25px'}} onClick={() => accept()} danger>Оформить заказ</Button> : null\r\n                }\r\n                </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Basket\r\n\r\n","import { Button, Modal } from 'antd';\r\nimport React, { FC, useState } from 'react'\r\nimport { IProduct } from '../../../types/product';\r\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport { useActionCreators } from '../../../hooks/useAC';\r\n\r\n\r\ninterface IModal {\r\n    isModalVisible: boolean;\r\n    setIsModalVisible: React.Dispatch<React.SetStateAction<boolean>>;\r\n    product: IProduct;\r\n}\r\n\r\nconst ProductCardModal: FC<IModal> = (props) => {\r\n    const { img, price, productName } = props.product\r\n    const [countValue, setCountValue] = useState<number>(1)\r\n    const [totalPrice, setTotalPrice] = useState<number>(price)\r\n    const { localStorageOrders, pushProduct } = useActionCreators()\r\n\r\n    const handleOk = () => {\r\n        if (countValue === 0) return; //warn\r\n        props.setIsModalVisible(false);\r\n        localStorageOrders({ img, productName, countValue, totalPrice, price, inBasket: true });\r\n        pushProduct({ productName, img, price, totalPrice, inBasket: true })\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        props.setIsModalVisible(false);\r\n    };\r\n\r\n\r\n    const upValue = () => {\r\n        setCountValue((Value) => Value + 1)\r\n        if ((countValue + 1) % 3 === 0) {\r\n            setTotalPrice((totalPrice) => totalPrice = Number(totalPrice) + (Number(price) / 2))\r\n            return\r\n        }\r\n        setTotalPrice((totalPrice) => totalPrice = Number(totalPrice) + Number(price))\r\n\r\n    }\r\n    const downValue = () => {\r\n        if (countValue > 1) {\r\n            setCountValue((Value) => Value - 1)\r\n            if ((countValue) % 3 === 0) {\r\n                setTotalPrice((totalPrice) => totalPrice = Number(totalPrice) - (Number(price) / 2))\r\n                return\r\n            }\r\n\r\n            setTotalPrice((totalPrice) => totalPrice = Number(totalPrice) - Number(price))\r\n        }\r\n\r\n\r\n    }\r\n    return (\r\n        <>\r\n            <Modal title=\"Заказ\" visible={props.isModalVisible} onOk={() => handleOk()} okText='Добавить в корзину' cancelText='Отмена' onCancel={handleCancel}>\r\n                <div className='ModalContent'>\r\n                    <div className=\"ModalContent__info\">\r\n                        <div>\r\n                            <img src={img} alt=\"\" />\r\n                        </div>\r\n                        <div>\r\n                            <span>{productName}</span>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"ModalContent__PriceInfo\">\r\n                        <div className=\"ModalContent__PriceInfo__item\">\r\n                            <Button onClick={() => upValue()} type=\"primary\" shape=\"circle\" icon={<PlusOutlined />} />\r\n                        </div>\r\n                        <div className=\"ModalContent__PriceInfo__item\">\r\n                            <span>{countValue}</span>\r\n                        </div>\r\n                        <div className=\"ModalContent__PriceInfo__item\">\r\n                            <Button onClick={() => downValue()} type=\"primary\" shape=\"circle\" icon={<MinusOutlined />} />\r\n                        </div>\r\n                        <div className=\"ModalContent__PriceInfo__item\">\r\n                            <h1 style={{ fontWeight: 'normal' }}>Сумма</h1>\r\n                            <h2 style={{ fontWeight: 'bold', color: 'chocolate' }}>${totalPrice}</h2>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ProductCardModal\r\n","import { Button, Card, Col, Row } from 'antd'\r\nimport Meta from 'antd/lib/card/Meta'\r\nimport style from './ProductCard.module.css'\r\n\r\nimport { FC, useEffect, useState } from 'react'\r\nimport { IProduct } from '../../types/product'\r\nimport ProductCardModal from './ProductCardModal/ProductCardModal'\r\nimport { IOrder } from '../../types/order'\r\n\r\nconst ProductCard: FC<IProduct> = (props) => {\r\n\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n    const [btn, setBtn] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const orders = localStorage.getItem('orders') || '[]';\r\n        const json = JSON.parse(orders) as IProduct[];\r\n        if (json.length > 0) {\r\n            json.map((j) => {\r\n            if (j.productName === props.productName) {\r\n                setBtn(true)}\r\n        })\r\n        }\r\n\r\n        // console.log('PorductCard UseEffect')\r\n    })\r\n    const showModal = () => {\r\n        setIsModalVisible(true);\r\n\r\n    };\r\n    return (\r\n        <div className={style.item}>\r\n            <Card\r\n                hoverable\r\n                style={{ width: '300px', display: \"flex\", flexDirection: 'column', alignItems: 'center', flex: \"0 1 33.333%\" }}\r\n                cover={<div className={style.CardImg}><img alt=\"imgProduct\" src={props.img} /></div>}\r\n            >\r\n                <Meta title={props.productName} description={'$' + props.price} style={{ textAlign: 'center', marginBottom: '15px' }} />\r\n                {btn === true ?\r\n                    <Button disabled={true} type=\"dashed\" onClick={() => showModal()}> В корзине </Button>\r\n                    :\r\n                    <Button disabled={false} type=\"dashed\" danger onClick={() => showModal()}> Купить </Button>\r\n\r\n                }\r\n\r\n            </Card>\r\n\r\n            <ProductCardModal product={props} isModalVisible={isModalVisible} setIsModalVisible={setIsModalVisible} />\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default ProductCard\r\n","import { FC, useEffect } from 'react'\r\nimport ProductCard from '../components/ProductCard/ProductCard'\r\nimport { useActionCreators } from '../hooks/useAC'\r\nimport { UseTypedSelector } from '../hooks/useTypedSelector'\r\n\r\n\r\nconst ProductContent: FC = () => {\r\n\r\n  const { getProductsThunk } = useActionCreators()\r\n  const { products } = UseTypedSelector((state) => state.ProductContent)\r\n\r\n  useEffect(() => {\r\n    getProductsThunk()\r\n  }, [])\r\n\r\n  return (\r\n    <div className='container' >\r\n      <div className='ProductContent_items' style={{paddingTop:'20px'}} >\r\n        {products.map((product) => <ProductCard {...product} /> )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductContent\r\n","\r\n\r\n\r\nimport React from 'react'\r\nimport { Redirect, Route, Switch } from 'react-router'\r\nimport { RoutePath, Routes } from '../../routing/routes'\r\n\r\nconst AppRouter = () => {\r\n    return (\r\n        <Switch>\r\n            {Routes.map((route)=><Route path={route.path} component={route.component} exact={route.exact}/>)}\r\n            <Redirect to={RoutePath.PRODUCT_CONTENT}/>\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default AppRouter\r\n","\r\nimport { HomeOutlined, ShoppingOutlined } from '@ant-design/icons'\r\nimport { Layout, Menu, Row } from 'antd'\r\nimport React, { FC } from 'react'\r\nimport { useHistory } from 'react-router'\r\nimport { RoutePath } from '../../routing/routes'\r\n\r\nconst Navbar: FC = () => {\r\n\r\n    const router = useHistory()\r\n\r\n    return (\r\n        <Layout.Header>\r\n            <Row justify='space-between' className='container' align='middle'>\r\n\r\n                <Menu theme='dark' mode='horizontal' selectable={false}>\r\n                    <Menu.Item\r\n                        onClick={() => router.push(RoutePath.PRODUCT_CONTENT)}\r\n                        icon={<HomeOutlined style={{ fontSize: '2em', color: 'antiquewhite' }} />}\r\n                        key={1} >\r\n                    </Menu.Item>\r\n                </Menu>\r\n                <Menu theme='dark' mode='horizontal' selectable={false}>\r\n\r\n                    <Menu.Item\r\n                        onClick={() => router.push(RoutePath.BASKET)}\r\n                        icon={<ShoppingOutlined  className=\"Basket_icon\" style={{ fontSize: '2em', color: 'gold' }}  title='1'/>}\r\n                        key={1} >\r\n                    </Menu.Item>\r\n\r\n                </Menu>\r\n\r\n\r\n            </Row>\r\n        </Layout.Header>\r\n\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import { useEffect } from 'react';\nimport './App.css';\nimport AppRouter from \"./components/AppRouter/AppRouter\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport { useActionCreators } from './hooks/useAC';\nimport { IOrder } from './types/order';\n\nfunction App() {\n  const { setOrders, setTotalPrice } = useActionCreators()\n  useEffect(() => {\n    const orders = localStorage.getItem('orders') || '[]';\n    const totalPrice = localStorage.getItem('totalPrice') || '0';\n    const json = JSON.parse(orders) as IOrder[]\n    if (json.length>0) {\n      setOrders(json);\n      setTotalPrice(JSON.parse(totalPrice))\n    }\n\n\n  }, [])\n\n\n  return (\n    <div className=\"App\">\n      <Navbar />\n      <AppRouter />\n    </div>\n  );\n}\n\nexport default App;\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { BasketReducer } from \"./reducers/BasketReducer/BasketReducer\";\r\nimport ProductContentReducer from \"./reducers/ProductContentReducer/ProductContentReducer\";\r\n\r\nconst Reducers = combineReducers({\r\n    ProductContent: ProductContentReducer,\r\n    Basket: BasketReducer\r\n})\r\n\r\nconst store = createStore(Reducers, applyMiddleware(thunk))\r\n\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\nexport default store;","import ReactDOM from 'react-dom';\nimport App from './App';\nimport {HashRouter} from \"react-router-dom\";\nimport { Provider } from 'react-redux'\nimport store from './redux/store';\n\n\nReactDOM.render(\n    <HashRouter basename={process.env.PUBLIC_URL}>\n    <Provider store={store}>\n    <App />\n    </Provider>\n    </HashRouter>\n,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}