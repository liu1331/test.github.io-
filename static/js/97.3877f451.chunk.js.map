{"version":3,"sources":["components/LiveStats/components/Header/index.tsx","assets/icons/close-mui.svg","components/LiveStats/components/Header/style.module.scss"],"names":["anchor","x","y","setCoordinate","direction","coordinate","Header","box","handleClose","intl","useGetLocale","useState","isMove","setIsMove","headerRef","useRef","handleIsMoveSetTrue","handleIsMoveSetFalse","move","coordinateX","coordinateY","width","document","documentElement","clientWidth","height","clientHeight","targetData","getClientRects","left","top","maxWidth","maxHeight","Math","abs","getValueFromRange","style","transform","mouseMove","event","preventDefault","clientX","clientY","touchMove","changedTouches","touch","useEventListener","useEffect","addEventListener","removeEventListener","useTouchPreventDefault","current","className","css","root","onMouseDown","onTouchStart","ref","titleBox","title","formatMessage","id","closeIcon","onClick","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","fill","d","SvgCloseMui","_ref","svgRef","titleId","props","focusable","viewBox","ForwardRef","module","exports"],"mappings":"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","file":"static/js/97.3877f451.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useGetLocale } from \"providers\";\r\n\r\nimport { ReactComponent as CloseIcon } from \"assets/icons/close-mui.svg\";\r\n\r\nimport { useWindowSize } from \"providers\";\r\n\r\nimport { useTouchPreventDefault } from \"./useTouchPreventDefault\";\r\nimport css from \"./style.module.scss\";\r\nimport { getValueFromRange } from \"utils\";\r\nimport { useEventListener } from \"hooks\";\r\n\r\ninterface Props {\r\n  box: HTMLDivElement;\r\n  handleClose: () => void;\r\n}\r\n\r\nconst anchor = {\r\n  x: -1,\r\n  y: -1,\r\n};\r\nconst edge = 5;\r\n\r\nconst setCoordinate = (direction: \"x\" | \"y\", coordinate: number) => {\r\n  return coordinate - anchor[direction];\r\n};\r\n\r\nconst Header = ({ box, handleClose }: Props) => {\r\n  const intl = useGetLocale();\r\n\r\n  const [isMove, setIsMove] = useState(false);\r\n  const headerRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  const handleIsMoveSetTrue = () => setIsMove(true);\r\n  const handleIsMoveSetFalse = () => setIsMove(false);\r\n\r\n  const move = (coordinateX?: number, coordinateY?: number) => {\r\n    if (!coordinateX || !coordinateY) {\r\n      box.style.transform = `translate(${10}px, ${10}px)`;\r\n\r\n      return;\r\n    }\r\n\r\n    const width = document.documentElement.clientWidth;\r\n    const height = document.documentElement.clientHeight;\r\n\r\n    const targetData = box.getClientRects()[0];\r\n\r\n    let left = setCoordinate(\"x\", coordinateX);\r\n    let top = setCoordinate(\"y\", coordinateY);\r\n\r\n    const maxWidth = width - (edge + targetData.width);\r\n    const maxHeight = height - (edge + targetData.height);\r\n\r\n    if (anchor.x === -1 && anchor.y === -1) {\r\n      anchor.x = Math.abs(targetData.x - coordinateX);\r\n      anchor.y = Math.abs(targetData.y - coordinateY);\r\n\r\n      left = setCoordinate(\"x\", coordinateX);\r\n      top = setCoordinate(\"y\", coordinateY);\r\n    }\r\n\r\n    left = getValueFromRange(left, edge, maxWidth);\r\n    top = getValueFromRange(top, edge, maxHeight);\r\n\r\n    box.style.transform = `translate(${left}px, ${top}px)`;\r\n  };\r\n\r\n  const mouseMove = (event: MouseEvent) => {\r\n    event.preventDefault();\r\n\r\n    if (event) {\r\n      move(event.clientX, event.clientY);\r\n    }\r\n  };\r\n\r\n  const touchMove = (event: TouchEvent) => {\r\n    if (event && event.changedTouches[0]) {\r\n      const touch = event.changedTouches[0];\r\n      move(touch.clientX, touch.clientY);\r\n    }\r\n  };\r\n\r\n  useEventListener(\"resize\", () => {\r\n    move();\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (isMove) {\r\n      document.addEventListener(\"touchmove\", touchMove);\r\n      document.addEventListener(\"mousemove\", mouseMove);\r\n      document.addEventListener(\"mouseup\", handleIsMoveSetFalse);\r\n      document.addEventListener(\"touchend\", handleIsMoveSetFalse, false);\r\n    } else {\r\n      anchor.x = -1;\r\n      anchor.y = -1;\r\n      document.removeEventListener(\"mousemove\", mouseMove);\r\n      document.removeEventListener(\"touchmove\", touchMove);\r\n    }\r\n    return () => {\r\n      document.removeEventListener(\"mousemove\", mouseMove);\r\n      document.removeEventListener(\"touchmove\", touchMove);\r\n      document.removeEventListener(\"touchend\", handleIsMoveSetFalse, false);\r\n    };\r\n  }, [isMove]);\r\n\r\n  useTouchPreventDefault(headerRef.current);\r\n\r\n  return (\r\n    <div\r\n      className={css.root}\r\n      onMouseDown={handleIsMoveSetTrue}\r\n      onTouchStart={handleIsMoveSetTrue}\r\n      ref={headerRef}>\r\n      <div className={css.titleBox}>\r\n        <h1 className={css.title}>\r\n          {intl.formatMessage({ id: \"liveStats.title\" })}\r\n        </h1>\r\n      </div>\r\n\r\n      <CloseIcon\r\n        className={css.closeIcon}\r\n        onClick={handleClose}\r\n        onTouchStart={handleClose}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n});\n\nfunction SvgCloseMui(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    focusable: \"false\",\n    viewBox: \"0 0 24 24\",\n    \"aria-hidden\": \"true\",\n    \"data-testid\": \"CloseIcon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCloseMui);\nexport default __webpack_public_path__ + \"static/media/close-mui.71e27d52.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"style_root__eCVQl\",\"titleBox\":\"style_titleBox__YXplJ\",\"title\":\"style_title__2VxbN\",\"closeIcon\":\"style_closeIcon__RhedW\"};"],"sourceRoot":""}